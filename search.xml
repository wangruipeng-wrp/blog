<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>ã€ES6ã€‘æ‰©å±•çŸ¥è¯†</title>
    <url>/posts/18551/</url>
    <content><![CDATA[<blockquote>
<p>æœ¬æ–‡å°†ä»‹ç»ä¸€äº›å…³äºES6çš„æ¯”è¾ƒåŸºç¡€çš„æ¯”è¾ƒé›¶ç¢çš„çŸ¥è¯†ã€‚</p>
</blockquote>
<a id="more"></a>

<h1 id="æ¨¡æ¿å­—ç¬¦ä¸²"><a href="#æ¨¡æ¿å­—ç¬¦ä¸²" class="headerlink" title="æ¨¡æ¿å­—ç¬¦ä¸²"></a>æ¨¡æ¿å­—ç¬¦ä¸²</h1><p>æ¨¡æ¿å­—ç¬¦ä¸²åœ¨å­—ç¬¦ä¸²æ‹¼æ¥æ–¹é¢æ¯”èµ·ä»¥å‰è¦æ–¹ä¾¿å¾ˆå¤šã€‚æ¨¡æ¿å­—ç¬¦ä¸²çš„è¯­æ³•æ˜¯ä¸€å¯¹åå¼•å· ( `` ) </p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    name : <span class="string">'zhangsan'</span>,</span><br><span class="line">    age : <span class="number">20</span>,</span><br><span class="line"></span><br><span class="line">    say1() &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'æˆ‘å« '</span> + <span class="keyword">this</span>.name + <span class="string">'ï¼Œä»Šå¹´ '</span> + <span class="keyword">this</span>.age + <span class="string">' å²äº†'</span>);</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    say2() &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`æˆ‘å« <span class="subst">$&#123; <span class="keyword">this</span>.name &#125;</span>ï¼Œä»Šå¹´ <span class="subst">$&#123; <span class="keyword">this</span>.age &#125;</span> å²äº†`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj.say1();</span><br><span class="line">obj.say2();</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»¥ä¸Š say1 å’Œ say2 æ–¹æ³•æ‰“å°çš„æ•ˆæœå®Œå…¨ç›¸åŒ</span></span><br></pre></td></tr></table></figure>
<p>é¡ºå¸¦è¯´ä¸€ä¸‹ ES6 ä¸­ä¸€ä¸ªæ¯”è¾ƒæœ‰ç”¨çš„å­—ç¬¦ä¸²çš„æ–¹æ³• includes æ–¹æ³•ã€‚åˆ¤æ–­å­—ç¬¦ä¸²ä¸­æ˜¯å¦åŒ…å«äº†å…¶ä»–å­—ç¬¦ä¸²</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">'Hello World!'</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(str.includes(<span class="string">'o W'</span>));  <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<hr>
<h1 id="for-of-å¾ªç¯"><a href="#for-of-å¾ªç¯" class="headerlink" title="for-of å¾ªç¯"></a>for-of å¾ªç¯</h1><p>for-of å¾ªç¯ç±»ä¼¼äº Java ä¸­çš„ foreach å¾ªç¯ã€‚æ¥çœ‹ä»£ç ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="string">'zhangsan'</span>, <span class="string">'lisi'</span>, <span class="string">'wangwu'</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> name <span class="keyword">of</span> arr) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(name)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// zhangsan lisi wangwu</span></span><br></pre></td></tr></table></figure>
<p>ä¹Ÿå¯ä»¥ç”¨æ¥éå†å­—ç¬¦ä¸²</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">'Hello World!'</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> str) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Hello World!</span></span><br></pre></td></tr></table></figure>

<hr>
<h1 id="unicodeè¡¨ç¤ºæ³•"><a href="#unicodeè¡¨ç¤ºæ³•" class="headerlink" title="unicodeè¡¨ç¤ºæ³•"></a>unicodeè¡¨ç¤ºæ³•</h1><p>ES6 ä¹‹å‰ unicode ç ç‚¹ä»…å¯ä»¥è¡¨ç¤ºçš„èŒƒå›´æ˜¯ï¼ˆ0000 - ffffï¼‰è¶…å‡ºè¿™ä¸ªèŒƒå›´çš„å°†æ— æ³•è¡¨ç¤ºä¾‹å¦‚ emoji è¡¨æƒ…ã€‚ES6 ä¸­è¡¨ç¤º unicode çš„è¯­æ³•æ˜¯ <code>\u{ç ç‚¹}</code>ï¼Œè¿™æ ·å°±å¯ä»¥è¡¨ç¤ºè¶…å‡ºèŒƒå›´çš„ç ç‚¹ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">'\u&#123;1f436&#125;'</span>); <span class="comment">// ğŸ¶</span></span><br></pre></td></tr></table></figure>

<hr>
<h1 id="ç®­å¤´å‡½æ•°"><a href="#ç®­å¤´å‡½æ•°" class="headerlink" title="ç®­å¤´å‡½æ•°"></a>ç®­å¤´å‡½æ•°</h1><p>ç®­å¤´å‡½æ•°çš„æ ‡å¿—æ˜¯ä¸€ä¸ªç®­å¤´ <code>=&gt;</code> å°±æ˜¯è¿™ä¸ªæ ·å­ï¼Œç®­å¤´å‡½æ•°å¯ä»¥ç®€åŒ–å‡½æ•°çš„ä¹¦å†™è¿‡ç¨‹ï¼Œä½¿å¾—ä»£ç æ›´åŠ ç®€æ´ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> add1 = <span class="function">(<span class="params">a, b</span>) =&gt;</span> a + b;</span><br><span class="line"><span class="keyword">const</span> add2 = <span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">add1(<span class="number">2</span>, <span class="number">2</span>);</span><br><span class="line">add2(<span class="number">2</span>, <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// add1 å’Œ add2 æ‰§è¡Œçš„æ•ˆæœç›¸åŒ</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>å°æç¤ºï¼šå¦‚æœåªæœ‰ä¸€ä¸ªå‚æ•°çš„æƒ…å†µä¸‹æ˜¯å¯ä»¥ä¸ç”¨åŠ æ‹¬å¼§çš„å“¦</p>
</blockquote>
<p>ä¸Šé¢çš„ä»£ç ä¸­ä»…ä»…åªæ˜¯æ‰§è¡Œä¸€è¡Œä»£ç è€Œå·²ï¼Œå¦‚æœéœ€è¦æ‰§è¡Œå¤šè¡Œä»£ç ï¼Œé‚£ä¹ˆéœ€è¦åƒä¸‹é¢è¿™æ ·</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> add1 = <span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123;</span><br><span class="line">    a += <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> add2 = <span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    a += <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">add1(<span class="number">2</span>, <span class="number">2</span>);</span><br><span class="line">add2(<span class="number">2</span>, <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŒæ ·ï¼Œadd1 å’Œ add2 æ‰§è¡Œæ•ˆæœç›¸åŒ</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>å°æŠ€å·§ï¼šå¦‚æœæˆ‘ä»¬éœ€è¦æ‰§è¡Œä¸€ä¸ªæœ‰è¿”å›å€¼çš„å‡½æ•°ä½†æ˜¯åˆä¸éœ€è¦å‡½æ•°çš„è¿”å›å€¼ï¼Œå¯ä»¥åœ¨ç®­å¤´å‡½æ•°çš„å‡½æ•°ä½“å‰åŠ  void</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> pop = <span class="function"><span class="params">arr</span> =&gt;</span> <span class="keyword">void</span> arr.pop();</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="built_in">console</span>.log(pop(arr));  <span class="comment">// undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(arr);  <span class="comment">// 1,2</span></span><br></pre></td></tr></table></figure>

<h2 id="åŒºåˆ«æ™®é€šå‡½æ•°"><a href="#åŒºåˆ«æ™®é€šå‡½æ•°" class="headerlink" title="åŒºåˆ«æ™®é€šå‡½æ•°"></a>åŒºåˆ«æ™®é€šå‡½æ•°</h2><ol>
<li><p>æ²¡æœ‰ arguments å¯¹è±¡</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> log = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">log(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line"><span class="comment">// æŠ¥é”™ï¼šarguments is not defined</span></span><br></pre></td></tr></table></figure>
<p>å°æŠ€å·§ï¼šå¦‚æœéœ€è¦ä½¿ç”¨ arguments å¯¹è±¡å¯ä»¥ä½¿ç”¨ <code>...å‚æ•°å</code> çš„æ–¹å¼æ¥ä»£æ›¿ï¼Œè¿™é‡Œçš„ <code>...</code> æŒ‡çš„æ˜¯å‡½æ•°çš„å‰©ä½™å‚æ•°ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> log = <span class="function">(<span class="params">...args</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(args);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">log(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line"><span class="comment">// è¾“å‡º [1, 2, 3]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ²¡æœ‰ä¸“å±çš„ this å¯¹è±¡</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    name: <span class="string">'zhangsan'</span>,</span><br><span class="line">    say1() &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    say2: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj.say1(); <span class="comment">// obj å¯¹è±¡</span></span><br><span class="line">obj.say2(); <span class="comment">// window å¯¹è±¡</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>å¯ä»¥å°†ç®­å¤´å‡½æ•°çš„ this ç†è§£ä¸ºä¸Šä¸€çº§ç¯å¢ƒä¸­çš„ this</p>
</blockquote>
<p> å°æŠ€å·§ï¼šåœ¨å¼€å‘ä¸­ç»å¸¸éœ€è¦å»åœ¨å›è°ƒå‡½æ•°ä¸­å»è°ƒç”¨ä¸Šä¸€çº§çš„ this å¯¹è±¡ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬è¦å…ˆå°†ä¸Šä¸€çº§çš„ this å¯¹è±¡ä¿ç•™ä¸‹æ¥ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    name: <span class="string">'zhangsan'</span>,</span><br><span class="line">    age: <span class="literal">null</span>,</span><br><span class="line">    getAge() &#123;</span><br><span class="line">        <span class="keyword">let</span> _this = <span class="keyword">this</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä½¿ç”¨è®¡æ—¶å™¨æ¨¡æ‹Ÿå›è°ƒå‡½æ•°</span></span><br><span class="line">        setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            _this.age = <span class="number">20</span>;</span><br><span class="line">            <span class="built_in">console</span>.log(_this.age);</span><br><span class="line">        &#125;, <span class="number">1000</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj.getAge(); <span class="comment">// 20</span></span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„ä»£ç å¦‚æœä½¿ç”¨ç®­å¤´å‡½æ•°å¯ä»¥çœç•¥æ‰ <code>let _this = this</code> çš„è¿™ä¸€æ­¥</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    name: <span class="string">'zhangsan'</span>,</span><br><span class="line">    age: <span class="literal">null</span>,</span><br><span class="line">    getAge() &#123;</span><br><span class="line">        <span class="comment">// ä½¿ç”¨è®¡æ—¶å™¨æ¨¡æ‹Ÿå›è°ƒå‡½æ•°</span></span><br><span class="line">        setTimeout( <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">this</span>.age = <span class="number">20</span>;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="keyword">this</span>.age);</span><br><span class="line">        &#125;, <span class="number">1000</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj.getAge(); <span class="comment">// 20</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<hr>
<h1 id="å¯¹è±¡çš„ç®€æ´è¡¨ç¤ºæ³•"><a href="#å¯¹è±¡çš„ç®€æ´è¡¨ç¤ºæ³•" class="headerlink" title="å¯¹è±¡çš„ç®€æ´è¡¨ç¤ºæ³•"></a>å¯¹è±¡çš„ç®€æ´è¡¨ç¤ºæ³•</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä¸ä½¿ç”¨ç®€æ´è¡¨ç¤ºæ³•</span></span><br><span class="line"><span class="keyword">const</span> getUserInfo = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> name = <span class="string">'zhangsan'</span>,</span><br><span class="line">    <span class="keyword">const</span> age = <span class="number">20</span>,</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        name: name,</span><br><span class="line">        age: age,</span><br><span class="line">        say: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="keyword">this</span>.name + <span class="keyword">this</span>.age);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ç®€æ´è¡¨ç¤ºæ³•</span></span><br><span class="line"><span class="keyword">const</span> getUserInfo = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> name = <span class="string">'zhangsan'</span>,</span><br><span class="line">    <span class="keyword">const</span> age = <span class="number">20</span>,</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        name,</span><br><span class="line">        age,</span><br><span class="line">        say() &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="keyword">this</span>.name + <span class="keyword">this</span>.age);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="å¯¹è±¡çš„æ–°æ–¹æ³•å’Œæ–°å±æ€§"><a href="#å¯¹è±¡çš„æ–°æ–¹æ³•å’Œæ–°å±æ€§" class="headerlink" title="å¯¹è±¡çš„æ–°æ–¹æ³•å’Œæ–°å±æ€§"></a>å¯¹è±¡çš„æ–°æ–¹æ³•å’Œæ–°å±æ€§</h1><h2 id="Object-is"><a href="#Object-is" class="headerlink" title="Object.is"></a>Object.is</h2><blockquote>
<p>ç”¨æ¥åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸åŒï¼Œä¸ä¹‹å‰çš„åˆ¤æ–­ä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ä¸ªåŒºåˆ«</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.is(+<span class="number">0</span>, <span class="number">-0</span>));     <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(+<span class="number">0</span> === <span class="number">-0</span>);             <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.is(<span class="literal">NaN</span>, <span class="literal">NaN</span>));   <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">NaN</span> === <span class="literal">NaN</span>);           <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h2 id="Object-assign"><a href="#Object-assign" class="headerlink" title="Object.assign"></a>Object.assign</h2><blockquote>
<p>ç”¨æ¥åˆå¹¶å¯¹è±¡ã€‚æ³¨æ„ï¼šåˆå¹¶æ—¶ä»…ä»…æ˜¯æµ…æ‹·è´åˆå¹¶ï¼Œä¹Ÿå°±æ˜¯ä»…æ‹·è´å¯¹è±¡åœ¨æ ˆå†…å­˜ä¸­çš„åœ°å€ã€‚</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = <span class="built_in">Object</span>.assign(&#123;<span class="attr">a</span>:<span class="number">1</span>&#125;, &#123;<span class="attr">b</span>:<span class="number">2</span>&#125;, &#123;<span class="attr">c</span>:<span class="number">3</span>&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(obj);  <span class="comment">// &#123;a:1, b:2, c:3&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ…æ‹·è´ä¾‹å­ï¼š</span></span><br><span class="line"><span class="keyword">let</span> obj1 = &#123;<span class="attr">a</span>: <span class="number">1</span>&#125;</span><br><span class="line"><span class="keyword">let</span> obj2 = <span class="built_in">Object</span>.assign(obj1, &#123;<span class="attr">b</span>:<span class="number">2</span>&#125;)</span><br><span class="line"></span><br><span class="line">obj2.a = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(obj1);  <span class="comment">// &#123;a:100, b:2&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="Object-keysã€Object-valuesã€Object-entries"><a href="#Object-keysã€Object-valuesã€Object-entries" class="headerlink" title="Object.keysã€Object.valuesã€Object.entries"></a>Object.keysã€Object.valuesã€Object.entries</h2><blockquote>
<p>ç”¨æ¥å–å‡ºå¯¹è±¡ä¸­çš„é”®å’Œå€¼</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    a: <span class="number">1</span>,</span><br><span class="line">    b: <span class="number">2</span>,</span><br><span class="line">    c: <span class="number">3</span>,</span><br><span class="line">    d: <span class="number">4</span>,</span><br><span class="line">    e: <span class="number">5</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.keys(obj));      <span class="comment">// ['a','b','c','d','e']</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.values(obj));    <span class="comment">// [1,2,3,4,5]</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.entries(obj));   <span class="comment">// [['a',1], ['b',2], ['c',3], ['d',4], ['e',5]]</span></span><br></pre></td></tr></table></figure>

<hr>
<p>å¤§å®¶åŠ æ²¹ï¼šï¼‰</p>
]]></content>
      <categories>
        <category>JavaScriptåŸºç¡€</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€JavaScriptã€‘åˆ›å»ºå¯¹è±¡</title>
    <url>/posts/15655/</url>
    <content><![CDATA[<p>è¿™ç¯‡åšå®¢å°†ä¼šè®°å½•ä¸€ä¸‹jsä¸­åˆ›å»ºå¯¹è±¡çš„å‡ ç§ä¸åŒçš„æ–¹å¼ï¼Œåˆ†åˆ«æ˜¯å­—é¢å¼å£°æ˜ã€<code>new</code>å…³é”®å­—å£°æ˜ã€æ„é€ å‡½æ•°å£°æ˜ã€å·¥å‚æ¨¡å¼å£°æ˜ã€åŸå‹å£°æ˜ã€‚</p>
<a id="more"></a>

<h1 id="å­—é¢å¼å£°æ˜"><a href="#å­—é¢å¼å£°æ˜" class="headerlink" title="å­—é¢å¼å£°æ˜"></a>å­—é¢å¼å£°æ˜</h1><p>å£°æ˜æ ¼å¼ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ç›´æ¥å®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    name: <span class="string">'zhangsan'</span>,</span><br><span class="line">    age: <span class="number">18</span>,</span><br><span class="line">    </span><br><span class="line">    run: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; </span><br><span class="line">        <span class="keyword">return</span> <span class="string">"å§“åï¼š"</span> + <span class="keyword">this</span>.name + <span class="string">"å¹´é¾„ï¼š"</span> + <span class="keyword">this</span>.age;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨å±æ€§å’Œå‡½æ•°</span></span><br><span class="line">obj.name;</span><br><span class="line">obj.age;</span><br><span class="line">obj.run();</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="newå…³é”®å­—å£°æ˜"><a href="#newå…³é”®å­—å£°æ˜" class="headerlink" title="newå…³é”®å­—å£°æ˜"></a>newå…³é”®å­—å£°æ˜</h1><p><code>Object</code>å¯¹è±¡æ˜¯æ‰€æœ‰å¯¹è±¡çš„çˆ¶ç±»ï¼Œä¹Ÿç§°ä¸ºæ ¹ç±»ã€åŸºç±»ã€è¶…ç±»ã€‚jsä¸­çš„æ‰€æœ‰å¯¹è±¡éƒ½æ˜¯<code>Object</code>å¯¹è±¡çš„å»¶ä¼¸ï¼Œéƒ½æ˜¯<code>Object</code>çš„å­ç±»ã€‚</p>
<p>å£°æ˜æ ¼å¼ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">obj.å±æ€§ = å±æ€§å€¼;</span><br><span class="line">obj.å±æ€§ = å±æ€§å€¼;</span><br><span class="line">obj.å‡½æ•° = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    å‡½æ•°ä½“</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡"><a href="#æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡" class="headerlink" title="æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡"></a>æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºæ„é€ å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">obj</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">    <span class="keyword">this</span>.run = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"å§“åï¼š"</span> + <span class="keyword">this</span>.name + <span class="string">"å¹´é¾„ï¼š"</span> + <span class="keyword">this</span>.age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®ä¾‹åŒ–</span></span><br><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> obj();</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨å±æ€§å’Œæ–¹æ³•</span></span><br><span class="line">obj.name;</span><br><span class="line">obj.age;</span><br><span class="line">obj.run();</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="å·¥å‚æ¨¡å¼åˆ›å»ºå¯¹è±¡"><a href="#å·¥å‚æ¨¡å¼åˆ›å»ºå¯¹è±¡" class="headerlink" title="å·¥å‚æ¨¡å¼åˆ›å»ºå¯¹è±¡"></a>å·¥å‚æ¨¡å¼åˆ›å»ºå¯¹è±¡</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªå·¥å‚</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createObj</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">    obj.name = name;</span><br><span class="line">    obj.age = age;</span><br><span class="line">    obj.run = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"å§“åï¼š"</span> + <span class="keyword">this</span>.name + <span class="string">"å¹´é¾„ï¼š"</span> + <span class="keyword">this</span>.age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> obj;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é€šè¿‡å·¥å‚å®ä¾‹åŒ–å¯¹è±¡</span></span><br><span class="line"><span class="keyword">var</span> obj = createObj(<span class="string">'zhangsan'</span>, <span class="number">18</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨å±æ€§å’Œå‡½æ•°</span></span><br><span class="line">obj.name;</span><br><span class="line">obj.age;</span><br><span class="line">obj.run();</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="åŸå‹æ¨¡å¼åˆ›å»ºå¯¹è±¡"><a href="#åŸå‹æ¨¡å¼åˆ›å»ºå¯¹è±¡" class="headerlink" title="åŸå‹æ¨¡å¼åˆ›å»ºå¯¹è±¡"></a>åŸå‹æ¨¡å¼åˆ›å»ºå¯¹è±¡</h1><p>æ¦‚è¿°ï¼šå£°æ˜ä¸€ä¸ªç©ºçš„å‡½æ•°ï¼Œå†åˆ©ç”¨<code>prototype</code>å»å®šä¹‰å±æ€§å’Œå‡½æ•°ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å£°æ˜ç©ºå‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ©ç”¨prototypeå»å®šä¹‰å±æ€§å’Œå‡½æ•°</span></span><br><span class="line">fn.prototype.name = <span class="string">'zhangsan'</span>;</span><br><span class="line">fn.prototype.age = <span class="number">18</span>;</span><br><span class="line">fn.prototype.run = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"å§“åï¼š"</span> + <span class="keyword">this</span>.name + <span class="string">"å¹´é¾„ï¼š"</span> + <span class="keyword">this</span>.age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®ä¾‹åŒ–</span></span><br><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> fn();</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨å±æ€§å’Œæ–¹æ³•</span></span><br><span class="line">obj.name;</span><br><span class="line">obj.age;</span><br><span class="line">obj.run();</span><br></pre></td></tr></table></figure>

<p>ç¬¬äºŒç§æ–¹å¼ï¼šç›´æ¥ä½¿ç”¨ä¸€ä¸ªjsonå¯¹è±¡å®šä¹‰å±æ€§å’Œå‡½æ•°</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å£°æ˜ç©ºå‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ©ç”¨jsonå¯¹è±¡å®šä¹‰å±æ€§å’Œå‡½æ•°</span></span><br><span class="line">fn.prototype = &#123;</span><br><span class="line">    name: <span class="string">'zhangsan'</span>,</span><br><span class="line">    age: <span class="number">18</span>,</span><br><span class="line">    run: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"å§“åï¼š"</span> + <span class="keyword">this</span>.name + <span class="string">"å¹´é¾„ï¼š"</span> + <span class="keyword">this</span>.age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®ä¾‹åŒ–</span></span><br><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> fn();</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨å±æ€§å’Œæ–¹æ³•</span></span><br><span class="line">obj.name;</span><br><span class="line">obj.age;</span><br><span class="line">obj.run();</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="æ··åˆæ¨¡å¼"><a href="#æ··åˆæ¨¡å¼" class="headerlink" title="æ··åˆæ¨¡å¼"></a>æ··åˆæ¨¡å¼</h1><p>æ··åˆæ¨¡å¼æ˜¯<strong>æ„é€ æ¨¡å¼</strong>æ··åˆäº†<strong>åŸå‹æ¨¡å¼</strong>ä¸€èµ·åˆ›å»ºçš„å¯¹è±¡ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å£°æ˜ä¸€ä¸ªæ„é€ å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Obj</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŸå‹æ·»åŠ å±æ€§å’Œæ–¹æ³•</span></span><br><span class="line">Obj.prototype = &#123;</span><br><span class="line">    run: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"å§“åï¼š"</span> + <span class="keyword">this</span>.name + <span class="string">"å¹´é¾„ï¼š"</span> + <span class="keyword">this</span>.age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®ä¾‹åŒ–å¯¹è±¡</span></span><br><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> Obj(<span class="string">'zhangsan'</span>, <span class="number">18</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨å±æ€§å’Œæ–¹æ³•</span></span><br><span class="line">obj.name;</span><br><span class="line">obj.age;</span><br><span class="line">obj.run();</span><br></pre></td></tr></table></figure>

<hr>
<p>å¤§å®¶åŠ æ²¹ï¼šï¼‰</p>
]]></content>
      <categories>
        <category>JavaScriptåŸºç¡€</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>é¢å‘å¯¹è±¡</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€ES6ã€‘è§£æ„èµ‹å€¼</title>
    <url>/posts/53099/</url>
    <content><![CDATA[<blockquote>
<p>è§£æ„èµ‹å€¼è¯­æ³•æ˜¯ä¸€ä¸ª JavaScript è¡¨è¾¾å¼ï¼Œè¿™ä½¿å¾—å¯ä»¥å°† <strong>å€¼ä»æ•°ç»„</strong> æˆ– <strong>å±æ€§ä»å¯¹è±¡</strong> æå–åˆ°ä¸åŒå˜é‡ä¸­ã€‚</p>
</blockquote>
<a id="more"></a>

<h1 id="æ•°ç»„çš„è§£æ„èµ‹å€¼"><a href="#æ•°ç»„çš„è§£æ„èµ‹å€¼" class="headerlink" title="æ•°ç»„çš„è§£æ„èµ‹å€¼"></a>æ•°ç»„çš„è§£æ„èµ‹å€¼</h1><p>æ•°ç»„çš„è§£æ„èµ‹å€¼æ˜¯æœ‰åºçš„ï¼Œå°†ä¼šæŒ‰ç…§é¡ºåºå»åŒ¹é…</p>
<h4 id="ç®€å•çš„è§£æ„èµ‹å€¼"><a href="#ç®€å•çš„è§£æ„èµ‹å€¼" class="headerlink" title="ç®€å•çš„è§£æ„èµ‹å€¼"></a>ç®€å•çš„è§£æ„èµ‹å€¼</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="keyword">let</span> [a, b, c, d] = arr</span><br><span class="line"></span><br><span class="line"><span class="comment">// å˜é‡ a b c d çš„å€¼å°†ä¼šå¯¹åº”ä¸Šæ•°ç»„ä¸­çš„ 1 2 3 4</span></span><br></pre></td></tr></table></figure>
<p>åœ¨ ES6 ä¹‹å‰ï¼Œã€Œè§£æ„èµ‹å€¼ã€è¿˜æ²¡å‡ºç°çš„æ—¶å€™ï¼Œæƒ³è¦å®ç°ä»¥ä¸ŠåŠŸèƒ½åªèƒ½å¤Ÿä¸€ä¸ªä¸ªçš„å»å®šä¹‰ <code>a b c d</code> è¿™å››ä¸ªå˜é‡ã€‚å› æ­¤ï¼Œã€Œè§£æ„èµ‹å€¼ã€çš„å‡ºç°å°±æ˜¯ä¸ºäº†ç®€åŒ–ä¸€äº›ä»£ç çš„ç¼–å†™ï¼Œå®ç°æ›´åŠ é«˜æ•ˆçš„å¼€å‘ã€‚</p>
<h4 id="æ•°ç»„åµŒå¥—çš„è§£æ„èµ‹å€¼"><a href="#æ•°ç»„åµŒå¥—çš„è§£æ„èµ‹å€¼" class="headerlink" title="æ•°ç»„åµŒå¥—çš„è§£æ„èµ‹å€¼"></a>æ•°ç»„åµŒå¥—çš„è§£æ„èµ‹å€¼</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="string">'a'</span>, <span class="string">'b'</span>, [<span class="string">'c'</span>, <span class="string">'d'</span>, [<span class="string">'e'</span>, <span class="string">'f'</span><span class="string">'g'</span>]]]</span><br><span class="line"><span class="keyword">let</span> [, , [, , [, , g]]] = arr</span><br><span class="line"></span><br><span class="line"><span class="comment">// å˜é‡ g å°†å¯¹åº” arr ä¸­çš„å­—ç¬¦ g</span></span><br></pre></td></tr></table></figure>

<h4 id="æ‰©å±•è¿ç®—ç¬¦ï¼š"><a href="#æ‰©å±•è¿ç®—ç¬¦ï¼š" class="headerlink" title="æ‰©å±•è¿ç®—ç¬¦ï¼š ..."></a>æ‰©å±•è¿ç®—ç¬¦ï¼š <code>...</code></h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">const</span> arr2 = [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line"><span class="keyword">const</span> arr3 = [<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr4 = [...arr1, ...arr2, ...arr3]</span><br><span class="line"></span><br><span class="line"><span class="comment">// arr4 = [1, 2, 3, 4, 5, 6, 7, 8, 9]</span></span><br><span class="line"><span class="comment">// æ³¨æ„ï¼šarr4 å°†æ˜¯ä¸€ä¸ªä¸€ç»´æ•°ç»„è€Œä¸æ˜¯äºŒç»´æ•°ç»„</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="keyword">let</span> [a, b, ...c] = arr</span><br><span class="line"></span><br><span class="line"><span class="comment">// å˜é‡ c å°†å¯¹åº”æ•°ç»„ä¸­ c ä¹‹åçš„æ‰€æœ‰å€¼ç»„æˆçš„æ–°æ•°ç»„</span></span><br><span class="line"><span class="comment">// æ³¨æ„ï¼šè¿™ç§å†™æ³•æ‰©å±•è¿ç®—ç¬¦å¿…é¡»æ”¾åœ¨æœ€åä¸€ä½</span></span><br></pre></td></tr></table></figure>

<h4 id="é»˜è®¤å€¼"><a href="#é»˜è®¤å€¼" class="headerlink" title="é»˜è®¤å€¼"></a>é»˜è®¤å€¼</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="literal">undefined</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">let</span> [a, b = <span class="number">2</span>, c, d] = arr</span><br><span class="line"></span><br><span class="line"><span class="comment">// å˜é‡ a b c d å°†å¯¹åº”æˆ[1, 2, 3, undefined]</span></span><br><span class="line"><span class="comment">// æ²¡æœ‰åŒ¹é…åˆ°çš„å€¼å°†ä¼šé»˜è®¤ä¸º undefinedï¼ŒåŒ¹é…åˆ° undefined å°†ä¼šè‡ªåŠ¨èµ‹ä¸ºé»˜è®¤å€¼</span></span><br></pre></td></tr></table></figure>

<h4 id="æ•°ç»„è§£æ„èµ‹å€¼çš„ä½¿ç”¨"><a href="#æ•°ç»„è§£æ„èµ‹å€¼çš„ä½¿ç”¨" class="headerlink" title="æ•°ç»„è§£æ„èµ‹å€¼çš„ä½¿ç”¨"></a>æ•°ç»„è§£æ„èµ‹å€¼çš„ä½¿ç”¨</h4><ol>
<li><p><strong>äº¤æ¢å˜é‡</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">20</span>;</span><br><span class="line"><span class="keyword">let</span> b = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">[a, b] = [b, a];</span><br><span class="line"></span><br><span class="line"><span class="comment">// a = 10</span></span><br><span class="line"><span class="comment">// b = 20</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>æ¥æ”¶å‡½æ•°ä¸­çš„æ•°ç»„è¿”å›å€¼</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getUserInfo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> [</span><br><span class="line">        <span class="literal">true</span>,</span><br><span class="line">        &#123;</span><br><span class="line">            name: <span class="string">'zhangsan'</span>,</span><br><span class="line">            age: <span class="number">18</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">'è¯·æ±‚æˆåŠŸ'</span></span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> [status, data, msg] = getUserInfo()</span><br></pre></td></tr></table></figure>
</li>
</ol>
<hr>
<h1 id="å¯¹è±¡çš„è§£æ„èµ‹å€¼"><a href="#å¯¹è±¡çš„è§£æ„èµ‹å€¼" class="headerlink" title="å¯¹è±¡çš„è§£æ„èµ‹å€¼"></a>å¯¹è±¡çš„è§£æ„èµ‹å€¼</h1><p>å¯¹è±¡çš„è§£æ„èµ‹å€¼æ˜¯æ— åºçš„ï¼Œå°†ç›´æ¥æŒ‰ç…§å±æ€§åç§°å»åŒ¹é…</p>
<h4 id="ç®€å•çš„è§£æ„èµ‹å€¼-1"><a href="#ç®€å•çš„è§£æ„èµ‹å€¼-1" class="headerlink" title="ç®€å•çš„è§£æ„èµ‹å€¼"></a>ç®€å•çš„è§£æ„èµ‹å€¼</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">name</span>: <span class="string">'zhangsan'</span>, <span class="attr">age</span>: <span class="number">18</span>&#125;</span><br><span class="line"><span class="keyword">let</span> &#123;name, age&#125; = obj</span><br><span class="line"></span><br><span class="line"><span class="comment">// name : 'zhangsan'</span></span><br><span class="line"><span class="comment">// age : 18</span></span><br><span class="line"><span class="comment">// æŒ‰ç…§å±æ€§åç§°åŒ¹é…å¯¹åº”çš„å€¼</span></span><br></pre></td></tr></table></figure>

<h4 id="å¯¹è±¡ä¸æ•°ç»„åµŒå¥—çš„è§£æ„èµ‹å€¼"><a href="#å¯¹è±¡ä¸æ•°ç»„åµŒå¥—çš„è§£æ„èµ‹å€¼" class="headerlink" title="å¯¹è±¡ä¸æ•°ç»„åµŒå¥—çš„è§£æ„èµ‹å€¼"></a>å¯¹è±¡ä¸æ•°ç»„åµŒå¥—çš„è§£æ„èµ‹å€¼</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    name: <span class="string">'zhangsan'</span>,</span><br><span class="line">    age: <span class="number">18</span>,</span><br><span class="line">    hobby: [&#123;</span><br><span class="line">        hobbyName: <span class="string">'å¬æ­Œ'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        hobbyName: <span class="string">'çœ‹ç”µå½±'</span></span><br><span class="line">    &#125;]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123;</span><br><span class="line">    hobby:</span><br><span class="line">    [</span><br><span class="line">        &#123; <span class="attr">hobbyName</span>: name1 &#125;,</span><br><span class="line">        &#123; <span class="attr">hobbyName</span>: name2 &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125; = obj</span><br><span class="line"></span><br><span class="line"><span class="comment">// name1: 'å¬æ­Œ'</span></span><br><span class="line"><span class="comment">// name2: 'çœ‹ç”µå½±'</span></span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼š<code>hobby</code> åçš„â€œ:â€è·Ÿç€çš„æ˜¯ <code>obj</code> å¯¹è±¡ä¸­çš„ <code>hobby</code> æ•°ç»„ï¼Œ<code>hobbyName</code> åçš„â€œ:â€è·Ÿç€çš„æ˜¯ä¸ºäº†åŒºåˆ†ä¸¤ä¸ªåŒåçš„ <code>hobbyName</code> æ‰€èµ·çš„åˆ«å</p>
<h4 id="æ‰©å±•è¿ç®—ç¬¦ï¼š-1"><a href="#æ‰©å±•è¿ç®—ç¬¦ï¼š-1" class="headerlink" title="æ‰©å±•è¿ç®—ç¬¦ï¼š..."></a>æ‰©å±•è¿ç®—ç¬¦ï¼š<code>...</code></h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    name: <span class="string">'zhangsan'</span>,</span><br><span class="line">    age: <span class="number">18</span>,</span><br><span class="line">    sex: <span class="string">'ç”·'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> &#123;name, ...obj1&#125; = obj;</span><br><span class="line"></span><br><span class="line"><span class="comment">// obj å¯¹è±¡ä¸­çš„ age å’Œ sex å±æ€§å°†ä¼šè¢«å°è£…æˆ obj1 å¯¹è±¡</span></span><br><span class="line"><span class="comment">// æ³¨æ„ï¼šè¿™ç§æ–¹å¼ä½¿ç”¨çš„æ‰©å±•è¿ç®—ç¬¦åªèƒ½å¤Ÿæ”¾åœ¨æœ€åä¸€ä½</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> obj1 = &#123;</span><br><span class="line">    name: <span class="string">'zhangsan'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj2 = &#123;</span><br><span class="line">    age: <span class="number">18</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj3 = &#123;</span><br><span class="line">    sex: <span class="string">'ç”·'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj = &#123;...obj1, ...obj2, ...obj3&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¹è±¡ obj ä¸­ä¼šæœ‰ obj1-3 çš„å…¨éƒ¨å±æ€§</span></span><br><span class="line"><span class="comment">// æ³¨æ„ï¼šå¦‚æœå­˜åœ¨é‡åå±æ€§ï¼Œåé¢çš„ä¼šè¦†ç›–æ‰å‰é¢çš„</span></span><br></pre></td></tr></table></figure>

<h4 id="å¯¹å·²ç»å£°æ˜çš„å˜é‡è¿›è¡Œè§£æ„èµ‹å€¼"><a href="#å¯¹å·²ç»å£°æ˜çš„å˜é‡è¿›è¡Œè§£æ„èµ‹å€¼" class="headerlink" title="å¯¹å·²ç»å£°æ˜çš„å˜é‡è¿›è¡Œè§£æ„èµ‹å€¼"></a>å¯¹å·²ç»å£°æ˜çš„å˜é‡è¿›è¡Œè§£æ„èµ‹å€¼</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> age;</span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    name: <span class="string">'zhangsan'</span>,</span><br><span class="line">    age: <span class="number">18</span></span><br><span class="line">&#125;;</span><br><span class="line">(&#123; age &#125; = obj)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ³¨æ„ï¼šä»¥ä¸Šçš„è§£æ„èµ‹å€¼è¯­å¥å¦‚æœæ²¡æœ‰åŠ  () ä¼šè¢«è§†ä¸ºæ˜¯ä¸€ä¸ªä½œç”¨åŸŸè€ŒæŠ¥é”™</span></span><br></pre></td></tr></table></figure>

<h4 id="é»˜è®¤å€¼-1"><a href="#é»˜è®¤å€¼-1" class="headerlink" title="é»˜è®¤å€¼"></a>é»˜è®¤å€¼</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    name: <span class="string">'zhangsan'</span>,</span><br><span class="line">    age: <span class="literal">undefined</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> &#123;name, age = <span class="number">18</span>, sex = <span class="string">'ç”·'</span>&#125; = obj</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨åŒ¹é…æ—¶ï¼Œå¦‚æœåŒ¹é…ä¸åˆ°å¯¹åº”çš„å±æ€§æˆ–è€…æ˜¯å¯¹åº”çš„å±æ€§ä¸º undefined æ—¶ï¼Œå°†ä¼šå¯»æ‰¾é»˜è®¤å€¼è‡ªåŠ¨åŒ¹é…</span></span><br></pre></td></tr></table></figure>

<h4 id="å¯¹è±¡è§£æ„èµ‹å€¼çš„ä½¿ç”¨"><a href="#å¯¹è±¡è§£æ„èµ‹å€¼çš„ä½¿ç”¨" class="headerlink" title="å¯¹è±¡è§£æ„èµ‹å€¼çš„ä½¿ç”¨"></a>å¯¹è±¡è§£æ„èµ‹å€¼çš„ä½¿ç”¨</h4><ol>
<li><p><strong>ä¼ é€’ä¹±åºå‚æ•°å’Œè®¾ç½®é»˜è®¤å€¼</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä¸ä½¿ç”¨è§£æ„èµ‹å€¼</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">AJAX</span>(<span class="params">option</span>) </span>&#123;</span><br><span class="line">    $.ajax(&#123;</span><br><span class="line">        url: option.url,</span><br><span class="line">        type: option.type || <span class="string">'get'</span>,</span><br><span class="line">        data: option.data</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨è§£æ„èµ‹å€¼</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">AJAX</span>(<span class="params"> &#123; url, data, type = <span class="string">'get'</span> &#125; </span>) </span>&#123;</span><br><span class="line">    $.ajax(&#123;</span><br><span class="line">        url: url,</span><br><span class="line">        type: type,</span><br><span class="line">        data: data</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">AJAX(&#123;</span><br><span class="line">    url: <span class="string">'/getUserInfo'</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">        id: <span class="number">1</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>è·å–ä¸€ä¸ªå‡½æ•°ä¸­çš„å¤šä¸ªè¿”å›å€¼</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getUserInfo</span> (<span class="params">userId</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// ...ajax</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        status: <span class="literal">true</span>,</span><br><span class="line">        data: &#123;</span><br><span class="line">            name: <span class="string">'zhangsan'</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        msg: <span class="string">'è¯·æ±‚æˆåŠŸ'</span></span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123;status, data, msg&#125; = getUserInfo(<span class="number">123</span>);</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h1 id="å­—ç¬¦ä¸²çš„è§£æ„èµ‹å€¼"><a href="#å­—ç¬¦ä¸²çš„è§£æ„èµ‹å€¼" class="headerlink" title="å­—ç¬¦ä¸²çš„è§£æ„èµ‹å€¼"></a>å­—ç¬¦ä¸²çš„è§£æ„èµ‹å€¼</h1><ol>
<li><p><strong>ç›´æ¥å–å€¼</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">"Hello,World!"</span>;</span><br><span class="line"><span class="keyword">let</span> [a, b, c] = str;</span><br><span class="line"></span><br><span class="line"><span class="comment">// a b c ä¸‰ä¸ªå˜é‡å°†ä¼šåˆ†åˆ«å¯¹åº”å­—ç¬¦ä¸² str çš„å‰ä¸‰ä¸ªå­—ç¬¦</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>æ‰©å±•è¿ç®—ç¬¦ï¼š<code>...</code></strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">"Hello,World!"</span>;</span><br><span class="line"><span class="keyword">let</span> [a, b, ...c] = str;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å˜é‡ a b ä¾æ—§å¯¹åº”å‰ä¸¤ä¸ªå­—ç¬¦ï¼Œå˜é‡ c åˆ™å¯¹åº”çš„æ˜¯åé¢çš„æ¯ä¸ªå­—ç¬¦æ‰€ç»„æˆçš„æ•°ç»„</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>åˆ†å‰²å­—ç¬¦ä¸²</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">"Hello,World!"</span>;</span><br><span class="line"><span class="keyword">let</span> [ ...spStr1 ] = str;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸Šé¢çš„ä»£ç æ•ˆæœç­‰åŒäºï¼šlet spStr1 = str.split('');</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>æå–å±æ€§</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">"Hello,World!"</span>;</span><br><span class="line"><span class="keyword">let</span> &#123; length &#125; = str;</span><br><span class="line"></span><br><span class="line"><span class="comment">// length = 12</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<hr>
<p>å¤§å®¶åŠ æ²¹ï¼šï¼‰</p>
]]></content>
      <categories>
        <category>JavaScriptåŸºç¡€</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€JavaScriptã€‘ä½œç”¨åŸŸ</title>
    <url>/posts/1709/</url>
    <content><![CDATA[<p>jsä¸­ä»…æœ‰ä¸¤ç§ä½œç”¨åŸŸï¼Œ<strong>å…¨å±€ä½œç”¨åŸŸ</strong>å’Œ<strong>å±€éƒ¨ä½œç”¨åŸŸ</strong>ï¼Œ<strong>å±€éƒ¨ä½œç”¨åŸŸ</strong>åˆè¢«ç§°ä¸º<strong>å‡½æ•°ä½œç”¨åŸŸ</strong>ã€‚jsä¸­æ²¡æœ‰å—çº§ä½œç”¨åŸŸè¿™ä¸ªæ¦‚å¿µï¼Œå—çº§ä½œç”¨åŸŸåªåœ¨ä¸€äº›å…¶ä»–çš„è¯­è¨€ä¸­æ‰æœ‰ï¼Œæ¯”å¦‚ï¼šJavaã€C++ã€‚ä½œç”¨åŸŸçš„è¿™ä¸ªæ¦‚å¿µæ˜¯ç”±äºå˜é‡èµ·ä½œç”¨çš„åŒºåŸŸä¸ç”¨æ‰è¢«å¼•å‡ºæ¥çš„ï¼Œæ‰€ä»¥ä½œç”¨åŸŸåˆè¢«ç§°ä¸ºå˜é‡ä½œç”¨åŸŸã€‚</p>
<a id="more"></a>

<h1 id="å˜é‡ä½œç”¨åŸŸ"><a href="#å˜é‡ä½œç”¨åŸŸ" class="headerlink" title="å˜é‡ä½œç”¨åŸŸ"></a>å˜é‡ä½œç”¨åŸŸ</h1><p>å…ˆç®€å•äº†è§£ä¸€ä¸‹å…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡ã€‚jså¯ä»¥ç®€å•çš„å°†åœ¨å‡½æ•°å¤–éƒ¨å®šä¹‰çš„å˜é‡ç§°ä¸ºå…¨å±€å˜é‡ï¼Œåœ¨å‡½æ•°å†…å®šä¹‰çš„å˜é‡ç§°ä¸ºå±€éƒ¨å˜é‡ã€‚å˜é‡ä½œç”¨åŸŸçš„æ¦‚å¿µä¹Ÿå› æ­¤è€Œç”Ÿï¼Œå˜é‡ä½œç”¨åŸŸå®é™…å°±æ˜¯å˜é‡äº§ç”Ÿä½œç”¨çš„åŒºåŸŸã€‚å…¨å±€å˜é‡åœ¨æ•´ä¸ªjsç¨‹åºä¸­çš„ä»»ä½•åœ°æ–¹éƒ½å¯ä»¥å»è°ƒç”¨ï¼Œæ‰€ä»¥å…¨å±€å˜é‡ç”Ÿå­˜åœ¨ä¸€ä¸ªå…¨å±€ä½œç”¨åŸŸä¸­ã€‚è€Œå±€éƒ¨å˜é‡åªèƒ½å¤Ÿåœ¨å‡½æ•°å†…éƒ¨å»è°ƒç”¨ï¼Œå‡ºäº†å‡½æ•°ä¹‹åå°±æ— æ³•å†è®¿é—®åˆ°äº†ï¼Œå› æ­¤å±€éƒ¨å˜é‡åªç”Ÿå­˜åœ¨å‡½æ•°çš„ä½œç”¨åŸŸä¸­ã€‚</p>
<blockquote>
<p><strong>æ³¨æ„ï¼šåœ¨å‡½æ•°å†…éƒ¨å£°æ˜å˜é‡æ—¶ä¸€å®šè¦ä½¿ç”¨æ˜¾å¼å£°æ˜ï¼Œå³ä½¿ç”¨<code>var</code>å…³é”®å­—å£°æ˜ã€‚å¦‚æœåœ¨å‡½æ•°å†…éƒ¨éšå¼å£°æ˜ä¸€ä¸ªå˜é‡çš„è¯ï¼Œå®é™…å£°æ˜çš„æ˜¯ä¸€ä¸ªå…¨å±€å˜é‡</strong></p>
</blockquote>
<p><strong>æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">'zhangsan'</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span> (<span class="params"></span>)  </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name1 = <span class="string">'lisi'</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(name);  <span class="comment">// è¾“å‡ºzhangsan</span></span><br><span class="line">    <span class="built_in">console</span>.log(name1); <span class="comment">// è¾“å‡ºlisi</span></span><br><span class="line">&#125;</span><br><span class="line">fn();</span><br><span class="line"><span class="built_in">console</span>.log(name); <span class="comment">// è¾“å‡ºzhangsan</span></span><br><span class="line"><span class="built_in">console</span>.log(name1); <span class="comment">// æŠ¥é”™ name1 is not defined</span></span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªä¾‹å­ä¸­å˜é‡<code>name</code>æ˜¯ä¸€ä¸ªå…¨å±€å˜é‡èƒ½å¤Ÿåœ¨ç¨‹åºçš„ä»»ä½•åœ°æ–¹è®¿é—®åˆ°ã€‚è€Œå˜é‡<code>name1</code>å£°æ˜åœ¨<code>fn</code>å‡½æ•°å†…éƒ¨ï¼Œæ˜¯ä¸€ä¸ªå±€éƒ¨å˜é‡ï¼Œæ‰€ä»¥ä»…ä»…åªèƒ½åœ¨<code>fn</code>å†…éƒ¨è®¿é—®åˆ°ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­æœ‰ä¸¤ä¸ªä½œç”¨åŸŸï¼Œä¸€ä¸ªæ˜¯å˜é‡<code>name</code>ä½äºçš„å…¨å±€ä½œç”¨åŸŸï¼Œä¸€ä¸ªæ˜¯å˜é‡<code>name1</code>ä½äºçš„å±€éƒ¨ä½œç”¨åŸŸã€‚ä½†æ˜¯æˆ‘ä»¬å¹¶ä¸èƒ½å¤Ÿç®€å•çš„å°†å±€éƒ¨ä½œç”¨åŸŸç†è§£ä¸ºå‡½æ•°çš„èŠ±æ‹¬å·ä¹‹å†…ï¼Œå› ä¸ºjsæ˜¯æ²¡æœ‰å—çº§ä½œç”¨åŸŸè¿™ä¸ªæ¦‚å¿µçš„ï¼Œæˆ‘ä»¬åº”è¯¥å°†å…¶ç†è§£ä¸ºå‡½æ•°çš„ä½œç”¨åŸŸã€‚</p>
<hr>
<p>å¤§å®¶åŠ æ²¹ï¼šï¼‰</p>
]]></content>
      <categories>
        <category>JavaScriptåŸºç¡€</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€JavaScriptã€‘åƒåœ¾å›æ”¶æœºåˆ¶</title>
    <url>/posts/31440/</url>
    <content><![CDATA[<p>JavaScriptæœ‰è‡ªåŠ¨æ”¶é›†å†…å­˜ä¸­å·²ç»åºŸå¼ƒçš„å˜é‡çš„åŠŸèƒ½ï¼Œç§°ä¸º<strong>åƒåœ¾å›æ”¶æœºåˆ¶</strong></p>
<a id="more"></a>

<p>jsä¸­çš„å±€éƒ¨å˜é‡ä»…åœ¨å‡½æ•°çš„æ‰§è¡Œè¿‡ç¨‹ä¸­å­˜åœ¨ï¼Œä¸€æ—¦å‡½æ•°æ‰§è¡Œå®Œæ¯•ä¹‹åå±€éƒ¨å˜é‡åˆ™å¤±å»äº†æ„ä¹‰ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦å»é‡Šæ”¾æ‰è¿™ä¸ªå˜é‡ï¼Œå›æ”¶å†…å­˜ã€‚</p>
<p>ä¸Šè¿°çš„è¿™ä¸ªåŠ¨ä½œç”±jsçš„åƒåœ¾æ”¶é›†å™¨æ¥å®Œæˆã€‚</p>
<p>åƒåœ¾æ”¶é›†å™¨åŸç†ï¼šæ‰¾å‡ºæ²¡ç”¨çš„æ•°æ®ã€<strong>æ‰“ä¸Šæ ‡è®°</strong>ã€<strong>é‡Šæ”¾å†…å­˜</strong>ã€<strong>å‘¨æœŸæ€§æ‰§è¡Œ</strong>ã€‚</p>
<h2 id="æ ‡è¯†æ— ç”¨å˜é‡çš„ç­–ç•¥"><a href="#æ ‡è¯†æ— ç”¨å˜é‡çš„ç­–ç•¥" class="headerlink" title="æ ‡è¯†æ— ç”¨å˜é‡çš„ç­–ç•¥"></a>æ ‡è¯†æ— ç”¨å˜é‡çš„ç­–ç•¥</h2><h4 id="æ ‡è®°æ¸…é™¤"><a href="#æ ‡è®°æ¸…é™¤" class="headerlink" title="æ ‡è®°æ¸…é™¤"></a>æ ‡è®°æ¸…é™¤</h4><p>å½“å˜é‡è¿›å…¥æˆ–è€…æ˜¯ç¦»å¼€æ‰§è¡Œç¯å¢ƒæ—¶ï¼Œä¼šç»™å˜é‡åšä¸Šä¸€ä¸ªæ ‡è®°ï¼Œå‘¨æœŸæ€§çš„å°†ç¦»å¼€æ‰§è¡Œç¯å¢ƒçš„å˜é‡æ¸…é™¤ã€‚</p>
<h4 id="å¼•ç”¨è®¡æ•°ï¼ˆä¸å¸¸ç”¨ï¼‰"><a href="#å¼•ç”¨è®¡æ•°ï¼ˆä¸å¸¸ç”¨ï¼‰" class="headerlink" title="å¼•ç”¨è®¡æ•°ï¼ˆä¸å¸¸ç”¨ï¼‰"></a>å¼•ç”¨è®¡æ•°ï¼ˆä¸å¸¸ç”¨ï¼‰</h4><p>å½“ä¸€ä¸ª<strong>å †å†…å­˜ä¸­çš„å¯¹è±¡</strong>è¢«èµ‹å€¼ç»™ä¸€ä¸ª<strong>æ ˆå†…å­˜ä¸­çš„å¼•ç”¨</strong>æ—¶ï¼Œè¿™ä¸ªå¯¹è±¡çš„è®¡æ•° +1ã€‚<br>å¦‚æœè¿™ä¸ª<strong>å †å†…å­˜ä¸­çš„å¯¹è±¡</strong>å†æ¬¡è¢«èµ‹å€¼ç»™ä¸€ä¸ª<strong>æ ˆå†…å­˜ä¸­çš„å¼•ç”¨</strong>æ—¶ï¼Œè¿™ä¸ªå¯¹è±¡çš„è®¡æ•°å† +1ã€‚<br>ä¹Ÿå°±æ˜¯ç°åœ¨è¿™ä¸ªå¯¹è±¡çš„è®¡æ•°æ—¶2ï¼Œå³ä¸¤ä¸ª<strong>æ ˆå†…å­˜çš„åº”ç”¨</strong>æŒ‡å‘åŒä¸€ä¸ª<strong>å †å†…å­˜çš„å¯¹è±¡</strong>ã€‚<br>å¦‚æœä¸¤ä¸ª<strong>æ ˆå†…å­˜ä¸­çš„å¼•</strong>ç”¨å…¶ä¸­ä¸€ä¸ªå‘ç”Ÿäº†æ”¹å˜ï¼Œä¹Ÿå°±æ˜¯ä¸å†æŒ‡å‘è¿™ä¸ª<strong>å †å†…å­˜ä¸­çš„å¯¹è±¡</strong>äº†ï¼Œé‚£ä¹ˆè¿™ä¸ª<strong>å †å†…å­˜ä¸­çš„å¯¹è±¡</strong>çš„è®¡æ•° -1ã€‚<br>å½“è¿™ä¸ª<strong>å †å†…å­˜ä¸­çš„å¯¹è±¡</strong>çš„è®¡æ•° =0 çš„æ—¶å€™ï¼Œåƒåœ¾æ”¶é›†å™¨å°†é‡Šæ”¾è¯¥å¯¹è±¡æ‰€å ç”¨çš„å†…å­˜ã€‚</p>
<p><strong>å¾ªç¯å¼•ç”¨çš„é—®é¢˜</strong><br>å¾ªç¯å¼•ç”¨å°±æ˜¯å¯¹è±¡Aä¸­åŒ…å«äº†ä¸€ä¸ªæŒ‡å‘å¯¹è±¡Bçš„æŒ‡é’ˆï¼Œå¯¹è±¡Bä¸­åŒ…å«äº†ä¸€ä¸ªæŒ‡å‘å¯¹è±¡Açš„æŒ‡é’ˆã€‚è¿™æ ·ä¸€æ¥ä¸¤ä¸ª<strong>å †å†…å­˜ä¸­çš„å¯¹è±¡</strong>çš„è®¡æ•°éƒ½æ˜¯2ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨å®Œè¿™ä¸¤ä¸ªå¯¹è±¡ä¹‹åï¼Œåƒåœ¾æ”¶é›†å™¨å°†æ— æ³•å›æ”¶è¿™ä¸¤ä¸ªå˜é‡ã€‚éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨çš„å»å°†è¿™ä¸¤ä¸ªå¯¹è±¡ç½®ä¸º <code>null</code> æ¥é‡Šæ”¾å†…å­˜ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> ObjA = &#123;&#125;;  <span class="comment">// ObjAè®¡æ•°1</span></span><br><span class="line"><span class="keyword">var</span> ObjB = &#123;&#125;;  <span class="comment">// ObjBè®¡æ•°1</span></span><br><span class="line"></span><br><span class="line">ObjA.obj = ObjB; <span class="comment">// ObjBè®¡æ•°2</span></span><br><span class="line">ObjB.obj = ObjA; <span class="comment">// ObjAè®¡æ•°2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰‹åŠ¨é‡Šæ”¾å†…å­˜</span></span><br><span class="line">ObjA = <span class="literal">null</span>;</span><br><span class="line">ObjB = <span class="literal">null</span>;</span><br></pre></td></tr></table></figure>

<hr>
<p>å¤§å®¶åŠ æ²¹ï¼šï¼‰</p>
]]></content>
      <categories>
        <category>JavaScriptåŸºç¡€</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>åº•å±‚</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€ES6ã€‘varã€letã€const</title>
    <url>/posts/37909/</url>
    <content><![CDATA[<blockquote>
<p>let è¿™ä¸ªå…³é”®å­—éƒ½æ˜¯åœ¨ ES6 ä¸­æ–°å‡ºç°çš„ï¼Œä½œç”¨ä¸ var æ˜¯ä¸€æ ·çš„ï¼Œå¯ä»¥ç”¨æ¥å£°æ˜å˜é‡ã€‚const å…³é”®å­—ä¹Ÿæ˜¯åœ¨ ES6 ä¸­æ–°å‡ºç°çš„ï¼Œä¸åŒçš„æ˜¯ const æ˜¯ç”¨æ¥å£°æ˜å¸¸é‡ã€‚</p>
</blockquote>
<a id="more"></a>


<h1 id="let-amp-var"><a href="#let-amp-var" class="headerlink" title="let &amp; var"></a>let &amp; var</h1><h4 id="å—çº§ä½œç”¨åŸŸ"><a href="#å—çº§ä½œç”¨åŸŸ" class="headerlink" title="å—çº§ä½œç”¨åŸŸ"></a>å—çº§ä½œç”¨åŸŸ</h4><p>ã€Œå—çº§ä½œç”¨åŸŸã€è¿™ä¸ªæ¦‚å¿µæ˜¯åœ¨ ES6 ä¸­æ–°å¼•å…¥çš„æ¦‚å¿µï¼Œå°±æ˜¯ä¸€ä¸ª <code>{}</code> ã€ŒèŠ±æ‹¬å·ã€è€Œå·²ã€‚æ‰€æœ‰çš„èŠ±æ‹¬å·ä¹‹å†…éƒ½æ˜¯ä¸€ä¸ªå•ç‹¬çš„å—çº§ä½œç”¨åŸŸï¼Œä½†æ˜¯æœ‰ä¸€ç§ç‰¹æ®Šæƒ…å†µä¸æ˜¯ï¼Œé‚£å°±æ˜¯åœ¨å£°æ˜å¯¹è±¡çš„æ—¶å€™å­—é¢å¼å£°æ˜ä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™ä¸æ˜¯ã€‚</p>
<h4 id="letå’Œvarçš„åŒºåˆ«"><a href="#letå’Œvarçš„åŒºåˆ«" class="headerlink" title="letå’Œvarçš„åŒºåˆ«"></a>letå’Œvarçš„åŒºåˆ«</h4><ol>
<li><p>let å’Œ var æœ€å¤§çš„åŒºåˆ«å°±æ˜¯ <strong>letå£°æ˜çš„å¯¹è±¡åªåœ¨å½“å‰ä½œç”¨åŸŸç”Ÿæ•ˆ</strong><br>ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">1</span></span><br><span class="line">    <span class="keyword">let</span> b = <span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(a) <span class="comment">// 1</span></span><br><span class="line"><span class="built_in">console</span>.log(b) <span class="comment">// æŠ¥é”™</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¸èƒ½é‡å¤å£°æ˜</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">10</span></span><br><span class="line"><span class="built_in">console</span>.log(a)</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">20</span></span><br><span class="line"><span class="built_in">console</span>.log(a)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> b = <span class="number">10</span></span><br><span class="line"><span class="built_in">console</span>.log(b)</span><br><span class="line"><span class="keyword">let</span> b = <span class="number">20</span> </span><br><span class="line"><span class="built_in">console</span>.log(b)</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„ä»£ç å°†ä¼šç›´æ¥æŠ¥é”™</p>
</li>
<li><p>let ä¸å­˜åœ¨ã€Œå˜é‡æå‡ã€<br>ä½¿ç”¨ var å…³é”®å­—å£°æ˜çš„å˜é‡åœ¨æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­ä¼šæœ‰ä¸€ä¸ªå˜é‡æå‡çš„ç°è±¡ï¼Œä½†æ˜¯ä½¿ç”¨ let å£°æ˜çš„å˜é‡å°†ä¸ä¼šå‡ºç°è¿™ä¸ªç°è±¡ï¼Œæ¯”å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(a)  <span class="comment">// undefined</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(b)  <span class="comment">// æŠ¥é”™</span></span><br><span class="line"><span class="keyword">let</span> b = <span class="number">10</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æš‚å­˜æ­»åŒº</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">10</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(a)</span><br><span class="line">    <span class="keyword">let</span> a = <span class="number">20</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> a = <span class="number">20</span></span><br><span class="line">    <span class="built_in">console</span>.log(a) <span class="comment">// 20</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„è¿™æ®µä»£ç å°†ä¼šç›´æ¥æŠ¥é”™ã€‚å› ä¸º ES6 ä¸­å•ç‹¬çš„ä½œç”¨åŸŸå†…ä½¿ç”¨ let æˆ–è€…æ˜¯ const å£°æ˜çš„å˜é‡å°†ä¼šå½¢æˆä¸€ä¸ªå°é—­çš„ä½œç”¨åŸŸï¼Œè¿™ç›´æ¥å¯¼è‡´é‡åçš„å˜é‡æ— æ³•è®¿é—®åˆ°çˆ¶çº§ä½œç”¨åŸŸçš„å˜é‡ï¼Œè¿›è€ŒæŠ¥é”™ã€‚</p>
</li>
</ol>
<h1 id="const-å¸¸é‡"><a href="#const-å¸¸é‡" class="headerlink" title="const å¸¸é‡"></a>const å¸¸é‡</h1><ol>
<li><p>å£°æ˜å¸¸é‡<br>const å£°æ˜æ—¶ä¸ let å£°æ˜å¹¶æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯ä½¿ç”¨ const å£°æ˜å¸¸é‡æ—¶éœ€è¦åœ¨å£°æ˜çš„åŒæ—¶åˆå§‹åŒ–ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> a = <span class="number">10</span></span><br><span class="line"><span class="keyword">const</span> a <span class="comment">// æŠ¥é”™</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¸èƒ½ä¿®æ”¹<br>å£°æ˜çš„æ—¢ç„¶æ˜¯å¸¸é‡ï¼Œé‚£ä¹ˆå½“ç„¶æ˜¯ä¸å…è®¸è¢«ä¿®æ”¹çš„ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> a = <span class="number">10</span></span><br><span class="line">a = <span class="number">20</span> <span class="comment">// æŠ¥é”™</span></span><br></pre></td></tr></table></figure>
<p> <strong>å¦‚æœå£°æ˜çš„æ˜¯ä¸€ä¸ªå¼•ç”¨ç±»å‹çš„æ•°æ®ï¼Œé‚£ä¹ˆå®ƒå°†å¯ä»¥è¢«ä¿®æ”¹</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    name: <span class="string">'zhangsan'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(obj.name)  <span class="comment">// zhangsan</span></span><br><span class="line"></span><br><span class="line">obj.name = <span class="string">'lisi'</span></span><br><span class="line"><span class="built_in">console</span>.log(obj.name)  <span class="comment">// lisi</span></span><br></pre></td></tr></table></figure>
<p>å®é™…ä¸Š const å£°æ˜çš„å¸¸é‡ä»…ä»…åªæ˜¯ã€Œé”å®šã€äº†<strong>æ ˆå†…å­˜</strong>ä¸­çš„å€¼ï¼Œè€Œå¼•ç”¨æ•°æ®ç±»å‹å®é™…å­˜æ”¾çš„åœ°æ–¹æ˜¯åœ¨<strong>å †å†…å­˜</strong>ä¸­çš„ã€‚æ‰€ä»¥å¯¹è±¡ç±»å‹çš„å€¼æ˜¯å¯ä»¥è¢«ä¿®æ”¹çš„ã€‚</p>
<p> é‚£ä¹ˆæˆ‘ä»¬æ—¢ç„¶æ˜¯å£°æ˜äº†ä¸€ä¸ªå¸¸é‡çš„è¯å½“ç„¶æ˜¯ä¸å¸Œæœ›è¿™ä¸ªå¸¸é‡èƒ½å¤Ÿè¢«ä¿®æ”¹ï¼Œå¦‚æœæ˜¯ä¸€ä¸ªå¯¹è±¡ç±»å‹çš„å¸¸é‡çš„è¯ï¼Œæˆ‘ä»¬å¿…é¡»é€šè¿‡ <code>Object.freeze()</code> è¿™ä¸ªæ–¹æ³•æ¥ã€Œå†»ç»“ã€è¿™ä¸ªå¯¹è±¡ç±»å‹çš„å¸¸é‡ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    name: <span class="string">'zhangsan'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(obj.name) <span class="comment">// zhangsan</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å†»ç»“</span></span><br><span class="line"><span class="built_in">Object</span>.freeze(obj)</span><br><span class="line"></span><br><span class="line">obj.name = <span class="string">'lisi'</span></span><br><span class="line"><span class="built_in">console</span>.log(obj.name) <span class="comment">// zhangsan</span></span><br></pre></td></tr></table></figure>
<p>åœ¨ä¸Šé¢è¿™ä¸ªä¾‹å­ä¸­ä¸¤æ¬¡çš„è¾“å‡ºéƒ½æ˜¯ <code>zhangsan</code> è¿™è¯´æ˜äº†æˆ‘ä»¬å¹¶æ²¡æœ‰ä¿®æ”¹åˆ° <code>obj</code> è¿™ä¸ªå¯¹è±¡ï¼Œè¿™æ ·å­å°±æ˜¯å£°æ˜äº†ä¸€ä¸ªå¯¹è±¡ç±»å‹çš„å¸¸é‡è¡¨äº†ã€‚</p>
</li>
</ol>
<hr>
<p>å¤§å®¶åŠ æ²¹ï¼šï¼‰</p>
]]></content>
      <categories>
        <category>JavaScriptåŸºç¡€</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€JavaScriptã€‘æ‰§è¡Œä¸Šä¸‹æ–‡</title>
    <url>/posts/54687/</url>
    <content><![CDATA[<p>æ‰§è¡Œä¸Šä¸‹æ–‡æ˜¯jsä¸­å¾ˆé‡è¦çš„ä¸€ä¸ªæ¦‚å¿µï¼Œæ¯æ¬¡å½“jsç¨‹åºå»è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œå°±ä¼šå»åˆ›å»ºä¸€ä¸ªå¯¹åº”çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚æˆ‘ä»¬å¯ä»¥å…ˆå°†æ‰§è¡Œä¸Šä¸‹æ–‡ç†è§£ä¸ºå½“å‰ä»£ç æ‰§è¡Œçš„ç¯å¢ƒï¼Œè¿™ä¼šäº§ç”Ÿä¸€ä¸ªä½œç”¨åŸŸçš„æ¦‚å¿µï¼Œä¹Ÿå°±æ˜¯æˆ‘çš„ä¸Šä¸€ç¯‡æ–‡ç« æ‰€æåˆ°çš„ã€‚jså¼•æ“ä¼šé”€æ¯è¯¥å‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚jsç¨‹åºåœ¨æ‰§è¡Œæ—¶æ¯æ¬¡é‡åˆ°å‡½æ•°æ—¶éƒ½ä¼šåšè¿™æ ·çš„æ“ä½œã€‚</p>
<a id="more"></a>

<h1 id="ä¸€ã€æ‰§è¡Œä¸Šä¸‹æ–‡ç”Ÿå‘½å‘¨æœŸ"><a href="#ä¸€ã€æ‰§è¡Œä¸Šä¸‹æ–‡ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ä¸€ã€æ‰§è¡Œä¸Šä¸‹æ–‡ç”Ÿå‘½å‘¨æœŸ"></a>ä¸€ã€æ‰§è¡Œä¸Šä¸‹æ–‡ç”Ÿå‘½å‘¨æœŸ</h1><p>é¦–å…ˆæˆ‘ä»¬è¿˜æ˜¯æ¥å¯¹æ‰§è¡Œä¸Šä¸‹æ–‡æœ‰ä¸€ä¸ªæ·±å…¥çš„äº†è§£ï¼Œå½“ä¸€ä¸ªå‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œä¸€ä¸ªå¯¹åº”çš„æ‰§è¡Œä¸Šä¸‹æ–‡å°±ä¼šè¢«åˆ›å»ºã€‚è€Œä¸€ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡çš„ç”Ÿå‘½å‘¨æœŸå¯ä»¥åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µã€‚<strong>åˆ›å»ºé˜¶æ®µ</strong>å’Œ<strong>æ‰§è¡Œé˜¶æ®µ</strong></p>
<ul>
<li><strong>åˆ›å»ºé˜¶æ®µ</strong><br>åœ¨è¿™ä¸ªé˜¶æ®µä¸­ï¼Œæ‰§è¡Œä¸Šä¸‹æ–‡ä¼šåˆ†åˆ«åˆ›å»º<strong>å˜é‡å¯¹è±¡</strong>ï¼Œå»ºç«‹<strong>ä½œç”¨åŸŸé“¾</strong>ï¼Œä»¥åŠç¡®å®š<strong>this</strong>çš„æŒ‡å‘ã€‚è¿™äº›æ¦‚å¿µæ¥ä¸‹æ¥éƒ½ä¼šä»”ç»†çš„è¯´ä¸€ä¸‹ã€‚</li>
<li><strong>æ‰§è¡Œé˜¶æ®µ</strong><br>åˆ›å»ºå®Œæˆä¹‹åï¼Œå¼€å§‹é€è¡Œçš„æ‰§è¡Œä»£ç ã€‚è¿™ä¸ªæ—¶å€™ä¼šå®Œæˆå˜é‡èµ‹å€¼ã€å‡½æ•°å¼•ç”¨ã€ä»¥åŠæ‰§è¡Œå…¶ä»–ä»£ç ã€‚</li>
</ul>
<h1 id="äºŒã€åŒºåˆ«æ‰§è¡Œä¸Šä¸‹æ–‡å’Œå˜é‡ä½œç”¨åŸŸ"><a href="#äºŒã€åŒºåˆ«æ‰§è¡Œä¸Šä¸‹æ–‡å’Œå˜é‡ä½œç”¨åŸŸ" class="headerlink" title="äºŒã€åŒºåˆ«æ‰§è¡Œä¸Šä¸‹æ–‡å’Œå˜é‡ä½œç”¨åŸŸ"></a>äºŒã€åŒºåˆ«æ‰§è¡Œä¸Šä¸‹æ–‡å’Œå˜é‡ä½œç”¨åŸŸ</h1><p>åœ¨ä¸Šä¸€ç¯‡æ–‡ç« é‡æåˆ°äº†ä¸€ä¸ªä½œç”¨åŸŸçš„æ¦‚å¿µã€‚ä½œç”¨åŸŸä¸æ‰§è¡Œä¸Šä¸‹æ–‡éƒ½æ˜¯åœ¨å‡½æ•°çš„ä¸­çš„æ¦‚å¿µï¼Œå¯èƒ½ä¼šæœ‰ç‚¹å†²çªï¼Œå¯¼è‡´ç†è§£èµ·æ¥å®¹æ˜“æ··æ·†ï¼Œè¿™é‡Œæœ‰å¿…è¦åŒºåˆ«ä¸€ä¸‹è¿™ä¸¤ä¸ªæ¦‚å¿µã€‚</p>
<p>æ‰§è¡Œä¸Šä¸‹æ–‡æ˜¯åœ¨å‡½æ•°è°ƒç”¨æ—¶æ‰å»åŠ¨æ€çš„åˆ›å»ºï¼Œå› ä¸ºä¸åŒçš„è°ƒç”¨å¯èƒ½ä¼šæ˜¯å®Œå…¨ä¸åŒçš„å‚æ•°ã€‚è€Œå˜é‡ä½œç”¨åŸŸåˆ™æ˜¯åœ¨å‡½æ•°å£°æ˜æ—¶å°±ç¡®å®šäº†ï¼Œè·Ÿå‡½æ•°çš„è°ƒç”¨æ— å…³ï¼Œå‡½æ•°åœ¨è°ƒç”¨æ—¶åªä¼šå»åˆ›å»ºæ‰§è¡Œä¸Šä¸‹æ–‡ã€‚ç›¸æ¯”è¾ƒè€Œè¨€ï¼Œå˜é‡ä½œç”¨åŸŸæ›´åƒæ˜¯ä¸€ä¸ªé™æ€çš„æ¦‚å¿µï¼Œåœ¨å‡½æ•°å£°æ˜æ—¶å°±ç¡®å®šä¸‹æ¥çš„ï¼Œå‡½æ•°å†…éƒ¨çš„å˜é‡åªèƒ½å­˜æ´»äºè¿™ä¸ªä½œç”¨åŸŸä¹‹ä¸­ï¼Œä¸ç®¡æ˜¯ä»€ä¹ˆæ ·çš„å˜é‡åªè¦æ˜¯åœ¨å‡½æ•°çš„å†…éƒ¨å»å£°æ˜çš„ï¼Œå°±è‚¯å®šæ˜¯è·‘ä¸å‡ºå‡½æ•°çš„ä½œç”¨åŸŸä¸­ã€‚ï¼ˆè¿™é‡Œæ’ä¸€å¥ï¼šå‡½æ•°çš„å‚æ•°ä¹Ÿæ˜¯å‡½æ•°çš„å†…éƒ¨å˜é‡ï¼Œå­˜æ´»äºå‡½æ•°çš„ä½œç”¨åŸŸä¹‹ä¸­ï¼‰è€Œæ‰§è¡Œä¸Šä¸‹æ–‡å‘¢åˆ™æ˜¯åœ¨è°ƒç”¨æ—¶æ‰ä¼šäº§ç”Ÿçš„ï¼Œç”šè‡³æ˜¯åœ¨æŸç§ç‰¹æ®Šçš„ç¯å¢ƒä¸‹ä¼šäº§ç”Ÿå¤šä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œä¾‹å¦‚é—­åŒ…ã€‚</p>
<p><strong>ä¸¾ä¸ªä¾‹å­å§ï¼š</strong></p>
<blockquote>
<p>æˆ‘ä»¬å¹³æ—¶å¼€çš„æ±½è½¦ï¼Œå½“è¿™è¾†æ±½è½¦è¢«ç”Ÿäº§å‡ºæ¥çš„æ—¶å€™ï¼Œå…¶ä¸­çš„åŠŸèƒ½å°±å·²ç»æ˜¯ç¡®å®šçš„äº†ï¼Œæ¯”å¦‚æœ€é«˜èƒ½è¾¾åˆ°å¤šé«˜çš„æ—¶é€Ÿã€æœ€å¤šèƒ½åå‡ ä¸ªäººã€èƒ½è½½é‡å¤šå°‘é‡é‡ç­‰ç­‰ï¼Œè¿™ç›¸å½“äºæ˜¯ç¡®å®šäº†ä½œç”¨åŸŸã€‚ä½†æ˜¯åœ¨æˆ‘ä»¬å®é™…çš„ä½¿ç”¨çš„æ—¶å€™ç”±äºè·¯é¢ç¯å¢ƒçš„ä¸åŒã€ç”¨é€”ä¸åŒã€å¸æœºä¸åŒç­‰ç­‰çš„åŸå› å¯¼è‡´è¿™è¾†æ±½è½¦å‘æŒ¥å‡ºæ¥çš„æ•ˆæœä¹Ÿæ˜¯ä¸ç”¨ã€‚è¿™å°±ç›¸å½“äºæ˜¯æ¯æ¬¡æ‰§è¡Œçš„æ—¶å€™éƒ½åˆ›å»ºäº†å¯¹åº”çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚</p>
<p><strong>ä¸Šé¢çš„ä¾‹å­å¯èƒ½æœ‰äº›ä¸å¤ªæ°å½“çš„åœ°æ–¹ï¼Œä»…ä»£è¡¨ä¸ªäººçš„ç†è§£</strong></p>
</blockquote>
<h1 id="ä¸‰ã€æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ"><a href="#ä¸‰ã€æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ" class="headerlink" title="ä¸‰ã€æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ"></a>ä¸‰ã€æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ</h1><p>åœ¨jsä¸­å‡½æ•°çš„è°ƒç”¨æ˜¯æœ‰ä¸¥æ ¼çš„å…ˆåé¡ºåºçš„ï¼Œåœ¨ä¸€ä¸ªjsç¨‹åºä¸­æ­£åœ¨æ‰§è¡Œçš„å‡½æ•°æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªï¼Œå¦å¤–çš„å‡½æ•°æƒ³è¦æ‰§è¡Œå¿…é¡»ç­‰å¾…å½“å‰å‡½æ•°æ‰§è¡Œå®Œæ¯•åæŒ‰ç…§é¡ºåºæ’é˜Ÿæ‰§è¡Œã€‚å¦‚æœæ˜¯ä¸€ä¸ªå‡½æ•°ä¸­åŒ…å«äº†å¦å¤–ä¸€ä¸ªå‡½æ•°çš„æ‰§è¡Œçš„è¯é‚£ä¹ˆéœ€è¦åœ¨æ‰§è¡Œåˆ°<strong>è¢«åŒ…å«çš„å‡½æ•°</strong>ä¸­æ—¶å»æ‰§è¡Œ<strong>è¢«åŒ…å«çš„å‡½æ•°</strong>ï¼Œç­‰å¾…è¢«åŒ…å«çš„å‡½æ•°<strong>æ‰§è¡Œå®Œæ¯•</strong>ä¹‹åæ‰å¯ä»¥ç»§ç»­æ¥ç€æ‰§è¡Œä¸‹é¢çš„å†…å®¹ã€‚è¿™æ ·çš„æ‰§è¡Œé¡ºåºå¤©ç„¶çš„ç¬¦åˆâ€œ<strong>æ ˆ</strong>â€è¿™ç§åå…¥å…ˆå‡ºçš„æ•°æ®ç»“æ„ã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"fnå‡½æ•°å¼€å§‹æ‰§è¡Œ"</span>);</span><br><span class="line">    fn2();</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"fnå‡½æ•°æ‰§è¡Œå®Œæ¯•"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn2</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"fn2å‡½æ•°å¼€å§‹æ‰§è¡Œ"</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"fn2å‡½æ•°æ‰§è¡Œå®Œæ¯•"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn();</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>åœ¨ä¸Šé¢çš„è¿™æ®µä»£ç ä¸­ï¼Œjså¼•æ“é¦–å…ˆåˆ›å»ºäº†ä¸€ä¸ªå…¨å±€çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚</strong><br>å°†è¿™ä¸ªå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡å‹å…¥æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆä¸­ã€‚æ­¤æ—¶çš„æ ˆç»“æ„ï¼š<code>æ ˆåº• -&gt; å…¨å±€ -&gt; æ ˆé¡¶</code><br><strong>ä¹‹åå¼€å§‹æ‰§è¡Œä»£ç ï¼Œå½“æ‰§è¡Œåˆ°ç¬¬12è¡Œè°ƒç”¨äº†<code>fn</code>å‡½æ•°çš„æ—¶å€™ï¼Œå»åˆ›å»ºäº†ä¸€ä¸ª<code>fn</code>çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚</strong><br>å°†<code>fn</code>çš„æ‰§è¡Œä¸Šä¸‹æ–‡å†å‹å…¥æ ˆã€‚æ­¤æ—¶çš„æ ˆç»“æ„ï¼š<code>æ ˆåº• -&gt; å…¨å±€ -&gt; fn -&gt; æ ˆé¡¶</code><br><strong>å¼€å§‹æ‰§è¡Œ<code>fn</code>å‡½æ•°ä¸­çš„ä»£ç ã€‚æ‰§è¡Œåˆ°ç¬¬3è¡Œçš„æ—¶å€™è°ƒç”¨äº†<code>fn2</code>ï¼Œè¿™ä¸ªæ—¶å€™ä¼šå»åˆ›å»ºä¸€ä¸ª<code>fn2</code>çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚</strong><br>å°†<code>fn2</code>å‹å…¥æ ˆã€‚æ­¤æ—¶çš„æ ˆç»“æ„ï¼š<code>æ ˆåº• -&gt; å…¨å±€ -&gt; fn -&gt; fn2 -&gt; æ ˆé¡¶</code><br><strong>ä¹‹åå¼€å§‹æ‰§è¡Œ<code>fn2</code>çš„å†…å®¹ï¼Œå½“å‡½æ•°<code>fn2</code>æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œé”€æ¯<code>fn2</code>çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚</strong><br>é”€æ¯æ‰§è¡Œä¸Šä¸‹æ–‡å°±æ˜¯å°†è¯¥ä¸Šä¸‹æ–‡å¼¹å‡ºæ ˆï¼Œæ­¤æ—¶å¼¹å‡º<code>fn2</code>åçš„æ ˆç»“æ„ï¼š<code>æ ˆåº• -&gt; å…¨å±€ -&gt; fn -&gt; æ ˆé¡¶</code><br><strong>å†ç»§ç»­æ‰§è¡Œå‡½æ•°<code>fn</code>ä¸­å‰©ä½™çš„éƒ¨åˆ†ï¼Œå½“å‡½æ•°<code>fn</code>æ‰§è¡Œå®Œæ¯•ä¹‹åé”€æ¯äº†å‡½æ•°<code>fn</code>çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚</strong><br>å¼¹å‡º<code>fn</code>ï¼Œæ­¤æ—¶çš„æ ˆç»“æ„ï¼š<code>æ ˆåº• -&gt; å…¨å±€ -&gt; æ ˆé¡¶</code><br><strong>ç­‰åˆ°å…³é—­æµè§ˆå™¨çª—å£çš„æ—¶å€™ä¼šå»é”€æ¯å…¨å±€çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚</strong><br>æ­¤æ—¶çš„æ ˆç»“æ„ï¼š<code>æ ˆåº• -&gt;  -&gt;æ ˆé¡¶</code></p>
</blockquote>
<p>ä¸Šé¢çš„è¿™ä¸ªä¾‹å­å¾ˆå½¢è±¡çš„é˜è¿°äº†å‡½æ•°è°ƒç”¨æ ˆæ˜¯å¦‚ä½•å»ç®¡ç†æ‰§è¡Œä¸Šä¸‹æ–‡çš„æ‰§è¡Œé¡ºåºçš„ã€‚æ¯æ¬¡åœ¨è°ƒç”¨å‡½æ•°çš„æ—¶å€™ä¼šå»åˆ›å»ºä¸€ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå¹¶å°†å…¶å‹å…¥æ ˆé¡¶ã€‚è€Œæ‰§è¡Œçš„æ—¶å€™ä¹Ÿæ˜¯åªæ‰§è¡Œä½äºæ ˆé¡¶çš„å‡½æ•°ï¼Œæ‰§è¡Œå®Œæ¯•åå°†æ ˆé¡¶çš„å‡½æ•°å¼¹å‡ºæ ˆï¼Œå†æ¥ç€æ‰§è¡Œæ ˆé¡¶çš„å‡½æ•°ã€‚æŒ‰ç…§è¿™ä¸ªé¡ºåºå»æ‰§è¡Œï¼Œåˆ°æœ€åå°±åªå‰©ä¸‹ä¸€ä¸ªå…¨å±€çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå…³é—­æµè§ˆå™¨çª—å£åæŠŠæœ€åä¸€ä¸ªå…¨å±€ä¸Šä¸‹æ–‡å¼¹å‡ºæ ˆï¼Œä¹‹åè°ƒç”¨æ ˆä¸ºç©ºï¼Œä¹Ÿæ„å‘³ç€ç¨‹åºæ‰§è¡Œå®Œæ¯•ã€‚</p>
<h1 id="å››ã€ä½œç”¨åŸŸé“¾"><a href="#å››ã€ä½œç”¨åŸŸé“¾" class="headerlink" title="å››ã€ä½œç”¨åŸŸé“¾"></a>å››ã€ä½œç”¨åŸŸé“¾</h1><p><strong>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€æ®µä»£ç ï¼š</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">"å…¨å±€çš„name"</span>;</span><br><span class="line"><span class="keyword">var</span> name1 = <span class="string">"å…¨å±€çš„name1"</span>;</span><br><span class="line"><span class="keyword">var</span> name2 = <span class="string">"å…¨å±€çš„name2"</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> name = <span class="string">"fnçš„name"</span>;</span><br><span class="line">    <span class="keyword">var</span> name1 = <span class="string">"fnçš„name1"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fn2</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> name =<span class="string">"fn2çš„name"</span>;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">console</span>.log(name);  <span class="comment">// è¾“å‡ºfn2çš„name</span></span><br><span class="line">        <span class="built_in">console</span>.log(name1); <span class="comment">// è¾“å‡ºfnçš„name1</span></span><br><span class="line">        <span class="built_in">console</span>.log(name2); <span class="comment">// è¾“å‡ºå…¨å±€çš„name2</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    fn2();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn();</span><br></pre></td></tr></table></figure>
<p>è¿™æ®µä»£ç ä¸­ï¼Œå¾ˆæ¸…æ™°çš„å‘æˆ‘ä»¬å±•ç¤ºäº†ä»€ä¹ˆæ˜¯ä½œç”¨åŸŸé“¾ã€‚åœ¨å‡½æ•°<code>fn2</code>çš„å†…éƒ¨å»è¾“å‡º<code>name</code>è¿™ä¸ªå˜é‡ï¼Œé¦–å…ˆæ˜¯åœ¨å½“å‰å‡½æ•°çš„ä½œç”¨åŸŸä¹Ÿå°±æ˜¯<code>fn2</code>çš„æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­å»å¯»æ‰¾<code>name</code>è¿™ä¸ªå˜é‡ï¼Œæ‰¾åˆ°äº†ä¹‹åç›´æ¥è¾“å‡ºã€‚å¦‚æœæ‰¾ä¸åˆ°ï¼Œä¾‹å¦‚å˜é‡<code>name1</code>çš„è¿™ç§æƒ…å†µï¼Œåˆ™ä¼šå»ä¸Šä¸€çº§çš„ä½œç”¨åŸŸä¸­å»å¯»æ‰¾ï¼Œä¹Ÿå°±æ˜¯å‡½æ•°<code>fn</code>çš„ä½œç”¨åŸŸï¼Œæ‰¾åˆ°åå†è¾“å‡ºã€‚å¦‚æœè¿˜æ˜¯æ‰¾ä¸åˆ°ï¼Œä¾‹å¦‚å˜é‡<code>name2</code>çš„æƒ…å†µï¼Œé‚£ä¹ˆå°±ä¼šå†åˆ°ä¸Šä¸€çº§çš„ä½œç”¨åŸŸä¸­å»å¯»æ‰¾ï¼Œæ‰¾åˆ°åå†è¾“å‡ºã€‚ä¸€çº§ä¸€çº§çš„ç½‘ä¸Šå»å¯»æ‰¾å½¢æˆäº†ä¸€ä¸ªé“¾å¼çš„æ“ä½œï¼Œç§°ä¹‹ä¸º<strong>ä½œç”¨åŸŸé“¾</strong>ã€‚</p>
<p><strong>åˆ†æä½œç”¨åŸŸé“¾çš„å½¢æˆ</strong></p>
<blockquote>
<p>ç»“åˆä¸€ä¸‹å‰æ–‡æåˆ°è¿‡çš„å‡½æ•°è°ƒç”¨æ ˆçš„æ¦‚å¿µï¼Œä¸€çº§ä¸€çº§ç½‘ä¸Šå»æŸ¥æ‰¾å˜é‡çš„è¿™ä¸ªè¿‡ç¨‹ï¼Œå…¶å®å°±æ˜¯åœ¨å‡½æ•°è°ƒç”¨æ ˆä¸­å»ä¸€çº§ä¸€çº§çš„å¾€æ ˆåº•çš„æ‰§è¡Œä¸Šä¸‹æ–‡å»æŸ¥æ‰¾ã€‚ä¹Ÿå°±æ˜¯è¯´ä½œç”¨åŸŸé“¾æ˜¯åœ¨å‡½æ•°è°ƒç”¨æ ˆä¸­ç”±æ ˆé¡¶çš„æ‰§è¡Œä¸Šä¸‹æ–‡å»å¾€æ ˆåº•çš„æ‰§è¡Œä¸Šä¸‹æ–‡å»ä¸€çº§ä¸€çº§çš„é“¾èµ·æ¥å½¢æˆçš„ä½œç”¨åŸŸé“¾ã€‚</p>
</blockquote>
<h1 id="äº”ã€å˜é‡å¯¹è±¡ï¼ˆVariable-Objectï¼ŒVOï¼‰"><a href="#äº”ã€å˜é‡å¯¹è±¡ï¼ˆVariable-Objectï¼ŒVOï¼‰" class="headerlink" title="äº”ã€å˜é‡å¯¹è±¡ï¼ˆVariable Objectï¼ŒVOï¼‰"></a>äº”ã€å˜é‡å¯¹è±¡ï¼ˆVariable Objectï¼ŒVOï¼‰</h1><p>å˜é‡å¯¹è±¡æ— éä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡å°±æ˜¯ä¸ºäº†æ‰¿è½½æ•°æ®è€Œå­˜åœ¨çš„ã€‚æ‰€ä»¥å˜é‡å¯¹è±¡å°±æ˜¯ä¸€äº›æ•°æ®çš„è½½ä½“ï¼Œåªæ˜¯è¿™ä¸ªå¯¹è±¡æˆ‘ä»¬å¹¶ä¸èƒ½å¤Ÿå»å®é™…çš„åˆ›å»ºå‡ºæ¥ï¼Œçœ‹ä¸è§æ‘¸ä¸ç€è€Œå·²ã€‚</p>
<h2 id="å˜é‡å¯¹è±¡çš„åˆ›å»º"><a href="#å˜é‡å¯¹è±¡çš„åˆ›å»º" class="headerlink" title="å˜é‡å¯¹è±¡çš„åˆ›å»º"></a>å˜é‡å¯¹è±¡çš„åˆ›å»º</h2><ol>
<li>å»ºç«‹argumentså¯¹è±¡ã€‚æ£€æŸ¥å½“å‰ä¸Šä¸‹æ–‡ä¸­çš„å‚æ•°ï¼Œå»ºç«‹è¯¥å¯¹è±¡ä¸‹çš„å±æ€§ä¸å±æ€§å€¼ã€‚</li>
<li>æ£€æŸ¥å½“å‰ä¸Šä¸‹æ–‡çš„å‡½æ•°å£°æ˜ï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨functionå…³é”®å­—å£°æ˜çš„å‡½æ•°ã€‚åœ¨å˜é‡å¯¹è±¡ä¸­ä»¥å‡½æ•°åå»ºç«‹ä¸€ä¸ªå±æ€§ï¼Œå±æ€§å€¼ä¸ºæŒ‡å‘è¯¥å‡½æ•°æ‰€åœ¨å†…å­˜åœ°å€çš„å¼•ç”¨ã€‚å¦‚æœå‡½æ•°åçš„å±æ€§å·²ç»å­˜åœ¨ï¼Œé‚£ä¹ˆè¯¥å±æ€§å°†ä¼šè¢«æ–°çš„å¼•ç”¨æ‰€è¦†ç›–ã€‚</li>
<li>æ£€æŸ¥å½“å‰ä¸Šä¸‹æ–‡ä¸­çš„å˜é‡å£°æ˜ï¼Œæ¯æ‰¾åˆ°ä¸€ä¸ªå˜é‡å£°æ˜ï¼Œå°±åœ¨å˜é‡å¯¹è±¡ä¸­ä»¥å˜é‡åå»ºç«‹ä¸€ä¸ªå±æ€§ï¼Œå±æ€§å€¼ä¸ºundefinedã€‚å¦‚æœè¯¥å˜é‡åçš„å±æ€§å·²ç»å­˜åœ¨ï¼Œä¸ºäº†é˜²æ­¢åŒåçš„å‡½æ•°è¢«ä¿®æ”¹ä¸ºundefinedï¼Œåˆ™ä¼šç›´æ¥è·³è¿‡ï¼ŒåŸå±æ€§å€¼ä¸ä¼šè¢«ä¿®æ”¹ã€‚è¿™é‡Œç‰µæ‰¯åˆ°ä¸€ä¸ªå˜é‡æå‡çš„æ¦‚å¿µï¼Œé¢è¯•å¸¸è€ƒã€‚</li>
</ol>
<h2 id="å˜é‡æå‡"><a href="#å˜é‡æå‡" class="headerlink" title="å˜é‡æå‡"></a>å˜é‡æå‡</h2><p>å˜é‡æå‡è¿™ä¸ªæ¦‚å¿µå…¶å®å¾ˆå¥½ç†è§£ï¼Œåœ¨ä¸€ä¸ªjsç¨‹åºä¸­ï¼Œä½¿ç”¨<code>var</code>å…³é”®å­—å£°æ˜çš„å˜é‡ä¼šåœ¨ç¨‹åºæ‰§è¡Œæ—¶æå‰å»<strong>å£°æ˜</strong>ã€‚ä»…æ­¤è€Œå·²ã€‚æˆ‘ä»¬å†æ¥çœ‹çœ‹jsç¨‹åºæ˜¯å¦‚ä½•å»å£°æ˜ä¸€ä¸ªå˜é‡çš„ã€‚<code>var name;</code>è¿™æ ·å°±å£°æ˜äº†ä¸€ä¸ªå˜é‡åä¸º<code>name</code>çš„å˜é‡ã€‚è¿™ä¹ˆå£°æ˜ä¸€ä¸ªå˜é‡çš„è¯ï¼Œå˜é‡çš„å€¼æ¯«æ— ç–‘é—®å°±æ˜¯ä¸€ä¸ª<code>undefined</code>ã€‚æ€»ç»“ä¸€ä¸‹å°±æ˜¯ï¼šjså¼•æ“å°†ä½¿ç”¨<code>var</code>å£°æ˜çš„å˜é‡èµ‹å€¼ä¸º<code>undefined</code>æ”¾åœ¨äº†ç¨‹åºå¼€å§‹æ‰§è¡Œçš„ç¬¬ä¸€æ­¥å»åšäº†ã€‚è¿™ä¸ªæ¦‚å¿µå°±è¿™ä¹ˆç®€æ´æ˜äº†çš„è§£é‡Šæ¸…æ¥šäº†ã€‚</p>
<p><strong>å˜é‡æå‡çš„ä½œç”¨ï¼š</strong><br>é‚£ä¸ºä»€ä¹ˆjså¼•æ“è¦åšè¿™ä¸ªå˜é‡æå‡çš„äº‹æƒ…å‘¢ï¼Œè¿™ä¸ªä¸»è¦è¿˜æ˜¯ä¸ºäº†èŠ‚çº¦CPUå¼€é”€å»è€ƒè™‘çš„ä¸€ä¸ªäº‹æƒ…ï¼Œå› ä¸ºå£°æ˜å˜é‡æ˜¯éœ€è¦å»åœ¨å†…å­˜ä¸­å¼€è¾Ÿå‡ºä¸€å—ç©ºé—´æ¥å­˜æ”¾è¿™ä¸ªå˜é‡çš„ã€‚è¿™ä¸ªåŠ¨ä½œæ˜¯æ¯”è¾ƒè€—è´¹CPUèµ„æºçš„ä¸€ä¸ªåŠ¨ä½œï¼Œå¦‚æœåœ¨ç¨‹åºä¸­å¤§é‡çš„å»æ‰§è¡Œè¿™ä¸ªåŠ¨ä½œçš„è¯ï¼Œæ¯«æ— ç–‘é—®ä¼šå¯¹ç¨‹åºæ‰§è¡Œçš„æ•ˆç‡é€ æˆä¸€å®šçš„å½±å“ã€‚æ‰€ä»¥å°†è¿™ä¸€ç±»çš„æ“ä½œï¼Œå…¨éƒ¨æå‰ä¸€æ¬¡æ€§çš„ç»™ä»–å®Œæˆäº†ï¼Œä»¥è¿™æ ·çš„æ–¹å¼æ¥æå‡ç¨‹åºçš„æ‰§è¡Œæ•ˆç‡ã€‚</p>
<p><strong>æˆ‘ä»¬ç»“åˆä¸€ä¸ªä¾‹å­æ¥æ›´åŠ æ¸…æ¥šçš„ç†è§£ä¸€ä¸‹è¿™ä¸ªæ¦‚å¿µï¼š</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">// è¾“å‡ºundefined</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">10</span>;</span><br></pre></td></tr></table></figure>
<p>è¿™æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œå¾ˆå¥½çš„å±•ç°äº†å˜é‡æå‡è¿™ä¸ªæ¦‚å¿µã€‚é¦–å…ˆåœ¨å…¨å±€ä½œç”¨åŸŸä¸­ï¼Œjså¼•æ“å»æœç´¢äº†æ‰€æœ‰<code>var</code>å£°æ˜çš„å˜é‡ï¼Œç„¶ååœ¨å½“å‰çš„è¿™ä¸ªä½œç”¨åŸŸä¸­æå‰å£°æ˜ï¼Œå†é€è¡Œæ‰§è¡Œä»£ç ã€‚ä¹Ÿå°±æ˜¯è¯´ä¸Šé¢çš„è¿™æ®µä»£ç å®é™…ä¸Šæ˜¯ä¸‹é¢çš„è¿™ä¸ªæ ·å­çš„ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a;</span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">// è¾“å‡ºundefined</span></span><br><span class="line">a = <span class="number">10</span>;</span><br></pre></td></tr></table></figure>
<p>è¿™ä¹ˆçœ‹æ¥å°±æ¯«æ— ç–‘é—®è¾“å‡ºä¸€ä¸ª<code>undefined</code>äº†ã€‚</p>
<h2 id="windowå¯¹è±¡"><a href="#windowå¯¹è±¡" class="headerlink" title="windowå¯¹è±¡"></a>windowå¯¹è±¡</h2><p>ä»‹ç»ä¸€ä¸ªå¾ˆé‡è¦çš„å¯¹è±¡ï¼Œ<code>window</code>å¯¹è±¡ï¼Œè¿™æ˜¯ä¸€ä¸ªå†…ç½®çš„å…¨å±€å¯¹è±¡ï¼Œä¹‹æ‰€ä»¥è¯´è¿™ä¸ªå¯¹è±¡å¾ˆé‡è¦å‘¢æ˜¯å› ä¸ºæˆ‘ä»¬æ‰€å£°æ˜çš„ä¸€äº›å…¨å±€å˜é‡éƒ½æ˜¯è¿™ä¸ªå¯¹è±¡ä¸‹çš„å±æ€§ï¼Œæˆ‘ä»¬æ‰€å†™çš„æ–¹æ³•ä¹Ÿæ˜¯è¿™ä¸ªå¯¹è±¡çš„æ–¹æ³•ã€‚</p>
<p>æˆ‘ä¸ªäººå…¶å®æ›´æ„¿æ„å°†è¿™ä¸ª<code>window</code>å¯¹è±¡ç†è§£ä¸ºä¸€ä¸ªç‰¹æ®Šçš„<strong>å˜é‡å¯¹è±¡</strong>ï¼ˆä¸€ä¸ªå…¨å±€çš„å˜é‡å¯¹è±¡ï¼‰æˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹å˜é‡å¯¹è±¡åœ¨åˆ›å»ºçš„æ—¶å€™éƒ½åšäº†ä»€ä¹ˆå’Œ<code>widnow</code>å¯¹è±¡éƒ½æœ‰ä»€ä¹ˆã€‚</p>
<ol>
<li>é¦–å…ˆåˆ›å»ºå˜é‡å¯¹è±¡çš„ç¬¬ä¸€æ­¥æ˜¯ï¼šå»ºç«‹argumentså¯¹è±¡ã€‚æ£€æŸ¥å½“å‰ä¸Šä¸‹æ–‡ä¸­çš„å‚æ•°ï¼Œå»ºç«‹è¯¥å¯¹è±¡ä¸‹çš„å±æ€§ä¸å±æ€§å€¼ã€‚<br> <code>window</code>å¯¹è±¡åšä¸ºä¸€ä¸ªå…¨å±€çš„å¯¹è±¡ï¼Œå¹¶æ²¡æœ‰å‚æ•°ä¼ é€’è¿›æ¥ï¼Œè‡ªç„¶ä¹Ÿå°±æ²¡æœ‰è¿™ä¸€æ­¥ã€‚</li>
<li>ç„¶åç¬¬äºŒæ­¥æ˜¯ï¼šæ£€æŸ¥å½“å‰æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­çš„å‡½æ•°å£°æ˜ï¼Œåœ¨å˜é‡å¯¹è±¡ä¸­ä»¥å‡½æ•°åå»ºç«‹ä¸€ä¸ªå±æ€§ï¼Œå±æ€§å€¼ä¸ºæŒ‡å‘è¯¥å‡½æ•°æ‰€åœ¨å†…å­˜åœ°å€çš„å¼•ç”¨ã€‚<br> è¿™ä¸€æ­¥åœ¨<code>window</code>å¯¹è±¡ä¸­æ˜¯æœ‰ä½“ç°çš„ï¼Œå› ä¸ºåœ¨jsç¨‹åºä¸­å£°æ˜çš„å…¨å±€å‡½æ•°éƒ½æ˜¯å¯ä»¥ç›´æ¥é€šè¿‡<code>window</code>å¯¹è±¡å»ç›´æ¥<code>.</code>çš„è°ƒç”¨çš„ã€‚è€Œä¸”<code>window</code>å¯¹è±¡è¿˜ä¸ºæˆ‘ä»¬å†…ç½®äº†è®¸å¤šçš„æ–¹æ³•å¯ä»¥ç›´æ¥è°ƒç”¨ï¼Œä¸éœ€è¦è‡ªå·±æ‰‹åŠ¨çš„å»å†™ï¼Œå°è£…äº†ä¸€äº›æ›´æ–¹ä¾¿çš„å·¥å…·æ–¹æ³•ã€‚</li>
<li>æœ€åç¬¬ä¸‰æ­¥æ˜¯ï¼šæ£€æŸ¥å½“å‰ä¸Šä¸‹æ–‡ä¸­çš„å˜é‡å£°æ˜ï¼Œæ¯æ‰¾åˆ°ä¸€ä¸ªå˜é‡å£°æ˜ï¼Œå°±åœ¨å˜é‡å¯¹è±¡ä¸­ä»¥å˜é‡åå»ºç«‹ä¸€ä¸ªå±æ€§ï¼Œå±æ€§å€¼ä¸ºundefinedã€‚<br> æˆ‘ä»¬åœ¨å£°æ˜å…¨å±€çš„å˜é‡æ—¶å…¶å®å°±æ˜¯åœ¨å£°æ˜ä¸€ä¸ª<code>window</code>å¯¹è±¡çš„å±æ€§ã€‚</li>
</ol>
<p><strong>æ¥çœ‹ä¸€äº›ç®€å•çš„ä¾‹å­ï¼š</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">"zhangsan"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"fn"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.name === name); <span class="comment">// è¾“å‡ºtrue</span></span><br><span class="line"><span class="built_in">window</span>.fn(); <span class="comment">// è¾“å‡ºfn</span></span><br></pre></td></tr></table></figure>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå®šä¹‰çš„å…¨å±€å˜é‡æˆ–è€…æ˜¯æ–¹æ³•ï¼Œéƒ½å¯ä»¥ä½¿ç”¨<code>windwow</code>å»<code>.</code>ä¸€ä¸‹è°ƒç”¨å‡ºæ¥ã€‚ç”šè‡³æ˜¯ä¸€ä¸ªæ²¡æœ‰å®šä¹‰çš„å˜é‡ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨<code>window</code>å¯¹è±¡å»<code>.</code>å‡ºæ¥ã€‚åœ¨ä¸Šé¢ä½œç”¨åŸŸçš„å“ªä¸ªä¾‹å­ä¸­å¦‚æœä½¿ç”¨<code>window</code>å¯¹è±¡å»è°ƒç”¨å˜é‡<code>name1</code>çš„è¯æ˜¯ä¸ä¼šæŠ¥é”™çš„ã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">"zhangsan"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name1 = <span class="string">"lisi"</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(name);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(name);   <span class="comment">// è¾“å‡ºzhangsan</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.name1);  <span class="comment">//è¾“å‡ºundefined</span></span><br><span class="line">fn();  <span class="comment">// è¾“å‡ºzhangsan</span></span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼Œç„¶ååˆ†æä¸€ä¸‹è¿™ä¸ª<code>window</code>å¯¹è±¡</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> name;</span><br><span class="line"><span class="built_in">console</span>.log(name);  <span class="comment">// è¾“å‡ºundefined</span></span><br><span class="line"></span><br><span class="line">conosle.log(<span class="built_in">window</span>.name1);  <span class="comment">// è¾“å‡ºundefined</span></span><br></pre></td></tr></table></figure>
<p><strong>æ³¨æ„ï¼šä¸Šé¢è¿™ä¸ªä¾‹å­éœ€è¦åœ¨IEæµè§ˆå™¨ä¸­è¿è¡Œæ‰ä¼šå‡ºæ•ˆæœ</strong></p>
<blockquote>
<p>ä»¥ä¸Šæ˜¯æˆ‘çš„ä¸€äº›ä¸ªäººçœ‹æ³•ï¼Œå¦‚æœæœ‰ä¸å¯¹çš„åœ°æ–¹ï¼Œè¿˜è¯·åœ¨è¯„è®ºåŒºç›´æ¥æŒ‡å‡ºã€‚</p>
</blockquote>
<h2 id="æ´»åŠ¨å¯¹è±¡ï¼ˆActivation-Objectï¼ŒAOï¼‰"><a href="#æ´»åŠ¨å¯¹è±¡ï¼ˆActivation-Objectï¼ŒAOï¼‰" class="headerlink" title="æ´»åŠ¨å¯¹è±¡ï¼ˆActivation Objectï¼ŒAOï¼‰"></a>æ´»åŠ¨å¯¹è±¡ï¼ˆActivation Objectï¼ŒAOï¼‰</h2><p>å‰æ–‡æåˆ°çš„å˜é‡å¯¹è±¡åœ¨æ‰§è¡Œä¸Šä¸‹æ–‡çš„<strong>åˆ›å»ºé˜¶æ®µ</strong>è¢«åˆ›å»ºå‡ºæ¥ï¼Œä½†æ˜¯è¿™ä¸ªæ—¶å€™æˆ‘ä»¬æ˜¯æ²¡åŠæ³•å»è®¿é—®å˜é‡å¯¹è±¡é‡Œé¢çš„å±æ€§çš„ã€‚<br>ä½†æ˜¯åœ¨æ‰§è¡Œä¸Šä¸‹æ–‡çš„<strong>åˆ›å»ºé˜¶æ®µ</strong>ç»“æŸåè¿›å…¥<strong>æ‰§è¡Œé˜¶æ®µ</strong>æ—¶ï¼Œå˜é‡å¯¹è±¡ä¼šè½¬å˜æˆä¸ºæ´»åŠ¨å¯¹è±¡ã€‚è¿™æ˜¯å°±å¯ä»¥è®¿é—®é‡Œé¢çš„å±æ€§äº†ã€‚<br>æ‰€ä»¥ï¼Œå®é™…ä¸Šå˜é‡å¯¹è±¡å’Œæ´»åŠ¨å¯¹è±¡æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œåªæ˜¯å¤„äºæ‰§è¡Œä¸Šä¸‹æ–‡ç”Ÿå‘½å‘¨æœŸçš„ä¸åŒé˜¶æ®µè€Œå·²ã€‚</p>
<h1 id="å…­ã€thiså…³é”®å­—"><a href="#å…­ã€thiså…³é”®å­—" class="headerlink" title="å…­ã€thiså…³é”®å­—"></a>å…­ã€thiså…³é”®å­—</h1><h2 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h2><p>é¦–å…ˆè¦è¯´æ˜çš„ä¸€ç‚¹æ˜¯ï¼š<code>this</code>å¹¶ä¸æ˜¯åœ¨å®šä¹‰å‡½æ•°çš„æ—¶å€™ç¡®å®šçš„ï¼Œå‰æ–‡æè¿‡ï¼Œä¸€ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡åœ¨åˆ›å»ºçš„é˜¶æ®µæœ€é‡è¦çš„ä¸‰ä»¶äº‹ä¹‹ä¸­å…¶ä¸­ä¹‹ä¸€å°±æ˜¯ç¡®å®š<code>this</code>çš„æŒ‡å‘ï¼Œæ‰€ä»¥<code>this</code>æ˜¯åœ¨æ‰§è¡Œä¸Šä¸‹æ–‡åˆ›å»ºçš„æ—¶å€™æ‰ä¼šå»æŒ‡å®šçš„ã€‚è€Œæ‰§è¡Œä¸Šä¸‹æ–‡æœ‰å…¨å±€çš„è¿˜æœ‰å‡½æ•°çš„ï¼Œå› æ­¤<code>this</code>å¯ä»¥è¢«å‰–æä¸ºå…¨å±€çš„<code>this</code>å’Œå‡½æ•°çš„<code>this</code>ã€‚<br>å®é™…ä¸Šï¼Œå¦‚æœåœ¨ä¸€ä¸ªå¯¹è±¡ä¸­å»å®šä¹‰äº†ä¸€ä¸ªå‡½æ•°çš„è¯ï¼Œå…¶å®æ˜¯å°†è¿™ä¸ªå‡½æ•°åœ¨å †å†…å­˜ä¸­å£°æ˜äº†ä¸€ä¸‹ï¼Œå†å»èµ‹å€¼ç»™å¯¹è±¡ä¸­çš„å±æ€§ï¼Œæ‰€ä»¥åœ¨è°ƒç”¨è¿™ä¸ªå¯¹è±¡çš„è¿™ä¸ªå‡½æ•°çš„å±æ€§çš„æ—¶å€™å…¶å®å¹¶ä¸ä¸€å®šæ˜¯åœ¨åŒä¸€ä¸ªä½œç”¨åŸŸä¸‹å»è°ƒç”¨çš„ï¼Œé’ˆå¯¹ä¸åŒçš„ä½œç”¨åŸŸï¼Œ<code>this</code>çš„æŒ‡å‘ä¹Ÿå°±ä¸åŒã€‚</p>
<p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¾‹å­åŠ æ·±ç†è§£ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">'zhangsan'</span>;</span><br><span class="line">  </span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  name: <span class="string">'lisi'</span>,</span><br><span class="line">  fn: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  subObj: &#123;</span><br><span class="line">    fn: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">obj.fn(); <span class="comment">// è¾“å‡ºlisi</span></span><br><span class="line">obj.subObj.fn() <span class="comment">// è¾“å‡ºundefined</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> say = obj.subObj.fn;</span><br><span class="line">say(); <span class="comment">// è¾“å‡ºzhangsan</span></span><br></pre></td></tr></table></figure>
<p>åœ¨ä¸Šé¢è¿™ä¸ªä¾‹å­ä¸­ï¼Œä¸‰ä¸ª<code>this</code>åˆ†åˆ«æŒ‡å‘ä¸‰ä¸ªä¸åŒçš„å¯¹è±¡ã€‚</p>
<p>ç¬¬ä¸€ä¸ª<code>obj.fn()</code>ç›´æ¥ç”±<code>obj</code>å¯¹è±¡è°ƒç”¨ï¼ŒæŒ‡å‘çš„æ˜¯<code>obj</code>å¯¹è±¡ã€‚</p>
<p>ç¬¬äºŒä¸ª<code>obj.subObj.fn()</code>ç”±<code>obj</code>å¯¹è±¡å»è°ƒç”¨äº†<code>subObj</code>å¯¹è±¡ï¼Œå†ç”±<code>subObj</code>å¯¹è±¡å»è°ƒç”¨äº†<code>fn</code>æ–¹æ³•ï¼Œæ‰€ä»¥å®é™…ä¸Šæ˜¯<code>subObj</code>å¯¹è±¡å»è°ƒç”¨äº†<code>fn</code>æ–¹æ³•ï¼Œæ‰€å¤„çš„ä¹Ÿå°±æ˜¯<code>sub</code>å¯¹è±¡çš„ä½œç”¨åŸŸä¹‹ä¸­ï¼Œè‡ªç„¶æŒ‡å‘çš„ä¹Ÿå°±æ˜¯<code>sub</code>å¯¹è±¡äº†ã€‚</p>
<p>ç¬¬ä¸‰ä¸ª<code>say</code>å¯¹è±¡æ˜¯ç”±<code>obj.subObj.fn</code>å¯¹è±¡èµ‹å€¼è€Œæ¥çš„ï¼Œè€Œ<code>say</code>å¯¹è±¡åˆæ˜¯å¤„äºå…¨å±€çš„ä½œç”¨åŸŸä¸‹ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œè™½ç„¶æ˜¯å£°æ˜äº†ä¸€ä¸ª<code>obj.subObj.fn</code>å¯¹è±¡ï¼Œä½†æ˜¯æ‰€å¤„çš„ä½œç”¨åŸŸç¡®å®ä¸€ä¸ªå…¨å±€ä½œç”¨åŸŸï¼ŒæŒ‡å‘çš„ä¹Ÿå°±æ˜¯å…¨å±€ä¸­çš„<code>window</code>å¯¹è±¡ã€‚</p>
<p>ä¸Šé¢è¿™ä¸ªä¾‹å­å¾ˆå¥½çš„è¯ é‡Šäº†<code>this</code>è¿™ä¸ªå…³é”®å­—åœ¨ä¸åŒæƒ…å†µä¸‹æŒ‡å‘çš„æ˜¯å®Œå…¨ä¸åŒçš„å¯¹è±¡ã€‚<strong>è°¨è®°ä¸€ç‚¹<code>this</code>å…³é”®å­—æ˜¯åœ¨è°ƒç”¨æ—¶æ‰èƒ½å¤Ÿç¡®å®šæŒ‡å‘çš„</strong>ã€‚</p>
<h3 id="å…¨å±€ä¸­çš„this"><a href="#å…¨å±€ä¸­çš„this" class="headerlink" title="å…¨å±€ä¸­çš„this"></a>å…¨å±€ä¸­çš„this</h3><p>å…¨å±€ä¸­çš„<code>this</code>å¯¹è±¡éå¸¸ç®€å•ï¼Œå°±æ˜¯æŒ‡å‘äº†ä¸Šæ–‡æåˆ°çš„<code>window</code>å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è¯´ä»»ä½•åœ¨å‡½æ•°å¤–éƒ¨çš„<code>this</code>éƒ½æ˜¯æŒ‡å‘äº†<code>window</code>å¯¹è±¡ã€‚<br>ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="keyword">this</span> === <span class="built_in">window</span>) <span class="comment">// è¾“å‡ºtrue</span></span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢è¿™ä¸ªä¾‹å­ä¸­ï¼Œç›´æ¥åœ¨å…¨å±€ä¸­æ¯”è¾ƒ<code>this</code>å¯¹è±¡å’Œ<code>window</code>å¯¹è±¡ï¼Œç»“æœä¸ºtrueã€‚å……åˆ†è¯æ˜äº†åœ¨å…¨å±€ç¯å¢ƒä¸­ï¼Œ<code>this</code>æŒ‡å‘çš„å°±æ˜¯<code>window</code>å¯¹è±¡ã€‚</p>
<h3 id="å‡½æ•°ä¸­çš„this"><a href="#å‡½æ•°ä¸­çš„this" class="headerlink" title="å‡½æ•°ä¸­çš„this"></a>å‡½æ•°ä¸­çš„this</h3><ol>
<li><p><strong>æ™®é€šå‡½æ•°</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn(); <span class="comment">// è¾“å‡ºWindow</span></span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªå¾ˆå¥½ç†è§£ï¼Œ<code>fn()</code>å¤„äºä¸€ä¸ªå…¨å±€ä½œç”¨åŸŸä¸­ç”±<code>window</code>å¯¹è±¡ç›´æ¥è°ƒç”¨ï¼Œæ‰€ä»¥<code>this</code>æŒ‡å‘çš„æ˜¯<code>window</code>å¯¹è±¡æœ¬èº«ã€‚</p>
</li>
<li><p><strong>æ„é€ å‡½æ•°</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = <span class="string">'zhangsan'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> Fn();</span><br><span class="line"><span class="built_in">console</span>.log(a.name); <span class="comment">// è¾“å‡ºzhangsan</span></span><br></pre></td></tr></table></figure>
<p>ä»»ä½•ä½¿ç”¨<code>new</code>å…³é”®å­—åˆ›å»ºå‡ºæ¥çš„éƒ½æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ˜¯ä¸€ä¸ªåœ¨<strong>å †å†…å­˜</strong>ä¸­çš„å¯¹è±¡ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œ<code>this</code>æŒ‡çš„æ˜¯æ–°åˆ›å»ºçš„è¿™ä¸ªå¯¹è±¡ã€‚</p>
</li>
</ol>
<hr>
<p>å¤§å®¶åŠ æ²¹ï¼šï¼‰</p>
]]></content>
      <categories>
        <category>JavaScriptåŸºç¡€</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€JavaScriptã€‘æ•°æ®ç±»å‹</title>
    <url>/posts/24923/</url>
    <content><![CDATA[<p>æˆ‘ä»¬æ‰€ä½¿ç”¨çš„ç¼–ç¨‹è¯­è¨€ï¼Œä¸ç®¡æ˜¯jsä¹Ÿå¥½æˆ–è€…æ˜¯å…¶ä»–çš„ä¸€äº›è¯­è¨€ï¼Œä¾‹å¦‚ï¼šJavaã€C++ã€‚æˆ‘ä»¬åœ¨ç¼–å†™ç¨‹åºçš„æ—¶å€™å®é™…ä¸Šéƒ½æ˜¯åœ¨å¯¹æ•°æ®è¿›è¡Œæ“ä½œã€‚å¦‚æœè„±ç¦»äº†æ•°æ®ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç¼–å†™çš„ç¨‹åºå°†å˜å¾—æ¯«æ— æ„ä¹‰ã€‚ç”šè‡³è„±ç¦»äº†æ•°æ®ä¹‹åæˆ‘ä»¬å°†æ— æ³•ç¼–ç¨‹ã€‚ç”±æ­¤ï¼Œæ•°æ®ç±»å‹ä¾¿æˆäº†é‡ä¸­ä¹‹é‡ã€‚</p>
<a id="more"></a>

<h1 id="ä¸€ã€jsæ•°æ®ç±»å‹ç®€ä»‹"><a href="#ä¸€ã€jsæ•°æ®ç±»å‹ç®€ä»‹" class="headerlink" title="ä¸€ã€jsæ•°æ®ç±»å‹ç®€ä»‹"></a>ä¸€ã€jsæ•°æ®ç±»å‹ç®€ä»‹</h1><ol>
<li>jsçš„æ•°æ®ç±»å‹ä¸»è¦åˆ†ä¸ºä¸¤å¤§ç±»ï¼ŒåŸå§‹ç±»å‹ï¼ˆå³åŸºæœ¬æ•°æ®ç±»å‹ï¼‰å’Œå¯¹è±¡ç±»å‹ï¼ˆå³å¼•ç”¨æ•°æ®ç±»å‹ï¼‰ã€‚</li>
<li>jsä¸­çš„åŸºæœ¬æ•°æ®ç±»å‹å¯ä»¥åˆ†ä¸º5ç§ï¼šNumberã€Stringã€Booleanã€Undefinedã€Nullã€‚</li>
<li>jsä¸­çš„å¼•ç”¨æ•°æ®ç±»å‹ä¹Ÿå°±æ˜¯å¯¹è±¡ç±»å‹Objectï¼Œä¸»è¦æ˜¯Objectã€Arrayã€Functionè¿™å‡ ç§ã€‚</li>
</ol>
<h1 id="äºŒã€åŸºæœ¬æ•°æ®ç±»å‹å’Œå¼•ç”¨æ•°æ®ç±»å‹çš„åŒºåˆ«"><a href="#äºŒã€åŸºæœ¬æ•°æ®ç±»å‹å’Œå¼•ç”¨æ•°æ®ç±»å‹çš„åŒºåˆ«" class="headerlink" title="äºŒã€åŸºæœ¬æ•°æ®ç±»å‹å’Œå¼•ç”¨æ•°æ®ç±»å‹çš„åŒºåˆ«"></a>äºŒã€åŸºæœ¬æ•°æ®ç±»å‹å’Œå¼•ç”¨æ•°æ®ç±»å‹çš„åŒºåˆ«</h1><p>é¦–å…ˆè¿™é‡Œéœ€è¦å…ˆç®€å•çš„ä»‹ç»ä¸€ä¸‹å †å†…å­˜å’Œæ ˆå†…å­˜ã€‚è®¡ç®—æœºçš„å†…å­˜ä¸­æœ‰å †å†…å­˜å’Œæ ˆå†…å­˜ï¼Œæ ˆå†…å­˜å‘¢æ˜¯ä¸€ä¸ªä¸€ä¸ªæ’åˆ—ä¸‹å»çš„æ˜¯æœ‰åºçš„ï¼Œä¹Ÿæ˜¯å›ºå®šå¤§å°çš„ï¼Œåƒæ˜¯æ•°ç»„ä¸€æ ·ï¼›è€Œå †å†…å­˜å‘¢åˆ™åˆšå¥½æ˜¯ä¸æ ˆå†…å­˜ç›¸åï¼Œå †å†…å­˜ä¸­çš„æ•°æ®æ˜¯æ— åºçš„ï¼Œä¹Ÿæ˜¯ä¸å›ºå®šå¤§å°çš„ã€‚</p>
<h2 id="å †æ ˆå†…å­˜çš„ä¼˜ç¼ºç‚¹"><a href="#å †æ ˆå†…å­˜çš„ä¼˜ç¼ºç‚¹" class="headerlink" title="å †æ ˆå†…å­˜çš„ä¼˜ç¼ºç‚¹"></a>å †æ ˆå†…å­˜çš„ä¼˜ç¼ºç‚¹</h2><p>æ ˆå†…å­˜ç”±äºæ˜¯æœ‰åºçš„æ‰€ä»¥åœ¨æŸ¥è¯¢æ•°æ®çš„æ—¶å€™ç›´æ¥æŒ‰ç…§æ’åºçš„åºå·å»æŸ¥çš„è¯æ˜¯æ¯”è¾ƒå¿«çš„ï¼Œä½†æ˜¯ç”±äºå›ºå®šå¤§å°çš„åŸå› å‘¢ï¼Œæ ˆå†…å­˜æ— æ³•éšå¿ƒæ‰€æ¬²çš„å­˜å‚¨æ•°æ®ã€‚å †å†…å­˜ç”±äºä¸å›ºå®šå¤§å°ï¼Œæ‰€ä»¥åœ¨å…¶ä¸­å­˜å‚¨çš„æ•°æ®æ˜¯æ¯”è¾ƒæ–¹ä¾¿çš„ï¼Œä¹Ÿå°±æ˜¯æƒ³æ€ä¹ˆå­˜å°±æ€ä¹ˆå­˜ï¼Œä½†æ˜¯å› ä¸ºå †å†…å­˜ä¸­çš„æ•°æ®æ˜¯æ— åºçš„ï¼Œæ‰€ä»¥åœ¨æŸ¥æ‰¾çš„æ—¶å€™å°±æ˜¯è¦æ¯”è¾ƒæ…¢ä¸€äº›ã€‚  </p>
<blockquote>
<p>æ€»ç»“ï¼šå°±æ˜¯æ ˆå†…å­˜ä¼˜ç‚¹æ˜¯æŸ¥è¯¢å¿«ï¼Œå­˜å‚¨ä¸æ–¹ä¾¿ï¼›è€Œå †å†…å­˜åˆ™æ˜¯å­˜å‚¨æ–¹ä¾¿ï¼Œä½†æŸ¥è¯¢æ…¢ã€‚  </p>
</blockquote>
<p><em>è¿™ä¹ˆè¯´å¯èƒ½è¿˜æ˜¯æœ‰ç‚¹ä¸å¤ªå½¢è±¡ï¼Œä¸¾ä¸ªä¾‹å­å§ã€‚æ ˆå†…å­˜ä¸­çš„ç©ºé—´å‘¢å°±åƒæ˜¯ç°å®ç”Ÿæ´»ä¸­çš„å•†å“æˆ¿ä¸€æ ·ï¼Œä¸€ä¸ªä¸€ä¸ªçš„æˆ¿å­éƒ½æ˜¯å¼€å‘å•†å»ºå¥½çš„ï¼Œæ¯ä¸ªæˆ¿å­çš„å¤§å°æ˜¯å›ºå®šçš„ï¼Œæ¯ä¸ªæˆ¿å­ä¹Ÿæœ‰å¯¹åº”çš„é—¨ç‰Œå·ï¼Œæ¯”å¦‚æŸæŸå•å…ƒçš„å‡ é›¶å‡ è¿™æ ·ï¼ŒæŸ¥æ‰¾èµ·æ¥å‘¢æ˜¯æ¯”è¾ƒæ–¹ä¾¿ã€‚å †å†…å­˜å‘¢å°±åƒæ˜¯ä¸€æ ‹ä¸€æ ‹çš„ç‹¬æ ‹åˆ«å¢…ä¸€æ ·ï¼Œæ²¡æœ‰ä¸€ä¸ªé›†ä¸­çš„ç®¡ç†ï¼Œä½†æ˜¯å¤§å°ä¸å›ºå®šï¼Œå¯èƒ½æ˜¯æœ‰ä¸€å—åœ°ç”¨æ¥å»ºåˆ«å¢…ï¼Œæˆ‘ä»Šå¤©æ‰“ç®—å»ºä¸ª100å¹³ç±³çš„åˆ«å¢…ï¼Œæ˜å¤©æˆ‘å°±å¯èƒ½æ‰©å»ºåˆ°200å¹³ç±³äº†ï¼Œç”šè‡³æ˜¯å†å¾€ä¸Šå¤šå»ºå‡ å±‚ã€‚</em>    </p>
<p>æ—¢ç„¶å †å†…å­˜å’Œæ ˆå†…å­˜æœ‰è¿™æ ·çš„ä¼˜ç¼ºç‚¹ï¼Œé‚£ä¹ˆä½•ä¸å°†ä¸¤è€…çš„ä¼˜ç‚¹ç»“åˆèµ·æ¥ï¼Œåœ¨æ ˆå†…å­˜ä¸­å­˜æ”¾æŒ‡å‘å †å†…å­˜ä¸­çš„æŒ‡é’ˆã€‚è¿™æ ·å¯ä»¥å³æŸ¥è¯¢å¿«åˆå­˜å‚¨æ•°æ®æ–¹ä¾¿ã€‚è¿™æ ·çš„æ•°æ®ä¹Ÿå°±æ˜¯ä¸Šé¢è¯´çš„å¼•ç”¨æ•°æ®ç±»å‹ã€‚æˆ‘ä»¬å¾…ä¼šç»†è¯´ã€‚</p>
<h1 id="ä¸‰ã€åŸºæœ¬æ•°æ®ç±»å‹çš„ç‰¹ç‚¹"><a href="#ä¸‰ã€åŸºæœ¬æ•°æ®ç±»å‹çš„ç‰¹ç‚¹" class="headerlink" title="ä¸‰ã€åŸºæœ¬æ•°æ®ç±»å‹çš„ç‰¹ç‚¹"></a>ä¸‰ã€åŸºæœ¬æ•°æ®ç±»å‹çš„ç‰¹ç‚¹</h1><ol>
<li><p>åŸºæœ¬æ•°æ®ç±»å‹çš„èµ‹å€¼ä»…ä»…åªæ˜¯ç®€å•çš„å€¼ä¼ é€’ï¼š<br>å¦‚æœéœ€è¦ä»ä¸€ä¸ªå˜é‡å‘å¦ä¸€ä¸ªå˜é‡å»èµ‹ä¸€ä¸ªåŸºæœ¬æ•°æ®ç±»å‹çš„å€¼ï¼Œé‚£ä¹ˆä¼šå°†å…¶ä¸­åŸºæœ¬å˜é‡çš„å€¼ç”Ÿæˆä¸€ä¸ªå‰¯æœ¬å†å°†è¿™ä¸ªå‰¯æœ¬çš„å€¼ç›´æ¥ä¼ é€’è¿‡å»ï¼Œè€Œä¸æ˜¯å¼•ç”¨åŒä¸€ä¸ªå€¼ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">18</span>;</span><br><span class="line"><span class="keyword">var</span> b = a;</span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">// è¾“å‡º18</span></span><br><span class="line"><span class="built_in">console</span>.log(b); <span class="comment">// è¾“å‡º18</span></span><br><span class="line">a++;</span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">// è¾“å‡º19</span></span><br><span class="line"><span class="built_in">console</span>.log(b); <span class="comment">// è¾“å‡º18</span></span><br></pre></td></tr></table></figure>
<p>åœ¨ä¸Šè¿°çš„ä¾‹å­ä¸­ï¼Œä¸€å¼€å§‹å…ˆå°†å˜é‡<code>a</code>çš„å€¼èµ‹ç»™äº†å˜é‡<code>b</code>ï¼Œè¿™æ—¶å˜é‡<code>a</code>çš„å€¼å’Œå˜é‡<code>b</code>çš„å€¼éƒ½æ˜¯18ï¼Œç„¶åæˆ‘ä»¬å†å°†å˜é‡<code>a</code>çš„å€¼è¿›è¡Œ<code>++</code>æ“ä½œï¼Œå˜é‡<code>a</code>çš„å€¼å˜æˆäº†19ï¼Œä½†æ˜¯å˜é‡<code>b</code>çš„å€¼ä»»ç„¶è¿˜æ˜¯18ï¼Œç”±æ­¤å¯è§å˜é‡<code>a</code>å’Œå˜é‡<code>b</code>çš„å€¼æ˜¯å®Œå…¨äº’ä¸ç›¸å¹²çš„ï¼Œæ²¡æœ‰å…³ç³»çš„ã€‚</p>
<p> <em>ä¸¾ä¸ªä¾‹å­å§ï¼Œå°±æ¯”å¦‚æˆ‘ä»¬å¹³æ—¶åœ¨ä½¿ç”¨<code>ctrl + c</code>å’Œ<code>ctrl + v</code>å¤åˆ¶é»è´´çš„æ—¶å€™æ˜¯ä¸€æ ·çš„ï¼Œæˆ‘ä»¬å¤åˆ¶çš„æ–‡æœ¬å¹¶ä¸ä¼šéšç€åŸæ¥æ–‡æœ¬çš„æ”¹å˜è€Œæ”¹å˜ï¼ŒåŒæ ·åŸæ¥çš„æ–‡æœ¬ä¹Ÿä¸ä¼šå› ä¸ºè¢«å¤åˆ¶çš„æ–‡æœ¬çš„æ”¹å˜è€Œå‘ç”Ÿä»»ä½•å˜åŒ–ã€‚åŒç†ï¼Œå˜é‡ä¹‹é—´çš„èµ‹å€¼ä¹Ÿæ˜¯ä¸€æ¬¡ç®€å•çš„â€œ<code>ctrl + c</code>å’Œ<code>ctrl + v</code>â€è€Œå·²ã€‚</em></p>
</li>
<li><p>åŸºæœ¬æ•°æ®ç±»å‹çš„å€¼æ˜¯å›ºå®šçš„ï¼Œæ— æ³•ä¿®æ”¹çš„ã€‚æ¯”å¦‚ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">'string'</span>;</span><br><span class="line"><span class="keyword">var</span> anotherStr = str.replace(<span class="string">'s'</span>,<span class="string">''</span>);</span><br><span class="line"><span class="built_in">console</span>.log(str); <span class="comment">// è¾“å‡º string</span></span><br><span class="line"><span class="built_in">console</span>.log(anotherStr); <span class="comment">// è¾“å‡º tring</span></span><br></pre></td></tr></table></figure>
<p>åœ¨ä¸Šé¢çš„è¿™ä¸ªä¾‹å­ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå­—ç¬¦ä¸²<code>str</code>çš„å€¼ä¸€ç›´éƒ½æ˜¯<code>string</code>ï¼Œå°½ç®¡æˆ‘ä»¬è°ƒç”¨çš„<code>replace</code>æ–¹æ³•å°†å…¶ä¸­çš„<code>s</code>æ›¿æ¢æˆäº†ç©ºå­—ç¬¦ä¸²ï¼Œä½†æ˜¯å®é™…ä¸Šçš„<code>str</code>çš„å€¼å¹¶æ²¡æœ‰è¢«ä¿®æ”¹ï¼Œä»»ç„¶æ˜¯<code>string</code>ã€‚ä¿®æ”¹åçš„å€¼ä¼ å›æ¥äº†ä¸€ä¸ªæ–°çš„å˜é‡ï¼Œè¿™ä¸ªå˜é‡çš„å€¼æ‰æ˜¯<code>tring</code>ï¼Œç„¶è€Œè¿™æ˜¯ä¸€ä¸ªå…¨æ–°çš„å˜é‡è·ŸåŸæ¥çš„<code>str</code>å¹¶æ²¡æœ‰ä»€ä¹ˆå…³ç³»ã€‚</p>
<p> <strong>æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">'zhangsan'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(name); <span class="comment">// è¾“å‡ºzhangsan</span></span><br><span class="line">name = <span class="string">'lisi'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(name); <span class="comment">// è¾“å‡ºlisi</span></span><br></pre></td></tr></table></figure>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­çœ‹èµ·æ¥<code>name</code>çš„å€¼ç”±â€œzhangsanâ€è¢«ä¿®æ”¹ä¸ºâ€œlisiâ€ï¼Œä½†å…¶å®å¹¶ä¸æ˜¯ä¿®æ”¹ï¼ŒåŸæ¥çš„â€œzhangsanâ€è¿˜æ˜¯â€œzhangsanâ€ï¼Œåªæ˜¯è¢«ä¸€ä¸ªæ–°çš„å€¼â€œlisiâ€è¦†ç›–æ‰äº†è€Œå·²ã€‚</p>
<p> <em>è¿™ä¹ˆè¯´èµ·æ¥å¯èƒ½ä¸æ˜¯å¾ˆå½¢è±¡ï¼Œä¸¾ä¸ªä¾‹å­å§ã€‚ç°å®ç”Ÿæ´»ä¸­æˆ‘ä»¬åœ¨ç”»ç”»çš„æ—¶å€™å¦‚æœåŸæœ¬çš„é¢œè‰²æ˜¯çº¢è‰²çš„ï¼Œä½†æ˜¯æˆ‘ä»¬æƒ³è¦å°†å…¶ä¿®æ”¹ä¸ºç»¿è‰²çš„è¯æˆ‘ä»¬æ˜¯å°†æ–°çš„ç»¿è‰²çš„é¢œæ–™ç›´æ¥æ¶‚æŠ¹åœ¨åŸæ¥çº¢è‰²çš„åœ°æ–¹ä¸Šé¢ï¼Œè¿™æ ·åœ¨æˆ‘ä»¬çœ‹æ¥å¥½åƒçº¢è‰²è¢«ä¿®æ”¹ä¸ºç»¿è‰²ï¼Œä½†çº¢è‰²è¿˜æ˜¯çº¢è‰²åªæ˜¯è¢«è¦†ç›–äº†æˆ‘ä»¬çœ‹ä¸åˆ°äº†è€Œå·²ï¼Œæˆ‘ä»¬çœ‹åˆ°çš„æ˜¯ç»¿è‰²ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ä¹Ÿæ˜¯åŒç†ã€‚</em></p>
</li>
</ol>
<h1 id="å››ã€äº”ç§åŸºæœ¬æ•°æ®ç±»å‹è¯¦è§£"><a href="#å››ã€äº”ç§åŸºæœ¬æ•°æ®ç±»å‹è¯¦è§£" class="headerlink" title="å››ã€äº”ç§åŸºæœ¬æ•°æ®ç±»å‹è¯¦è§£"></a>å››ã€äº”ç§åŸºæœ¬æ•°æ®ç±»å‹è¯¦è§£</h1><h2 id="typeofè¿ç®—ç¬¦"><a href="#typeofè¿ç®—ç¬¦" class="headerlink" title="typeofè¿ç®—ç¬¦"></a>typeofè¿ç®—ç¬¦</h2><p>æˆ‘ä»¬è¦æ£€æµ‹ä¸€ç§åŸºæœ¬æ•°æ®ç±»å‹æ—¶å¯ä»¥ä½¿ç”¨typeofè¿ç®—ç¬¦å»æ£€æµ‹ï¼Œå…¶è¯­æ³•æ˜¯<code>typeof å˜é‡</code>ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="number">123</span>);            <span class="comment">// è¾“å‡ºnumber</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="string">'string'</span>);       <span class="comment">// è¾“å‡ºstring</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="literal">true</span>);           <span class="comment">// è¾“å‡ºboolean</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="literal">null</span>);           <span class="comment">// è¾“å‡ºObject</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="literal">undefined</span>);      <span class="comment">// è¾“å‡ºundefined</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;);   <span class="comment">// è¾“å‡ºfunction</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨æ„ï¼šæ£€æµ‹nullæ—¶è¿”å›çš„æ˜¯ä¸€ä¸ªObjectç±»å‹ï¼Œè¿™æ˜¯å› ä¸ºnullç±»å‹å…¶å®æ˜¯ä¸€ä¸ªç©ºçš„å¯¹è±¡åº”ç”¨ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªå¯¹è±¡ä½†ä»€ä¹ˆéƒ½æ²¡æœ‰ã€‚</p>
</blockquote>
<h2 id="Number-æ•°å€¼ç±»å‹"><a href="#Number-æ•°å€¼ç±»å‹" class="headerlink" title="Number(æ•°å€¼ç±»å‹)"></a>Number(æ•°å€¼ç±»å‹)</h2><p>åœ¨ä¸€äº›å¼ºè¯­è¨€ä¸­ï¼Œæ•°å€¼ç±»å‹å¯èƒ½ä¼šåˆ†ä¸ºæ•´æ•°å’Œæµ®ç‚¹æ•°ï¼Œå†æ ¹æ®å ç”¨çš„é•¿åº¦å»å†å¾€ä¸‹ç»§ç»­åˆ†ä¸ºå¥½å‡ ç§æ•°æ®ç±»å‹ï¼Œæ¯”å¦‚Javaå’ŒCã€‚ä½†æ˜¯åœ¨jsä¸­æ•°å€¼ç±»å‹åªæœ‰ä¸€ç§å°±æ˜¯Numberï¼Œåœ¨å®šä¹‰ä¸€ä¸ªæ•°å€¼ç±»å‹æ—¶åŠ ä¸åŠ å°æ•°ç‚¹éƒ½æ˜¯å¯ä»¥çš„ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> number = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> number); <span class="comment">// è¾“å‡ºnumber</span></span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„è¿™ä¸ªä¾‹å­ä¸­ä¸ºæˆ‘ä»¬å±•ç¤ºäº†å¦‚ä½•å»å®šä¹‰ä¸€ä¸ªnumberç±»å‹çš„å˜é‡ï¼Œä»¥åŠå¦‚ä½•å»æ£€æµ‹ä¸€ä¸ªnumberå˜é‡ã€‚<br>jsä¸­å¦‚æœéœ€è¦è¡¨ç¤ºä¸€ä¸ªéå¸¸å¤§æˆ–è€…æ˜¯éå¸¸å°çš„æ•°å­—å¯ä»¥ä½¿ç”¨ç§‘å­¦è®¡æ•°æ³•ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> num1 = <span class="number">123e+5</span>;  <span class="comment">// è¡¨ç¤ºçš„æ˜¯ 12300000</span></span><br><span class="line"><span class="keyword">var</span> num2 = <span class="number">123e-5</span>;  <span class="comment">// è¡¨ç¤ºçš„æ˜¯ 0.00123</span></span><br></pre></td></tr></table></figure>
<p>jsä¸­è¡¨ç¤ºæœ€å¤§çš„æ•°å€¼æ˜¯<code>Number.MAX_VALUE</code>ï¼Œä¸ä¹‹å¯¹åº”çš„æ˜¯<code>Numver.MIN_VALUE</code>è¡¨ç¤ºçš„æ˜¯jsä¸­æœ€å°çš„æ•°å€¼ã€‚</p>
<p>jsä¸­è¿˜æœ‰ä¸€ä¸ªéå¸¸ç‰¹æ®Šçš„æ•°å€¼ç±»å‹ï¼Œå°±æ˜¯NaN(Not A Number)å³éæ•°å€¼ï¼Œè¿™ä¸ªæ•°å€¼ç”¨äºè¡¨ç¤ºä¸€ä¸ªæœ¬æ¥è¦è¿”å›æ•°å€¼çš„æ“ä½œæ•°æœªè¿”å›æ•°å€¼çš„æƒ…å†µï¼ˆè¿™æ ·å°±ä¸ä¼šæŠ›å‡ºé”™è¯¯äº†ï¼‰ã€‚ä¾‹å¦‚ï¼Œåœ¨å…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œä»»ä½•æ•°å€¼é™¤ä»¥0éƒ½ä¼šå¯¼è‡´é”™è¯¯ï¼Œä»è€Œåœæ­¢ä»£ç æ‰§è¡Œã€‚ä½†åœ¨JavaScriptä¸­ï¼Œä»»ä½•æ•°å€¼é™¤ä»¥0ä¼šè¿”å›NaNï¼Œå› æ­¤ä¸ä¼šå½±å“å…¶ä»–ä»£ç çš„æ‰§è¡Œã€‚</p>
<p>NaNæœ‰ä¸¤ä¸ªéåŒå¯»å¸¸çš„ç‚¹ï¼Œä¸€ä¸ªæ˜¯ä»»ä½•æ¶‰åŠNaNçš„æ“ä½œéƒ½ä¼šè¿”å›NaNï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="literal">NaN</span> + <span class="number">1</span>); <span class="comment">// è¾“å‡ºNaN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">NaN</span> - <span class="number">1</span>); <span class="comment">// è¾“å‡ºNaN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">NaN</span> * <span class="number">1</span>); <span class="comment">// è¾“å‡ºNaN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">NaN</span> / <span class="number">1</span>); <span class="comment">// è¾“å‡ºNaN</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨æ„ï¼šè¿™ä¸ªç‰¹ç‚¹åœ¨å¤šæ­¥è®¡ç®—ä¸­æœ‰å¯èƒ½å¯¼è‡´é—®é¢˜ï¼Œéœ€è¦ç‰¹åˆ«æ³¨æ„</p>
</blockquote>
<p>å¦ä¸€ä¸ªæ˜¯NaNä¸ä»»ä½•å€¼éƒ½ä¸ç›¸ç­‰ï¼ŒåŒ…æ‹¬NaNæœ¬èº«ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="literal">NaN</span> == <span class="literal">NaN</span>); <span class="comment">// è¾“å‡ºfalse</span></span><br></pre></td></tr></table></figure>

<h2 id="String-å­—ç¬¦ä¸²ç±»å‹"><a href="#String-å­—ç¬¦ä¸²ç±»å‹" class="headerlink" title="String(å­—ç¬¦ä¸²ç±»å‹)"></a>String(å­—ç¬¦ä¸²ç±»å‹)</h2><p>åœ¨jsä¸­çš„å­—ç¬¦ä¸²ç±»å‹æ˜¯éœ€è¦ä½¿ç”¨å¼•å·å¼•èµ·æ¥çš„ï¼Œä½¿ç”¨å•å¼•å·â€™â€™æˆ–è€…æ˜¯åŒå¼•å·â€â€éƒ½å¯ä»¥ï¼Œä½†æ˜¯ä¸è¦æ··åˆç€ç”¨ï¼Œä¹Ÿä¸èƒ½åµŒå¥—ä½¿ç”¨å•åŒå¼•å·ã€‚</p>
<p>stringç±»å‹æœ‰äº›ç‰¹æ®Šï¼Œå› ä¸ºå­—ç¬¦ä¸²å…·æœ‰å¯å˜çš„å¤§å°ï¼Œæ‰€ä»¥æ˜¾ç„¶å®ƒä¸èƒ½è¢«ç›´æ¥å­˜å‚¨åœ¨å…·æœ‰å›ºå®šå¤§å°çš„å˜é‡ä¸­ã€‚ç”±äºæ•ˆç‡çš„åŸå› ï¼Œæˆ‘ä»¬å¸Œæœ›JSåªå¤åˆ¶å¯¹å­—ç¬¦ä¸²çš„å¼•ç”¨ï¼Œè€Œä¸æ˜¯å­—ç¬¦ä¸²çš„å†…å®¹ã€‚ä½†æ˜¯å¦ä¸€æ–¹é¢ï¼Œå­—ç¬¦ä¸²åœ¨è®¸å¤šæ–¹é¢éƒ½å’ŒåŸºæœ¬ç±»å‹çš„è¡¨ç°ç›¸ä¼¼ï¼Œè€Œå­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„è¿™ä¸€äº‹å®ï¼ˆå³æ²¡æ³•æ”¹å˜ä¸€ä¸ªå­—ç¬¦ä¸²å€¼çš„å†…å®¹ï¼‰ï¼Œå› æ­¤å¯ä»¥å°†å­—ç¬¦ä¸²çœ‹æˆ<strong>è¡Œä¸ºä¸åŸºæœ¬ç±»å‹ç›¸ä¼¼çš„ä¸å¯å˜å¼•ç”¨ç±»å‹</strong></p>
<p>å¦‚æœéœ€è¦åœ¨Stringç±»å‹ä¸­è¾“å‡ºä¸€äº›ç‰¹æ®Šçš„å­—ç¬¦çš„è¯å¯ä»¥ä½¿ç”¨<code>\</code>å­—ç¬¦æ¥è½¬ä¹‰ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">"æˆ‘è¯´ï¼š\"æˆ‘æƒ³åƒè¥¿ç“œ\""</span>); <span class="comment">// è¾“å‡º æˆ‘è¯´ï¼š"æˆ‘æƒ³åƒè¥¿ç“œ"</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨æ„ï¼šå¦‚æœæƒ³è¾“å‡ºä¸€ä¸ª<code>\</code>çš„è¯åˆ™éœ€è¦å†ä½¿ç”¨ä¸€ä¸ª<code>\</code>æ¥è½¬ä¹‰ï¼Œå³<code>\\</code></p>
</blockquote>
<h2 id="Boolean-å¸ƒå°”ç±»å‹"><a href="#Boolean-å¸ƒå°”ç±»å‹" class="headerlink" title="Boolean(å¸ƒå°”ç±»å‹)"></a>Boolean(å¸ƒå°”ç±»å‹)</h2><p>Booleanç±»å‹åªæœ‰ä¸¤ä¸ªå€¼ï¼štrueè¡¨ç¤ºçœŸå’Œfalseè¡¨ç¤ºå‡ã€‚<br>è™½ç„¶Booleanç±»å‹çš„å­—é¢å€¼åªæœ‰ä¸¤ä¸ªï¼Œä½†JavaScriptä¸­æ‰€æœ‰ç±»å‹çš„å€¼éƒ½æœ‰ä¸è¿™ä¸¤ä¸ªBooleanå€¼ç­‰ä»·çš„å€¼ã€‚è¦å°†ä¸€ä¸ªå€¼è½¬æ¢ä¸ºå…¶å¯¹åº”çš„Booleanå€¼ï¼Œå¯ä»¥è°ƒç”¨ç±»å‹è½¬æ¢å‡½æ•°Boolean()ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> message = <span class="string">"Hello World"</span>;</span><br><span class="line"><span class="keyword">var</span> messageAsBoolean = <span class="built_in">Boolean</span>(message);</span><br></pre></td></tr></table></figure>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå­—ç¬¦ä¸²messageè¢«è½¬æ¢æˆäº†ä¸€ä¸ªBooleanå€¼ï¼Œè¯¥å€¼è¢«ä¿å­˜åœ¨messageAsBooleanå˜é‡ä¸­ã€‚å¯ä»¥å¯¹ä»»ä½•æ•°æ®ç±»å‹çš„å€¼è°ƒç”¨Boolean()å‡½æ•°ï¼Œè€Œä¸”æ€»ä¼šè¿”å›ä¸€ä¸ªBooleanå€¼ã€‚è‡³äºè¿”å›çš„è¿™ä¸ªå€¼æ˜¯trueè¿˜æ˜¯falseï¼Œå–å†³äºè¦è½¬æ¢å€¼çš„æ•°æ®ç±»å‹åŠå…¶å®é™…å€¼ã€‚ä¸‹è¡¨ç»™å‡ºäº†å„ç§æ•°æ®ç±»å‹åŠå…¶å¯¹è±¡çš„è½¬æ¢è§„åˆ™ã€‚</p>
<table>
<thead>
<tr>
<th align="left">æ•°æ®ç±»å‹</th>
<th align="right">è½¬æ¢æˆtrueå€¼</th>
<th align="center">è½¬æ¢æˆfalseå€¼</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Boolean</td>
<td align="right">true</td>
<td align="center">false</td>
</tr>
<tr>
<td align="left">String</td>
<td align="right">ä»»ä½•éç©ºå­—ç¬¦ä¸²</td>
<td align="center">â€œâ€ç©ºå­—ç¬¦ä¸²</td>
</tr>
<tr>
<td align="left">Number</td>
<td align="right">ä»»ä½•é0æ•°å€¼ï¼ˆåŒ…æ‹¬æ— ç©·å¤§ï¼‰</td>
<td align="center">0å’ŒNaN</td>
</tr>
<tr>
<td align="left">Object</td>
<td align="right">ä»»ä½•éç©ºå¯¹è±¡</td>
<td align="center">null</td>
</tr>
<tr>
<td align="left">Undefined</td>
<td align="right">ä¸é€‚ç”¨</td>
<td align="center">Undefined</td>
</tr>
</tbody></table>
<p><strong>psï¼šå¦‚æœéœ€è¦å°†ä¸€ä¸ªå˜é‡è½¬æ¢æˆå¯¹åº”çš„å¸ƒå°”å€¼çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨<code>!!</code>(ä¸¤ä¸ªæ„Ÿå¹å·)æ“ä½œç¬¦è½¬æ¢ã€‚ä¾‹å¦‚ï¼š</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> message = <span class="string">"Hello World"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(!message);  <span class="comment">// è¾“å‡ºfalse</span></span><br><span class="line"><span class="built_in">console</span>.log(!!message); <span class="comment">// è¾“å‡ºtrue</span></span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨ä¸€ä¸ª<code>!</code>ä»£è¡¨çš„æ˜¯å–åçš„æ“ä½œï¼Œå³è½¬æ¢ä¸ºBooleanå€¼ä¹‹åå–çš„æ˜¯ç›¸åçš„å€¼ï¼Œä½†æ˜¯å†ä½¿ç”¨å¤šä¸€ä¸ª<code>!</code>ä¹‹åå‘¢å†å°†å–åçš„æ“ä½œå†æ¬¡å–åä¹‹åå°±å¯ä»¥å¾—åˆ°åŸæ¥å¯¹åº”çš„Booleanå€¼</p>
<h2 id="Null-ç©ºå¼•ç”¨ç±»å‹"><a href="#Null-ç©ºå¼•ç”¨ç±»å‹" class="headerlink" title="Null(ç©ºå¼•ç”¨ç±»å‹)"></a>Null(ç©ºå¼•ç”¨ç±»å‹)</h2><p>Nullç±»å‹æ˜¯åªæœ‰ä¸€ä¸ªå€¼çš„ç‰¹æ®Šæ•°æ®ç±»å‹ï¼Œè¿™ä¸ªç‰¹æ®Šçš„å€¼å°±æ˜¯<code>null</code>ä»£è¡¨çš„æ˜¯ä¸€ä¸ªç©ºå¯¹è±¡ï¼Œä¸€ä¸ªç©ºå¼•ç”¨ã€‚ä»é€»è¾‘è§’åº¦æ¥çœ‹ï¼Œ<code>null</code>å€¼è¡¨ç¤ºä¸€ä¸ªç©ºå¯¹è±¡æŒ‡é’ˆï¼Œè€Œè¿™ä¹Ÿæ­£æ˜¯ä½¿ç”¨<code>typeof</code>æ“ä½œç¬¦æ£€æµ‹<code>null</code>æ—¶ä¼šè¿”å›<code>object</code>çš„åŸå› ã€‚</p>
<p>å¦‚æœå®šä¹‰çš„å˜é‡å‡†å¤‡åœ¨å°†æ¥ç”¨äºä¿å­˜å¯¹è±¡ï¼Œé‚£ä¹ˆæœ€å¥½å°†è¯¥å˜é‡åˆå§‹åŒ–ä¸º<code>null</code>è€Œä¸æ˜¯å…¶ä»–å€¼ã€‚è¿™æ ·ä¸€æ¥ï¼Œåªè¦ç›´æ¥æ£€æµ‹<code>null</code>å€¼å°±å¯ä»¥çŸ¥é“ç›¸åº”çš„å˜é‡æ˜¯å¦å·²ç»ä¿å­˜äº†ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨äº†ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">if</span> (obj != <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="comment">// å¯¹objå¯¹è±¡è¿›è¡Œçš„æ“ä½œ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Undefined-æœªå®šä¹‰"><a href="#Undefined-æœªå®šä¹‰" class="headerlink" title="Undefined(æœªå®šä¹‰)"></a>Undefined(æœªå®šä¹‰)</h2><p>Undefinedç±»å‹åªæœ‰ä¸€ä¸ªå€¼ï¼Œå³ç‰¹æ®Šçš„<code>undefined</code>ã€‚åœ¨ä½¿ç”¨<code>var</code>å£°æ˜å˜é‡ä½†æœªå¯¹å…¶åŠ ä»¥åˆå§‹åŒ–æ—¶ï¼Œè¿™ä¸ªå˜é‡çš„å€¼å°±æ˜¯<code>undefined</code>ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a;</span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">// è¾“å‡ºundefined</span></span><br></pre></td></tr></table></figure>

<h1 id="äº”ã€å¼•ç”¨æ•°æ®ç±»å‹"><a href="#äº”ã€å¼•ç”¨æ•°æ®ç±»å‹" class="headerlink" title="äº”ã€å¼•ç”¨æ•°æ®ç±»å‹"></a>äº”ã€å¼•ç”¨æ•°æ®ç±»å‹</h1><h2 id="å¼•ç”¨æ•°æ®ç±»å‹çš„ä»‹ç»"><a href="#å¼•ç”¨æ•°æ®ç±»å‹çš„ä»‹ç»" class="headerlink" title="å¼•ç”¨æ•°æ®ç±»å‹çš„ä»‹ç»"></a>å¼•ç”¨æ•°æ®ç±»å‹çš„ä»‹ç»</h2><p>é™¤äº†ä¸Šé¢ä»‹ç»çš„åŸºæœ¬æ•°æ®ç±»å‹ä¹‹å¤–ï¼Œå…¶ä»–çš„å°±æ˜¯å¼•ç”¨æ•°æ®ç±»å‹äº†ã€‚å¼•ç”¨ç±»å‹ç»Ÿç§°æ˜¯Objcetï¼Œæ‰€æœ‰çš„å¼•ç”¨æ•°æ®ç±»å‹çš„æ•°æ®éƒ½æ˜¯ç»§æ‰¿è‡ªObjectçš„ã€‚ä¾‹å¦‚ï¼šArrayï¼ˆæ•°ç»„ï¼‰ã€Dateï¼ˆæ—¥æœŸï¼‰ã€Functionï¼ˆå‡½æ•°ï¼‰ç­‰ã€‚è¿™äº›éƒ½æ˜¯å¼•ç”¨æ•°æ®ç±»å‹ï¼Œä¹Ÿéƒ½æ˜¯ç»§æ‰¿è‡ªObjectã€‚</p>
<h2 id="å¼•ç”¨æ•°æ®ç±»å‹çš„ç‰¹ç‚¹"><a href="#å¼•ç”¨æ•°æ®ç±»å‹çš„ç‰¹ç‚¹" class="headerlink" title="å¼•ç”¨æ•°æ®ç±»å‹çš„ç‰¹ç‚¹"></a>å¼•ç”¨æ•°æ®ç±»å‹çš„ç‰¹ç‚¹</h2><ol>
<li><p><strong>å¼•ç”¨ç±»å‹çš„å€¼æ˜¯å¯å˜çš„</strong></p>
<p> å¼•ç”¨æ•°æ®ç±»å‹è·ŸåŸºæœ¬æ•°æ®ç±»å‹æœ€å¤§çš„ä¸åŒå°±æ˜¯å†…å­˜å­˜æ”¾ä½ç½®çš„ä¸åŒï¼Œä¸Šæ–‡æè¿‡åŸºæœ¬æ•°æ®ç±»å‹æ˜¯å­˜æ”¾åœ¨<strong>æ ˆå†…å­˜</strong>ä¸­çš„ï¼Œå¼•ç”¨æ•°æ®ç±»å‹åˆ™æ˜¯å­˜æ”¾åœ¨<strong>å †å†…å­˜</strong>ä¸­çš„ã€‚å¼•ç”¨æ•°æ®ç±»å‹å°†å †å†…å­˜ä¸­çš„åœ°å€å­˜æ”¾åœ¨æ ˆå†…å­˜ä¸­ï¼Œé€šè¿‡å˜é‡æ ‡è¯†ç¬¦å»å–åˆ°åœ°å€å†è¿›è¡Œè®¿é—®ã€‚è€Œå †å†…å­˜çš„å¤§å°å¹¶ä¸æ˜¯å›ºå®šçš„ï¼Œæ‰€ä»¥å¼•ç”¨æ•°æ®ç±»å‹çš„å€¼æ˜¯å¯å˜çš„ã€‚åŸºäºè¿™ä¸ªç‰¹ç‚¹ï¼Œæˆ‘ä»¬å¦‚æœæƒ³è¦åœ¨ä¸€ä¸ªå¼•ç”¨æ•°æ®ç±»å‹ä¸­å–å¢åŠ æˆ–è€…æ˜¯åˆ é™¤ä¸€äº›å†…å®¹çš„è¯ä¹Ÿéƒ½æ˜¯å¯ä»¥å®ç°çš„ï¼Œæˆ‘ä»¬ç”šè‡³å¯ä»¥åœ¨ä¸€ä¸ªå¼•ç”¨ä¸­å»å®šä¹‰å¦ä¸€ä¸ªå¼•ç”¨ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p>
 <figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">name</span>:<span class="string">"zhangsan"</span>&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(obj.name);  <span class="comment">// è¾“å‡ºzhangsan</span></span><br><span class="line">obj.name = <span class="string">"lisi"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(obj.name);  <span class="comment">// è¾“å‡ºlisi</span></span><br><span class="line">obj.age = <span class="number">18</span>;</span><br><span class="line"><span class="built_in">console</span>.log(obj.age);   <span class="comment">// è¾“å‡º18</span></span><br><span class="line">obj.age = <span class="literal">null</span>;</span><br><span class="line"><span class="built_in">console</span>.log(obj.age);   <span class="comment">// è¾“å‡ºnull</span></span><br><span class="line">obj.printObj = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name + <span class="string">"---"</span> + <span class="keyword">this</span>.age);</span><br><span class="line">&#125;</span><br><span class="line">obj.printObj(); <span class="comment">// è¾“å‡ºlisi---null</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>å¼•ç”¨æ•°æ®ç±»å‹çš„æ¯”è¾ƒæ˜¯å¼•ç”¨çš„æ¯”è¾ƒ</strong></p>
<p> æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj1 = &#123;&#125;;</span><br><span class="line"><span class="keyword">var</span> obj2 = &#123;&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(obj1 == obj2);   <span class="comment">// è¾“å‡ºfalse</span></span><br><span class="line"><span class="built_in">console</span>.log(obj1 === obj2);  <span class="comment">// è¾“å‡ºfalse</span></span><br></pre></td></tr></table></figure>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>obj1</code>å’Œ<code>obj2</code>éƒ½æ˜¯å®šä¹‰äº†ç›¸åŒçš„å†…å®¹ï¼Œéƒ½æ˜¯<code>{}</code>ï¼Œä½†æ˜¯åœ¨æ¯”è¾ƒçš„æ—¶å€™jså´ä¸è®¤ä¸ºè¿™æ˜¯ä¸¤ä¸ªç›¸åŒçš„å¯¹è±¡ã€‚åŸå› åœ¨äºå£°æ˜è¿™ä¸¤ä¸ªå¯¹è±¡æ—¶ï¼Œä¼šåœ¨å †å†…å­˜ä¸­å¼€è¾Ÿå‡ºä¸¤å—ä¸åŒçš„ç©ºé—´å»åˆ†åˆ«å­˜æ”¾è¿™ä¸¤ä¸ªå˜é‡ï¼Œç„¶åå°†å †å†…å­˜å­˜æ”¾è¿™ä¸¤ä¸ªå¯¹è±¡å¯¹åº”çš„å†…å­˜åœ°å€å†å»å­˜åœ¨æ ˆå†…å­˜ä¸­å»ã€‚åœ¨æ¯”è¾ƒæ—¶å¹¶ä¸ä¼šå»æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡å…·ä½“çš„åŒºåˆ«ï¼Œè€Œæ˜¯åœ¨æ ˆå†…å­˜ä¸­å°†åœ°å€å–å‡ºæ¥ä¹‹åè¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœåœ°å€ç›¸åŒéƒ½æ˜¯æŒ‡å‘åŒä¸€å—å†…å­˜çš„è¯æ‰ä¼šè®¤ä¸ºæ˜¯ç›¸åŒçš„å¯¹è±¡ï¼Œåä¹‹åˆ™è®¤ä¸ºæ˜¯ä¸åŒçš„å¯¹è±¡ã€‚</p>
<p> æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj1 = &#123;<span class="attr">name</span>:<span class="string">"zhangsan"</span>&#125;;</span><br><span class="line"><span class="keyword">var</span> obj2 = obj1;</span><br><span class="line"><span class="built_in">console</span>.log(obj1.name); <span class="comment">// è¾“å‡ºzhangsan</span></span><br><span class="line"><span class="built_in">console</span>.log(obj2.name); <span class="comment">// è¾“å‡ºzhangsan</span></span><br><span class="line">obj2.name = <span class="string">"lisi"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(obj1.name); <span class="comment">// è¾“å‡ºlisi</span></span><br><span class="line"><span class="built_in">console</span>.log(obj2.name); <span class="comment">// è¾“å‡ºlisi</span></span><br></pre></td></tr></table></figure>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œé¦–å…ˆå£°æ˜äº†ä¸€ä¸ªå¯¹è±¡<code>obj1</code>å†å°†<code>obj1</code>çš„å€¼èµ‹ç»™<code>obj2</code>ï¼Œè¿™æ—¶å…¶å®æ˜¯å°†<code>obj1</code>çš„åœ°å€èµ‹ç»™äº†<code>obj2</code>ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨æ ˆå†…å­˜ä¸­çš„<code>obj1</code>å’Œ<code>obj2</code>çš„å€¼æ˜¯ç›¸ç­‰çš„ï¼Œéƒ½æ˜¯ä¿å­˜çš„ç›¸åŒçš„åœ°å€ï¼ŒæŒ‡å‘çš„æ˜¯åŒä¸€å—å †å†…å­˜ä¸­çš„ç©ºé—´ã€‚æ‰€ä»¥ä¸ç®¡æ˜¯æ”¹å˜äº†<code>obj1</code>è¿˜æ˜¯æ”¹å˜äº†<code>obj2</code>å…¶å®éƒ½æ˜¯åœ¨æ“ä½œçš„åŒä¸€å—å†…å­˜ç©ºé—´ï¼Œåšå‡ºæ¥çš„æ”¹å˜ä¹Ÿæ˜¯ç›¸åŒçš„ï¼Œå¦ä¸€ä¸ªæŒ‡å‘è¿™ä¸ªç©ºé—´çš„å¯¹è±¡ä¹Ÿæ˜¯ä¼šè·Ÿéšç€ä¸€èµ·æ”¹å˜ã€‚</p>
</li>
<li><p><strong>instanceof</strong><br>ä¸€ä¸ªå¯¹è±¡å¦‚æœæˆ‘ä»¬éœ€è¦å»æ£€æµ‹å®ƒæ˜¯ä¸æ˜¯å±äºæŸä¸ªå¯¹è±¡çš„å®ä¾‹çš„è¯ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨<code>instanceof</code>å…³é”®å­—ï¼Œè¯­æ³•æ˜¯<code>å®ä¾‹ instanceof å¯¹è±¡</code>è¡¨ç¤ºè¿™ä¸ªå®ä¾‹æ˜¯å¦å±äºè¿™ä¸ªå¯¹è±¡ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log((&#123;&#125;) <span class="keyword">instanceof</span> <span class="built_in">Object</span>);    <span class="comment">// è¾“å‡ºtrue</span></span><br><span class="line"><span class="built_in">console</span>.log(([]) <span class="keyword">instanceof</span> <span class="built_in">Array</span>);     <span class="comment">// è¾“å‡ºtrue</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<hr>
<p>å¤§å®¶åŠ æ²¹ï¼šï¼‰</p>
]]></content>
      <categories>
        <category>JavaScriptåŸºç¡€</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>åŸºç¡€</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€JavaScriptã€‘é—­åŒ…</title>
    <url>/posts/47023/</url>
    <content><![CDATA[<p>é—­åŒ…ï¼š<strong>ã€Œå‡½æ•°ã€å’Œã€Œå‡½æ•°å†…éƒ¨èƒ½è®¿é—®åˆ°çš„å˜é‡ã€ï¼ˆä¹Ÿå«ç¯å¢ƒï¼‰çš„æ€»å’Œï¼Œå°±æ˜¯ä¸€ä¸ªé—­åŒ…ã€‚</strong><br>é—­åŒ…åœ¨jsé¢å‘å¯¹è±¡ä¸­æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„çŸ¥è¯†ç‚¹ï¼Œè®¸å¤šçš„é¢å‘å¯¹è±¡çš„ç‰¹æ€§éƒ½å¯ä»¥é€šè¿‡é—­åŒ…æ¥ä½“ç°ã€‚</p>
<a id="more"></a>

<blockquote>
<p>æœ¬æ–‡æ‘˜æŠ„è‡ª <a href="https://zhuanlan.zhihu.com/p/22486908" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/22486908</a></p>
</blockquote>
<h1 id="ä»€ä¹ˆæ˜¯é—­åŒ…"><a href="#ä»€ä¹ˆæ˜¯é—­åŒ…" class="headerlink" title="ä»€ä¹ˆæ˜¯é—­åŒ…"></a>ä»€ä¹ˆæ˜¯é—­åŒ…</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">!<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> local = <span class="string">'å˜é‡'</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(local)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨ä¸Šé¢å‡½æ•°å†…éƒ¨çš„ä¸‰è¡Œä»£ç ä¸­ï¼Œæœ‰ä¸€ä¸ªå±€éƒ¨å˜é‡ <code>local</code>ï¼Œæœ‰ä¸€ä¸ªå‡½æ•° <code>foo</code> ï¼Œ<code>foo</code> é‡Œé¢å¯ä»¥è®¿é—®åˆ° <code>local</code> å˜é‡ã€‚è¿™å°±æ˜¯ä¸€ä¸ªé—­åŒ…ï¼Œå°±æ˜¯è¿™ä¹ˆç®€å•ã€‚</p>
<p>å…¶å®å¤§å®¶æ¯”è¾ƒç†ŸçŸ¥çš„é—­åŒ…æ˜¯ä¸‹é¢çš„è¿™ç§åµŒå¥—å‡½æ•°çš„å½¢å¼ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> local = <span class="number">1</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    local++</span><br><span class="line">    <span class="keyword">return</span> local</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> bar</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> func = foo()</span><br><span class="line">func()</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œé¢å‘¢ç¡®å®æœ‰é—­åŒ…çš„å­˜åœ¨ï¼Œ<code>local</code> å˜é‡å’Œ <code>bar</code> å‡½æ•°å°±ç»„æˆäº†ä¸€ä¸ªé—­åŒ…ã€‚</p>
<p><strong>é‚£ä¹ˆä¸ºä»€ä¹ˆè¦åµŒå¥—å‡½æ•°å‘¢ï¼Ÿ</strong></p>
<p>æ˜¯å› ä¸ºéœ€è¦å±€éƒ¨å˜é‡ï¼Œæ‰€ä»¥æ‰æŠŠ <code>local</code> æ”¾åœ¨ä¸€ä¸ªå‡½æ•°é‡Œï¼Œå¦‚æœä¸æŠŠ <code>local</code> æ”¾åœ¨ä¸€ä¸ªå‡½æ•°é‡Œï¼Œ<code>local</code> å°±æ˜¯ä¸€ä¸ªå…¨å±€å˜é‡äº†ï¼Œè¾¾ä¸åˆ°ä½¿ç”¨é—­åŒ…çš„ç›®çš„â€”â€”éšè—å˜é‡ï¼ˆç­‰ä¼šä¼šè®²ï¼‰ã€‚</p>
<p>å¯èƒ½çœ‹åˆ°ã€Œé—­åŒ…ã€è¿™ä¸ªåå­—ï¼Œå°±ä¸€å®šè§‰å¾—è¦ç”¨ä»€ä¹ˆåŒ…èµ·æ¥æ‰è¡Œã€‚å…¶å®è¿™æ˜¯ç¿»è¯‘é—®é¢˜ï¼Œé—­åŒ…çš„åŸæ–‡æ˜¯ Closureï¼Œè·Ÿã€ŒåŒ…ã€æ²¡æœ‰ä»»ä½•å…³ç³»ã€‚</p>
<p>æ‰€ä»¥å‡½æ•°å¥—å‡½æ•°åªæ˜¯ä¸ºäº†é€ å‡ºä¸€ä¸ªå±€éƒ¨å˜é‡ï¼Œ<strong>è·Ÿé—­åŒ…æ— å…³</strong>ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆè¦ return bar å‘¢ï¼Ÿ</strong></p>
<p>å› ä¸ºå¦‚æœä¸ <code>return</code>ï¼Œä½ å°±æ— æ³•ä½¿ç”¨è¿™ä¸ªé—­åŒ…ã€‚æŠŠ <code>return bar</code> æ”¹æˆ <code>window.bar = bar</code> ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œåªè¦è®©å¤–é¢å¯ä»¥è®¿é—®åˆ°è¿™ä¸ª <code>bar</code> å‡½æ•°å°±è¡Œäº†ã€‚</p>
<p>æ‰€ä»¥ <code>return bar</code> åªæ˜¯ä¸ºäº† <code>bar</code> èƒ½è¢«ä½¿ç”¨ï¼Œä¹Ÿ<strong>è·Ÿé—­åŒ…æ— å…³</strong>ã€‚</p>
<hr>
<h1 id="é—­åŒ…çš„ä½œç”¨"><a href="#é—­åŒ…çš„ä½œç”¨" class="headerlink" title="é—­åŒ…çš„ä½œç”¨"></a>é—­åŒ…çš„ä½œç”¨</h1><p>é—­åŒ…å¸¸å¸¸ç”¨æ¥ã€Œé—´æ¥è®¿é—®ä¸€ä¸ªå˜é‡ã€ã€‚æ¢å¥è¯è¯´ï¼Œã€Œéšè—ä¸€ä¸ªå˜é‡ã€ã€‚</p>
<p>å‡è®¾æˆ‘ä»¬ç°åœ¨åœ¨åšä¸€ä¸ªç³»ç»Ÿçš„æ³¨å†Œç™»å½•åŠŸèƒ½ï¼Œåœ¨å†™å…¶ä¸­å…³äºã€Œç”¨æˆ·å¹´é¾„ã€çš„ä»£ç ã€‚</p>
<p>å¦‚æœä¸ä½¿ç”¨é—­åŒ…çš„è¯</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">window</span>.age = <span class="number">18</span> <span class="comment">// 18å²</span></span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯è¿™ä¹ˆçœ‹èµ·æ¥æ˜¯éå¸¸å±é™©çš„ï¼Œå› ä¸ºè¿™å°†åœ¨å…¨å±€çš„ä»»ä½•ä¸€ä¸ªåœ°æ–¹éƒ½å¯ä»¥ç›´æ¥çš„è®¿é—®åˆ°è¿™ä¸ª <code>age</code> å˜é‡ï¼Œå¦‚æœä¸åŠ æ ¡éªŒçš„è¯ï¼Œç­‰ä¼šè¦æ˜¯è¢«ä¿®æ”¹æˆ ã€Œè´Ÿæ•°ã€ æ€ä¹ˆåŠï¼Œå¯¹å§ï¼Ÿ</p>
<p>æ‰€ä»¥ï¼Œæˆ‘ä»¬ä¸èƒ½è®©åˆ«äººå¯ä»¥ã€Œç›´æ¥è®¿é—®ã€è¿™ä¸ª <code>age</code> å˜é‡ã€‚</p>
<p>æˆ‘ä»¬éœ€è¦ä½¿ç”¨ã€Œå±€éƒ¨å˜é‡ã€</p>
<p>ä½†æ˜¯ä½¿ç”¨äº†å±€éƒ¨å˜é‡çš„è¯ï¼Œè¿™ä¸ªå˜é‡çš„åˆéœ€è¦ä¸€ä¸ªå…¨å±€çš„ä½œç”¨åŸŸã€‚è¿™ä¸ªæ—¶å€™åº”è¯¥æ€ä¹ˆåŠï¼Ÿ</p>
<p>æˆ‘ä»¬å¯ä»¥ä¸»åŠ¨æš´éœ²ä¸€ä¸ªè®¿é—®å™¨ï¼ˆå‡½æ•°ï¼‰ï¼Œè®©åˆ«äººå¯ä»¥ã€Œé—´æ¥è®¿é—®ã€</p>
<blockquote>
<p>ä¸Šé¢çš„æ€è€ƒè¿‡ç¨‹å…¶å®ä¹Ÿå°±æ˜¯ é—­åŒ… ä½¿ç”¨å‡½æ•°åµŒå¥—å½¢å¼çš„ç”±æ¥ã€‚</p>
</blockquote>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">!<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> age = <span class="number">18</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä¿®æ”¹å¹´é¾„ï¼Œå¢åŠ 1å²</span></span><br><span class="line">    <span class="built_in">window</span>.addAge = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        age += <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä¿®æ”¹å¹´é¾„ï¼Œå‡å°‘1å²</span></span><br><span class="line">    <span class="built_in">window</span>.subLives = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (age &gt; <span class="number">1</span>) &#123;</span><br><span class="line">            lives -= <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'æ²¡åŠæ³•å†å¾€ä¸‹ä¿®æ”¹å¹´é¾„å•¦'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;()</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢è¿™ä¹Ÿæ˜¯ä¸€ä¸ªé—­åŒ…çš„ä¾‹å­ã€‚ä½¿ç”¨é—­åŒ…ä¹‹åå¯ä»¥æ›´åŠ è§„èŒƒçš„å»ç®¡ç†æˆ‘ä»¬çš„å˜é‡ï¼Œè¿™ä¹Ÿæ˜¯é—­åŒ…çš„æ„ä¹‰ã€‚æ€»çš„æ¥è¯´è¿™å°±æ˜¯é—­åŒ…ï¼Œé—­åŒ…ä¹Ÿä»…æ­¤è€Œå·²ã€‚</p>
<hr>
<p>å…¶å®å†™åˆ°è¿™é‡Œä¹‹åï¼Œå¯èƒ½ç”±äºæˆ‘æ˜¯å­¦ Java å‡ºèº«çš„ï¼Œç«‹é©¬å°±æƒ³åˆ°äº† Java ä¸­å®ä½“ç±»çš„å°è£…ã€‚æ¥çœ‹ä¸€æ®µ Java ä»£ç </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">student</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (age &gt;= <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">this</span>.age = age;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">"å¹´é¾„å¿…é¡»ä¸ºæ­£æ•°"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç®€è¦è¯´æ˜ä¸€ä¸‹ä¸Šé¢è¿™æ®µä»£ç ï¼š<br>é¦–å…ˆå£°æ˜ä¸€ä¸ªç§æœ‰åŒ–çš„ <code>age</code> å˜é‡ï¼Œç„¶åä¸ºè¿™ä¸ªå˜é‡æä¾›å…¬æœ‰çš„ <code>get</code> å’Œ <code>set</code> æ–¹æ³•ï¼Œå¯ä»¥è®©å¤–ç•Œè®¿é—®åˆ°è¿™ä¸ª <code>age</code> å˜é‡ã€‚å½“æˆ‘ä»¬è®¾ç½®è¿™ä¸ª <code>age</code> å˜é‡çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ <code>set</code> æ–¹æ³•ä¸­å»å®šä¹‰ä¸€äº›è§„èŒƒï¼Œä¿è¯ <code>age</code> å€¼çš„ä¸€ä¸ªæ­£ç¡®æ€§ã€‚</p>
<p>åœ¨æˆ‘çœ‹æ¥ï¼Œåˆšåˆšçš„é—­åŒ…çš„ä¾‹å­ä¸ä¸Šé¢çš„è¿™æ®µ Java ä»£ç å®ç°çš„æ˜¯åŒä¸€ä¸ªåŠŸèƒ½ã€‚ä¹Ÿå°±æ˜¯è¯´é—­åŒ…å…¶å®æ˜¯ä¸ºäº†å°è£…å˜é‡ï¼Œåªæ˜¯åœ¨è¿™é‡Œæˆ‘ä»¬å°†å…¶ç§°ä¸ºäº†éšè—å˜é‡ï¼Œä»…æ­¤è€Œå·²ã€‚</p>
<blockquote>
<p>åˆ†äº«ä¸€ä¸ªå°ç»éªŒï¼š<br>ç¼–ç¨‹å´‡å°šçš„æ˜¯ä»¥ç®€æ´ä¼˜é›…ä¸ºç¾ï¼Œå¾ˆå¤šæ—¶å€™<br><strong>å¦‚æœä½ è§‰å¾—ä¸€ä¸ªæ¦‚å¿µå¾ˆå¤æ‚ï¼Œé‚£ä¹ˆå¾ˆå¯èƒ½æ˜¯ä½ ç†è§£é”™äº†</strong></p>
</blockquote>
<hr>
<p>å¤§å®¶åŠ æ²¹ï¼šï¼‰</p>
]]></content>
      <categories>
        <category>JavaScriptåŸºç¡€</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>å°è£…</tag>
        <tag>é—­åŒ…</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Javaå¹¶å‘ã€‘wait()ã€notify()ã€notifyAll()</title>
    <url>/posts/29010/</url>
    <content><![CDATA[<p><code>wait()ã€notify()å’ŒnotifyAll()</code> è¿™ä¸‰ä¸ªæ–¹æ³•éƒ½æ˜¯å±äº Object ç±»çš„æ–¹æ³•ï¼Œè¿™ä¹Ÿå°±æ„å‘³ç€åœ¨ Java ä¸­çš„ä»»ä½•å¯¹è±¡éƒ½å¯ä»¥è°ƒç”¨è¿™ä¸‰ä¸ªæ–¹æ³•ã€‚<br>åŒæ—¶è¿™ä¸‰ä¸ªæ–¹æ³•ä¹Ÿæ˜¯è¢« ã€Œvolatile å’Œ final ä¿®é¥°çš„æ–¹æ³•ã€ä¹Ÿå°±æ˜¯æ²¡åŠæ³•çœ‹åˆ°æºç å’Œé‡å†™ã€‚<br>Object ä½œä¸ºæ‰€æœ‰ç±»çš„åŸºç±»ï¼Œå…¶åœ°ä½ä¸è¨€è€Œå–»ã€‚è€Œè¿™ä¸‰ä¸ªæ–¹æ³•èƒ½è¢«å®šä¹‰åœ¨ Object ä¸­è‡ªç„¶ä¹Ÿæ˜¯éå¸¸é‡è¦çš„æ–¹æ³•ï¼Œå€Ÿç”±è¿™ä¸‰ä¸ªæ–¹æ³•çš„é…åˆå¯ä»¥ä½¿å¾—å¤šçº¿ç¨‹å¯ä»¥æ›´å¥½çš„é…åˆã€ååŒå·¥ä½œã€‚</p>
<a id="more"></a>

<h1 id="æ–¹æ³•è¯¦è§£"><a href="#æ–¹æ³•è¯¦è§£" class="headerlink" title="æ–¹æ³•è¯¦è§£"></a>æ–¹æ³•è¯¦è§£</h1><h2 id="wait"><a href="#wait" class="headerlink" title="wait"></a>wait</h2><p>æƒ³è¦æ‰§è¡Œ wait æ–¹æ³•å¿…é¡»è¦åœ¨ synchronized æ–¹æ³•æˆ–è€…æ˜¯ä»£ç å—ä¸­æ‰å¯ä»¥æ‰§è¡Œï¼Œæ‰§è¡Œ waitæ–¹æ³•ä¼šä½¿å¾—å½“å‰çº¿ç¨‹é‡Šæ”¾æ‰ monitor é”ï¼Œå¼ºè¿«å½“å‰çº¿ç¨‹è¿›å…¥é˜»å¡çŠ¶æ€ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">synchronized</span> (Object) &#123;</span><br><span class="line">    object.wait();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæƒ³è¦å”¤é†’å½“å‰çº¿ç¨‹åˆ™å¿…é¡»æ˜¯å¦å¤–çš„ä¸€ä¸ªçº¿ç¨‹å»è°ƒç”¨äº† notiify å¹¶ä¸”åˆšåˆšå¥½å”¤é†’çš„æ˜¯æœ¬çº¿ç¨‹ï¼Œæˆ–è€…æ˜¯ç›´æ¥è°ƒç”¨ notifyAllã€‚</p>
<blockquote>
<p>å‡å¦‚ç°åœ¨æœ‰å››ä¸ªçº¿ç¨‹åœ¨è¿è¡Œï¼Œå…¶ä¸­çº¿ç¨‹Aã€Bã€Céƒ½è°ƒç”¨äº†<code>wait()</code>åœ¨ç­‰å¾…åŒä¸€ä¸ªmonitoré”ï¼Œè€Œçº¿ç¨‹DæŒæœ‰è¿™ä¸ªmonitoré”ã€‚é‚£ä¹ˆå¦‚æœç°åœ¨çº¿ç¨‹Dè°ƒç”¨äº†<code>notify()</code>æ–¹æ³•ï¼Œåˆ™ä¼šéšæœºçš„ä»å‰é¢çš„çº¿ç¨‹Aã€Bã€Cä¸­å»å”¤é†’ä¸€ä¸ªçº¿ç¨‹ï¼Œå¦‚æœè°ƒç”¨çš„æ˜¯<code>notifyAll()</code>æ–¹æ³•çš„è¯ï¼Œåˆ™ä¼šå°†çº¿ç¨‹Aã€Bã€Cå…¨éƒ¨å”¤é†’</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> Object object = <span class="keyword">new</span> Object();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Thread1</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (object) &#123;</span><br><span class="line">                System.out.println(Thread.currentThread().getName() + <span class="string">"å¼€å§‹æ‰§è¡Œ"</span>);</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    object.wait();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println(Thread.currentThread().getName() + <span class="string">"å†æ¬¡è·å–åˆ°monitoré”"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Thread2</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (object) &#123;</span><br><span class="line">                object.notify();</span><br><span class="line">                System.out.println(Thread.currentThread().getName() + <span class="string">"å·²ç»æ‰§è¡Œäº† notify æ–¹æ³•"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        Thread1 thread1 = <span class="keyword">new</span> Thread1();</span><br><span class="line">        Thread2 thread2 = <span class="keyword">new</span> Thread2();</span><br><span class="line">        thread1.start();</span><br><span class="line">        Thread.sleep(<span class="number">5</span>);</span><br><span class="line">        thread2.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// mainæ–¹æ³•è¿è¡Œç»“æœ</span></span><br><span class="line">Thread-<span class="number">0</span>å¼€å§‹æ‰§è¡Œ</span><br><span class="line">Thread-<span class="number">1</span>å·²ç»æ‰§è¡Œäº† notify æ–¹æ³•</span><br><span class="line">Thread-<span class="number">0</span>å†æ¬¡è·å–åˆ°monitoré”</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„è¿™æ®µä»£ç å°±å¯ä»¥è¯´æ˜<code>wait()</code>æ–¹æ³•å’Œ<code>notify</code>æ–¹æ³•çš„æ‰§è¡Œè¿‡ç¨‹ã€‚<br>é¦–å…ˆæ˜¯Thread-0çº¿ç¨‹æ‰§è¡Œ<code>wait()</code>æ–¹æ³•<strong>é‡Šæ”¾monitoré”ä¹‹å</strong>è¿›å…¥ç­‰å¾…çŠ¶æ€ï¼Œä¹‹åThread-1çº¿ç¨‹æ‰§è¡Œäº†<code>notify()</code>æ–¹æ³•å»å”¤é†’äº†Thread-0çº¿ç¨‹ã€‚<br>æ­¤æ—¶Thread-0çº¿ç¨‹å·²ç»æ˜¯è¢«å”¤é†’çš„çŠ¶æ€ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œè¿™æ˜¯å› ä¸ºæ²¡æœ‰è·å¾—monitoré”ï¼Œå”¤é†’Thread-0çº¿ç¨‹çš„Thread-1çº¿ç¨‹è¿˜æ²¡æœ‰é‡Šæ”¾è¿™æŠŠé”ã€‚<br>ç­‰å¾…Thread-1çº¿ç¨‹æ‰§è¡Œå®Œæ¯•ä¹Ÿå°±æ˜¯æ‰“å°äº†ã€ŒThread-1å·²ç»æ‰§è¡Œäº† notify æ–¹æ³•ã€è¿™å¥è¯­å¥ä¹‹åï¼ŒThread-1çº¿ç¨‹æ‰§è¡Œå®Œæ¯•ï¼Œé‡Šæ”¾monitoré”ä¹‹åï¼ŒThread-0çº¿ç¨‹å†æ¬¡è·å–monitoré”ä¹‹åå¼€å§‹æ‰§è¡Œå‰©ä½™ä»£ç ã€‚</p>
<p>æ³¨æ„ï¼š</p>
<ol>
<li>è°ƒç”¨<code>wait()</code>æ–¹æ³•çš„çº¿ç¨‹ä¼šä¸»åŠ¨é‡Šæ”¾monitoré”ï¼Œä¸Šé¢çš„ä»£ç ä¹Ÿæ­£æ˜¯å› ä¸ºThread-0ä¸»åŠ¨é‡Šæ”¾æ‰äº†monitoré”ä¹‹åï¼ŒThread-1æ‰å¯ä»¥æ‰§è¡Œ</li>
<li>å½“ä¼‘æ¯çš„çº¿ç¨‹è¢«å”¤é†’æ—¶å¹¶ä¸æ˜¯ç›´æ¥æ‰§è¡Œçš„ï¼Œè€Œæ˜¯éœ€è¦é‡æ–°å»ç«äº‰å¯¹åº”çš„é”ï¼Œè·å–åˆ°é”ä¹‹åæ‰å¯ä»¥æ‰§è¡Œ</li>
</ol>
<hr>
<p>å¤§å®¶åŠ æ²¹ï¼šï¼‰</p>
]]></content>
      <categories>
        <category>å¹¶å‘</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>å¹¶å‘</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Javaå¹¶å‘ã€‘Synchronizedå…³é”®å­—</title>
    <url>/posts/10492/</url>
    <content><![CDATA[<p><strong>ä¸€å¥è¯è¯´æ˜ Synchronized å…³é”®å­—çš„ä½œç”¨ï¼š</strong></p>
<blockquote>
<p>èƒ½å¤Ÿä¿è¯åœ¨ <strong>ã€ŒåŒä¸€æ—¶åˆ»ã€</strong> æœ€å¤šåªæœ‰ <strong>ã€Œä¸€ä¸ªã€</strong> çº¿ç¨‹æ‰§è¡Œè¯¥æ®µä»£ç ï¼Œä»¥è¾¾åˆ°ä¿è¯ <strong>ã€Œå¹¶å‘å®‰å…¨ã€</strong> çš„æ•ˆæœ</p>
</blockquote>
<a id="more"></a>
<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><h4 id="åœ°ä½"><a href="#åœ°ä½" class="headerlink" title="åœ°ä½"></a>åœ°ä½</h4><ul>
<li>Synchronized æ˜¯ Java çš„å…³é”®å­—ï¼Œè¢« Java è¯­è¨€åŸç”Ÿæ”¯æŒ</li>
<li>æ˜¯æœ€åŸºæœ¬çš„äº’æ–¥åŒæ­¥æ‰‹æ®µ</li>
<li>å¹¶å‘ç¼–ç¨‹ä¸­çš„å¿…å­¦å†…å®¹</li>
</ul>
<h4 id="çº¿ç¨‹ä¸å®‰å…¨çš„åæœ"><a href="#çº¿ç¨‹ä¸å®‰å…¨çš„åæœ" class="headerlink" title="çº¿ç¨‹ä¸å®‰å…¨çš„åæœ"></a>çº¿ç¨‹ä¸å®‰å…¨çš„åæœ</h4><p>æˆ‘ä»¬æ¥æ¼”ç¤ºä¸€ä¸ªâ€œæ¶ˆå¤±çš„è¯·æ±‚â€çš„å°ä¾‹å­</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Runnable</span> <span class="keyword">implements</span> <span class="title">java</span>.<span class="title">lang</span>.<span class="title">Runnable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">syn</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">100000</span>; j++) &#123;</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123; syn(); &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        Runnable runnable = <span class="keyword">new</span> Runnable();</span><br><span class="line">        Thread thread1 = <span class="keyword">new</span> Thread(runnable);</span><br><span class="line">        Thread thread2 = <span class="keyword">new</span> Thread(runnable);</span><br><span class="line">        thread1.start();</span><br><span class="line">        thread2.start();</span><br><span class="line">        <span class="comment">// ä¸¤ä¸ªjoinæ–¹æ³•æ˜¯ä¸ºäº†ä¿è¯ä¸¤ä¸ªçº¿ç¨‹èƒ½å¤Ÿæ‰§è¡Œå®Œæ¯•</span></span><br><span class="line">        thread1.join();</span><br><span class="line">        thread2.join();</span><br><span class="line">        <span class="comment">// ä»‹ç»ä¸€ä¸‹å¦ä¸€ç§æ–¹å¼ä¿è¯ä¸¤ä¸ªçº¿ç¨‹èƒ½å¤Ÿæ‰§è¡Œå®Œæ¯•</span></span><br><span class="line">        <span class="comment">// while (thread1.isAlive() || thread2.isAlive()) &#123; &#125;</span></span><br><span class="line">        System.out.println(i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// main æ–¹æ³•æ‰§è¡Œç»“æœï¼š178233</span></span><br></pre></td></tr></table></figure>
<p>å¾ˆæ˜æ˜¾ï¼Œå¦‚æœæ˜¯ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶åœ¨ç«äº‰ä¸€ä¸ªèµ„æºå¹¶ä¸”æ²¡æœ‰åŠ  synchronized å…³é”®å­—çš„ä¿®é¥°çš„è¯å°±ä¼šå‡ºç°è¿™æ ·æ•°æ®é”™è¯¯çš„æƒ…å†µã€‚<br>å®é™…ä¸Šï¼Œä¸Šé¢ä»£ç  <code>i++</code> çš„è¿™è¡Œè¯­å¥åœ¨æ‰§è¡Œçš„æ—¶å€™æ˜¯æœ‰ä¸‰ä¸ªæ­¥éª¤çš„ã€‚</p>
<ul>
<li><strong>æ­¥éª¤ä¸€ï¼š</strong>å°† i çš„å€¼è¯»åˆ°å†…å­˜ä¸­</li>
<li><strong>æ­¥éª¤äºŒï¼š</strong>å°† i çš„å€¼åŠ 1</li>
<li><strong>æ­¥éª¤ä¸‰ï¼š</strong>å°† i çš„å€¼å†™å›å»</li>
</ul>
<p>ä½†æ˜¯ç°åœ¨æœ‰ä¸¤ä¸ªçº¿ç¨‹åœ¨åŒæ—¶æ‰§è¡Œè¿™ä¸‰ä¸ªæ­¥éª¤ï¼Œæ¯”å¦‚åœ¨ <code>i=10</code> çš„æ—¶å€™çº¿ç¨‹ <code>thread1</code> æ‰§è¡Œäº†<strong>æ­¥éª¤ä¸€</strong>ï¼Œæ­¤æ—¶çº¿ç¨‹ <code>thread2</code> ä¹Ÿæ‰§è¡Œäº† <strong>æ­¥éª¤ä¸€</strong>ï¼Œé‚£ä¹ˆçº¿ç¨‹ <code>thread2</code> æ‹¿åˆ°çš„ <code>i</code> çš„å€¼ä¹Ÿæ˜¯10ï¼Œç„¶åè¿™ä¸¤ä¸ªçº¿ç¨‹æ­£å¸¸æ‰§è¡Œ<strong>æ­¥éª¤äºŒ</strong>å’Œ<strong>æ­¥éª¤ä¸‰</strong>è¿™æ ·å­å°±ä¼šå¯¼è‡´ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶å°† <code>i</code> çš„å€¼ä» 10 åŠ åˆ° 11ã€‚è¿™å°±æ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„åæœï¼Œæœ¬æ–‡ä»‹ç»çš„ Synchronized å…³é”®å­—çš„ä½œç”¨å°±æ˜¯ä¸ºäº†è§£å†³è¿™æ ·çš„é—®é¢˜è€Œå­˜åœ¨çš„ã€‚</p>
<h1 id="Synchronized-å…³é”®å­—çš„ç”¨æ³•"><a href="#Synchronized-å…³é”®å­—çš„ç”¨æ³•" class="headerlink" title="Synchronized å…³é”®å­—çš„ç”¨æ³•"></a>Synchronized å…³é”®å­—çš„ç”¨æ³•</h1><p>æ—¢ç„¶ä¸Šé¢çš„ä¾‹å­å·²ç»æ˜¯å‡ºç°äº†è¿™æ ·çš„é—®é¢˜ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥å°±ä»‹ç»ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨ Synchronized å…³é”®å­—æ¥è§£å†³ç±»ä¼¼çš„é—®é¢˜ã€‚å°†ä»¥ä¸‹å‡ ä¸ªä¾‹å­çš„ syn æ–¹æ³•åº”ç”¨åœ¨ä¸Šé¢ã€Œçº¿ç¨‹ä¸å®‰å…¨çš„åæœã€ä¸­å³å¯è§£å†³â€œæ¶ˆå¤±çš„è¯·æ±‚â€çš„é—®é¢˜</p>
<blockquote>
<p>å®é™…ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥å°† Synchronized å…³é”®å­—ç†è§£æˆã€Œ<strong>é”</strong>ã€çš„æ¦‚å¿µï¼Œå½“ä¸€ä¸ªçº¿ç¨‹å»è·å–ä¸€äº›è¦æ‰§è¡Œçš„èµ„æºçš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±æŠŠè¿™ä¸ªèµ„æºçš„é”ç»™è¿™ä¸ªçº¿ç¨‹ï¼Œçº¿ç¨‹æ‹¿åˆ°é”äº†ä¾¿å¯ä»¥æ‰§è¡Œã€‚è¿™æ—¶å€™å¦‚æœå…¶ä»–çº¿ç¨‹ä¹Ÿæƒ³è¦è·å–è¿™ä¸ªæ‰§è¡Œèµ„æºçš„è¯ï¼Œç”±äºæ‹¿ä¸åˆ°é”ä¾¿æ— æ³•æ‰§è¡Œï¼Œåªèƒ½æ˜¯é™·å…¥ BLOKCKED é˜»å¡çŠ¶æ€ã€‚ä»è€Œä¿è¯äº†çº¿ç¨‹å®‰å…¨<br>ä½†æ˜¯ï¼ŒJava ä¸º Synchronized å…³é”®å­—æä¾›äº†å‡ ç§ä¸åŒçš„åŠ é”çš„æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®å…·ä½“çš„ä¸šåŠ¡åœºæ™¯é€‰æ‹©ä½¿ç”¨ä¸åŒçš„æ–¹å¼æ¥åŠ é”ã€‚ä¾æ®ä½¿ç”¨æ–¹å¼çš„ä¸åŒï¼Œåœ¨è¿™é‡Œå°†å…¶åˆ†ä¸º <strong>å¯¹è±¡é”</strong> å’Œ <strong>ç±»é”</strong></p>
</blockquote>
<h3 id="å¯¹è±¡é”"><a href="#å¯¹è±¡é”" class="headerlink" title="å¯¹è±¡é”"></a>å¯¹è±¡é”</h3><p>synchronized ä¿®é¥°æ™®é€šæ–¹æ³•å’Œä»£ç å—çš„å½¢å¼éƒ½ç§°ä¹‹ä¸ºå¯¹è±¡é”ã€‚<br>ä»¥ä¸‹æ˜¯æˆ‘çš„ä¸ªäººç†è§£ï¼š</p>
<ul>
<li><strong>ä»£ç å—</strong><br> ä¿®é¥°ä»£ç å—çš„å½¢å¼æ˜¯éœ€è¦æˆ‘ä»¬ä¸ºè¿™ä¸ªä»£ç å—å»æ‰‹åŠ¨çš„æŒ‡å®šä¸€ä¸ªå¯¹è±¡ä½œä¸ºé”ä¼ è¿›å»çš„ï¼Œçº¿ç¨‹æƒ³è¦æ‰§è¡Œä»£ç å—ä¸­çš„ä»£ç å°±å¿…é¡»è¦æ‹¿åˆ°è¿™æŠŠé”ä¹Ÿå°±æ˜¯æˆ‘ä»¬æŒ‡å®šçš„å¯¹è±¡æ‰å¯ä»¥æ‰§è¡Œã€‚</li>
<li><strong>æ™®é€šæ–¹æ³•</strong><br> æˆ‘è®¤ä¸ºæ™®é€šæ–¹æ³•å’Œä»£ç å—çš„å½¢å¼å®é™…ä¸ŠåŸç†ç›¸åŒï¼ŒJava ä¸­æˆ‘ä»¬åœ¨è°ƒç”¨æ™®é€šæ–¹æ³•æ—¶æ˜¯è¿™æ ·çš„ï¼š<code>Object.method()</code> æ˜¯é€šè¿‡ç±»å¯¹è±¡å»è°ƒç”¨çš„æ–¹æ³•ï¼Œè¿™é‡Œçš„ç±»å¯¹è±¡å®é™…ä¸Šå°±æ˜¯ä¼ å…¥çš„é”ï¼Œå¦‚æœæ˜¯é€šè¿‡ç›¸åŒçš„å¯¹è±¡å»è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œé‚£ä¹ˆå°±éœ€è¦æ‹¿åˆ°è¿™ä¸ªå¯¹è±¡ä½œä¸ºçš„é”æ‰å¯ä»¥è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œåœ¨è¿™é‡Œä¹Ÿå°±æ˜¯å°†è¿™ä¸ªå¯¹è±¡ä½œä¸ºäº†é”ï¼Œå› æ­¤å°† synchronized å…³é”®å­—çš„è¿™ç§æ–¹å¼åˆ†ç±»åœ¨å¯¹è±¡é”ä¹‹ä¸‹ã€‚</li>
</ul>
<h5 id="åŒæ­¥ä»£ç å—å½¢å¼"><a href="#åŒæ­¥ä»£ç å—å½¢å¼" class="headerlink" title="åŒæ­¥ä»£ç å—å½¢å¼"></a>åŒæ­¥ä»£ç å—å½¢å¼</h5><p>åŒæ­¥ä»£ç å—çš„å½¢å¼å°±æ˜¯ç›´æ¥æŠŠ synchronized å…³é”®å­—åŠ åœ¨ä»£ç å—ä¸Šï¼Œå¹¶ä¸”æŒ‡å®šä¸€ä¸ªå¯¹è±¡ä½œä¸ºé”ã€‚è¿™æ ·å½“çº¿ç¨‹è®¿é—®ä»£ç å—æ—¶å°±å¯ä»¥æ‹¿åˆ°è¿™ä¸ªå¯¹è±¡ä½œä¸ºé”ï¼Œå…¶ä»–çº¿ç¨‹å†æƒ³è®¿é—®å°±æ‹¿ä¸åˆ°è¿™ä¸ªå¯¹è±¡äº†ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">syn</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">synchronized</span> (<span class="keyword">this</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">100000</span>; j++) &#123;</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// main æ–¹æ³•æ‰§è¡Œç»“æœï¼š20000</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ‰©å±•ï¼šä¸€ä¸ªæ–¹æ³•ä¸­å¯ä»¥æœ‰å¤šä¸ªåŒæ­¥ä»£ç å—ï¼Œå¹¶ä¸”ä½¿ç”¨ä¸åŒçš„é”å¯¹è±¡ã€‚</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Object lock1 = <span class="keyword">new</span> Object();</span><br><span class="line">Object lock2 = <span class="keyword">new</span> Object();</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">syn</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">synchronized</span> (lock1) &#123;</span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">"  lock1 å¼€å§‹æ‰§è¡Œ"</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">"  lock1 æ‰§è¡Œå®Œæ¯•"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">synchronized</span> (lock2) &#123;</span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">"  lock2 å¼€å§‹æ‰§è¡Œ"</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">"  lock2 æ‰§è¡Œå®Œæ¯•"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰§è¡Œç»“æœï¼š</span></span><br><span class="line">Thread-<span class="number">0</span>  lock1 å¼€å§‹æ‰§è¡Œ</span><br><span class="line">Thread-<span class="number">0</span>  lock1 æ‰§è¡Œå®Œæ¯•</span><br><span class="line">Thread-<span class="number">0</span>  lock2 å¼€å§‹æ‰§è¡Œ</span><br><span class="line">Thread-<span class="number">1</span>  lock1 å¼€å§‹æ‰§è¡Œ</span><br><span class="line">Thread-<span class="number">0</span>  lock2 æ‰§è¡Œå®Œæ¯•</span><br><span class="line">Thread-<span class="number">1</span>  lock1 æ‰§è¡Œå®Œæ¯•</span><br><span class="line">Thread-<span class="number">1</span>  lock2 å¼€å§‹æ‰§è¡Œ</span><br><span class="line">Thread-<span class="number">1</span>  lock2 æ‰§è¡Œå®Œæ¯•</span><br></pre></td></tr></table></figure>

<h5 id="æ™®é€šæ–¹æ³•å½¢å¼"><a href="#æ™®é€šæ–¹æ³•å½¢å¼" class="headerlink" title="æ™®é€šæ–¹æ³•å½¢å¼"></a>æ™®é€šæ–¹æ³•å½¢å¼</h5><p>ç›´æ¥å°† synchronized å…³é”®å­—åŠ åœ¨æ™®é€šæ–¹æ³•ä¸Šï¼ˆä»¥è°ƒç”¨æ–¹æ³•çš„å¯¹è±¡ä½œä¸ºé”ï¼Œä¹Ÿå°±æ˜¯ <code>this</code> ï¼‰ï¼Œè¿™æ ·è¿™ä¸ªæ–¹æ³•å°±æ˜¯åªèƒ½åŒæ—¶è¢«ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">syn</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">100000</span>; j++) &#123;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// main æ–¹æ³•æ‰§è¡Œç»“æœï¼š200000</span></span><br></pre></td></tr></table></figure>

<h3 id="ç±»é”"><a href="#ç±»é”" class="headerlink" title="ç±»é”"></a>ç±»é”</h3><p>synchronized ä¿®é¥°é™æ€æ–¹æ³•å’Œä¿®é¥°ä»£ç å—æ—¶æŒ‡å®šï¼ˆ*.classï¼‰å¯¹è±¡éƒ½ç§°ä¹‹ä¸ºç±»é”<br>ä»¥ä¸‹æ˜¯æˆ‘çš„ä¸ªäººç†è§£ï¼š</p>
<ul>
<li><strong>é™æ€æ–¹æ³•</strong><br> Java ä¸­ä¸€ä¸ªç±»çš„é™æ€æ–¹æ³•åªä¼šéšç€ç±»çš„åŠ è½½è€ŒåŠ è½½ï¼Œåœ¨åˆ›å»ºç±»å¯¹è±¡æ—¶æ˜¯ä¸ä¼šåŠ è½½é™æ€æ–¹æ³•çš„ã€‚è¿™æ„å‘³ç€ä¸€ä¸ªç±»çš„é™æ€æ–¹æ³•åœ¨å†…å­˜ä¸­åªæœ‰ä¸€ä»½ï¼Œè¿™ä¸ç±»çš„å®ä¾‹æ— å…³ã€‚å½“ synchronized ä¿®é¥°äº†é™æ€æ–¹æ³•æ—¶ï¼Œè¿™ä¸ªé™æ€æ–¹æ³•æ˜¯åœ¨åŒä¸€ä¸ªæ—¶é—´å†…æ˜¯ç»å¯¹åªä¼šæœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨æ‰§è¡Œçš„ã€‚è¿™ä¸ä¿®é¥°æ™®é€šæ–¹æ³•çš„å¯¹è±¡é”ä¸åŒï¼Œå¯¹è±¡é”çš„è¯æ˜¯å°†è°ƒç”¨æ–¹æ³•çš„å¯¹è±¡ä½œä¸ºé”çš„ï¼Œå¦‚æœæ‰§è¡Œè¿™ä¸ªå¯¹è±¡çš„æ–¹æ³•è¢«é˜»å¡æ—¶ï¼Œå¯ä»¥å†æ–°å»ºä¸€ä¸ªå¯¹è±¡å»æ‰§è¡Œè¿™ä¸ªæ–¹æ³•ã€‚è€Œä¿®é¥°é™æ€æ–¹æ³•çš„ç±»é”æ˜¯ä¸åŒçš„ï¼Œç”±äºé™æ€æ–¹æ³•åœ¨å†…å­˜ä¸­åªæœ‰ä¸€ä»½ï¼Œæ‰€ä»¥<strong>åœ¨åŒä¸€æ—¶é—´æ®µå†…åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œ</strong></li>
<li><strong>æŒ‡å®šï¼ˆ*.classï¼‰å¯¹è±¡</strong><br> é¦–å…ˆå¿…é¡»æ˜ç™½ä¸€ä¸ªæ¦‚å¿µï¼ŒJava ä¸­çš„ç±»æ— è®ºè¢«å®ä¾‹åŒ–å¤šå°‘æ¬¡ <code>class</code> å¯¹è±¡éƒ½å§‹ç»ˆåªæœ‰ä¸€ä¸ªï¼Œæ‰€ä»¥ä¿®é¥°ä»£ç å—æ—¶æŒ‡å®šä¸€ä¸ª <code>ç±»å.class</code> çš„ç±»å¯¹è±¡ä½œä¸ºé”ä¼ å…¥çš„è¯ï¼Œé‚£ä¹ˆç”±äºé”åœ¨å†…å­˜ä¸­çš„å”¯ä¸€æ€§ï¼Œé‚£ä¹ˆè¿™ä¸ªä»£ç å—ä¹Ÿæ˜¯<strong>åœ¨åŒä¸€æ—¶é—´æ®µå†…åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œçš„</strong>ã€‚åŒæ ·çš„è¿™ä¸å¯¹è±¡é”ä¸­æŒ‡å®šå¯¹è±¡çš„å½¢å¼ä¸åŒï¼ŒæŒ‡å®šä¸€ä¸ªå¯¹è±¡ä½œä¸ºé”çš„è¯ï¼Œåœ¨é˜»å¡æ—¶å®é™…ä¸Šä¹Ÿå¯ä»¥é€šè¿‡é‡æ–°åˆ›å»ºä¸€ä¸ªå¯¹è±¡æ¥æ‰§è¡Œä»£ç å—ä¸­çš„ä»£ç ã€‚</li>
</ul>
<h5 id="é™æ€æ–¹æ³•å½¢å¼"><a href="#é™æ€æ–¹æ³•å½¢å¼" class="headerlink" title="é™æ€æ–¹æ³•å½¢å¼"></a>é™æ€æ–¹æ³•å½¢å¼</h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">syn</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">100000</span>; j++) &#123;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// main æ–¹æ³•æ‰§è¡Œç»“æœï¼š200000</span></span><br></pre></td></tr></table></figure>

<h5 id="æŒ‡å®šï¼ˆ-classï¼‰å¯¹è±¡çš„å½¢å¼"><a href="#æŒ‡å®šï¼ˆ-classï¼‰å¯¹è±¡çš„å½¢å¼" class="headerlink" title="æŒ‡å®šï¼ˆ*.classï¼‰å¯¹è±¡çš„å½¢å¼"></a>æŒ‡å®šï¼ˆ*.classï¼‰å¯¹è±¡çš„å½¢å¼</h5><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">syn</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">synchronized</span> (Runnable<span class="class">.<span class="keyword">class</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">100000</span>; j++) &#123;</span><br><span class="line">            i++;</span><br><span class="line">        &#125;    </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// main æ–¹æ³•æ‰§è¡Œç»“æœï¼š200000</span></span><br></pre></td></tr></table></figure>

<h3 id="å°ç»“ï¼š"><a href="#å°ç»“ï¼š" class="headerlink" title="å°ç»“ï¼š"></a>å°ç»“ï¼š</h3><blockquote>
<p>synchronized å…³é”®å­—å°±æ˜¯å°†æŒ‡å®šçš„å¯¹è±¡ä½œä¸ºé”å»ä¿æŠ¤æŸä¸€æ®µä»£ç çš„æœºåˆ¶ï¼Œè¿™ä¸ªæŒ‡å®šçš„å¯¹è±¡å¯ä»¥æ˜¯æ™®é€šå¯¹è±¡ä¹Ÿå¯ä»¥æ˜¯ç±»å¯¹è±¡ã€‚æ ¹æ®æŒ‡å®šçš„å¯¹è±¡çš„åŠŸèƒ½ä¸åŒå¯ä»¥åˆ†ä¸ºå¯¹è±¡é”å’Œç±»é”ï¼Œå¯¹è±¡é”å’Œç±»é”çš„åŒºåˆ«å°±æ˜¯åœ¨å†…å­˜ä¸­ï¼Œç±»é”æ˜¯åªæœ‰ä¸€ä¸ªçš„ï¼Œè€Œå¯¹è±¡é”å¯ä»¥åˆ›å»ºå¤šä¸ªï¼Œä»è€Œåœ¨æŸç§ç‰¹å®šçš„æ¡ä»¶ä¸‹å¯èƒ½åœ¨åŒä¸€ä¸ªæ—¶é—´æ®µå†…å¤šä¸ªçº¿ç¨‹éƒ½åœ¨æ‰§è¡ŒåŒä¸€ä¸ªæ–¹æ³•ã€‚</p>
</blockquote>
<h1 id="å¤šçº¿ç¨‹è®¿é—®åŒæ­¥æ–¹æ³•çš„7ç§æƒ…å†µ"><a href="#å¤šçº¿ç¨‹è®¿é—®åŒæ­¥æ–¹æ³•çš„7ç§æƒ…å†µ" class="headerlink" title="å¤šçº¿ç¨‹è®¿é—®åŒæ­¥æ–¹æ³•çš„7ç§æƒ…å†µ"></a>å¤šçº¿ç¨‹è®¿é—®åŒæ­¥æ–¹æ³•çš„7ç§æƒ…å†µ</h1><ol>
<li><p>ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®<strong>ä¸€ä¸ªå¯¹è±¡</strong>çš„åŒæ­¥æ–¹æ³•<br> åŒä¸€ä¸ªå¯¹è±¡åŒä¸€ä¸ªé”ï¼Œå…ˆè®¿é—®å…ˆæ‰§è¡Œï¼Œåè®¿é—®è¢«é˜»å¡</p>
</li>
<li><p>ä¸¤ä¸ªçº¿ç¨‹è®¿é—®çš„æ˜¯<strong>ä¸¤ä¸ªå¯¹è±¡</strong>çš„åŒæ­¥æ–¹æ³•<br> ä¸¤ä¸ªå¯¹è±¡ä¸¤ä¸ªé”ï¼Œä¸¤ä¸ªçº¿ç¨‹å„ä¸€ä¸ªï¼Œå„è‡ªæ‰§è¡Œï¼Œäº’ä¸å¹²æ‰°</p>
</li>
<li><p>ä¸¤ä¸ªçº¿ç¨‹è®¿é—®çš„æ˜¯ synchronized çš„é™æ€æ–¹æ³•<br> é™æ€æ–¹æ³•æŒç±»é”ï¼Œä¸¤ä¸ªçº¿ç¨‹ä¸€ä¸ªé”ï¼Œå…ˆè®¿é—®å…ˆæ‰§è¡Œï¼Œåè®¿é—®é˜»å¡</p>
</li>
<li><p>åŒæ—¶è®¿é—®<strong>åŒæ­¥</strong>æ–¹æ³•ä¸<strong>éåŒæ­¥</strong>æ–¹æ³•<br> éåŒæ­¥æ–¹æ³•çš„æ‰§è¡Œå¹¶ä¸å—åŒæ­¥æ–¹æ³•çš„å½±å“</p>
</li>
<li><p>è®¿é—®åŒä¸€ä¸ªå¯¹è±¡çš„<strong>ä¸åŒçš„</strong>æ™®é€šåŒæ­¥æ–¹æ³•<br> æ™®é€šåŒæ­¥æ–¹æ³•é»˜è®¤ä»¥ <code>this</code> ä½œä¸ºé”å¯¹è±¡ï¼Œæ‰€ä»¥åŒä¸ªå¯¹è±¡åŒä¸ªé”ï¼Œå…ˆè®¿é—®å…ˆæ‰§è¡Œï¼Œåè®¿é—®è¢«é˜»å¡</p>
</li>
<li><p>åŒæ—¶è®¿é—®<strong>é™æ€</strong> synchronized å’Œ<strong>éé™æ€</strong> synchronized æ–¹æ³•<br> é™æ€æ–¹æ³•ç”¨ç±»é”ï¼Œéé™æ€æ–¹æ³•ç”¨å¯¹è±¡é”ï¼Œä¸¤ä¸ªçº¿ç¨‹å„ä¸€ä¸ªï¼Œå„è‡ªæ‰§è¡Œï¼Œäº’ä¸å¹²æ‰°</p>
</li>
<li><p>æ–¹æ³•æŠ›å‡º<strong>å¼‚å¸¸</strong>åï¼Œä¼šé‡Šæ”¾<strong>é”</strong><br> ä»£ç æ¼”ç¤ºï¼š</p>
 <figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Runnable</span> <span class="keyword">implements</span> <span class="title">java</span>.<span class="title">lang</span>.<span class="title">Runnable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Runnable runnable = <span class="keyword">new</span> Runnable();</span><br><span class="line">        Thread thread1 = <span class="keyword">new</span> Thread(runnable);</span><br><span class="line">        Thread thread2 = <span class="keyword">new</span> Thread(runnable);</span><br><span class="line">        thread1.start();</span><br><span class="line">        thread2.start();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (Thread.currentThread().getName().equals(<span class="string">"Thread-0"</span>)) &#123;</span><br><span class="line">            method1();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            method2();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">method1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">"   å¼€å§‹æ‰§è¡Œ"</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">3000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">method2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">"   å¼€å§‹æ‰§è¡Œ"</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">"   æ‰§è¡Œå®Œæ¯•"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// main æ–¹æ³•æ‰§è¡Œç»“æœï¼š</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Thread-0   å¼€å§‹æ‰§è¡Œ</span></span><br><span class="line"><span class="comment">// ç­‰å¾…3ç§’...</span></span><br><span class="line"><span class="comment">Exception in thread "Thread-0" java.lang.RuntimeException</span></span><br><span class="line"><span class="comment">    at createthreads.Runnable.method1(Runnable.java:29)</span></span><br><span class="line"><span class="comment">    at createthreads.Runnable.run(Runnable.java:16)</span></span><br><span class="line"><span class="comment">    at java.lang.Thread.run(Thread.java:748)</span></span><br><span class="line"><span class="comment">Thread-1   å¼€å§‹æ‰§è¡Œ</span></span><br><span class="line"><span class="comment">Thread-1   æ‰§è¡Œå®Œæ¯•</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="å°ç»“ï¼š-1"><a href="#å°ç»“ï¼š-1" class="headerlink" title="å°ç»“ï¼š"></a>å°ç»“ï¼š</h3><ol>
<li>ä¸€æŠŠé”åªèƒ½åŒæ—¶è¢«ä¸€ä¸ªçº¿ç¨‹è·å–ï¼Œæ²¡æœ‰æ‹¿åˆ°é”çš„çº¿ç¨‹å¿…é¡»ç­‰å¾…ã€‚</li>
<li>æ¯ä¸ªå®ä¾‹éƒ½å¯¹åº”è‡ªå·±çš„ä¸€æŠŠé”ï¼Œä¸åŒå®ä¾‹ä¹‹é—´äº’ä¸å½±å“ã€‚</li>
<li>é”å¯¹è±¡æ˜¯æ˜¯ <code>*.class</code> ä»¥åŠ synchronized ä¿®é¥°çš„æ˜¯ static æ–¹æ³•çš„æ—¶å€™ï¼Œæ‰€æœ‰å¯¹è±¡å…±ç”¨ä¸€æŠŠé”ã€‚</li>
<li>æ— è®ºæ–¹æ³•æ­£å¸¸æ‰§è¡Œå®Œæ¯•æˆ–è€…æ–¹æ³•æŠ›å‡ºå¼‚å¸¸ï¼Œéƒ½ä¼šé‡Šæ”¾é”ã€‚</li>
</ol>
<h1 id="æ€§è´¨"><a href="#æ€§è´¨" class="headerlink" title="æ€§è´¨"></a>æ€§è´¨</h1><h3 id="å¯é‡å…¥"><a href="#å¯é‡å…¥" class="headerlink" title="å¯é‡å…¥"></a>å¯é‡å…¥</h3><ul>
<li><strong>æ¦‚å¿µ</strong>ï¼šæŒ‡çš„æ˜¯åŒä¸€çº¿ç¨‹çš„å¤–å±‚å‡½æ•°è·å–é”ä¹‹åï¼Œå†…å±‚å‡½æ•°å¯ä»¥ç›´æ¥å†æ¬¡è·å–è¯¥é”ã€‚</li>
<li><strong>å¥½å¤„</strong>ï¼šé¿å…æ­»é”ï¼Œæå‡å°è£…æ€§ã€‚</li>
</ul>
<p>å¯é‡å…¥çš„æ„æ€æ˜¯ï¼Œå½“å‰è·å¾—é”çš„çº¿ç¨‹å»å†æ¬¡è°ƒç”¨è¢« synchronized ä¿®é¥°çš„æ–¹æ³•æ—¶ï¼Œå¯ä»¥æŠŠå½“å‰å·²ç»è·å¾—çš„é”ç›´æ¥ä¼ é€’ç»™è¯¥æ–¹æ³•ã€‚è¿™æ ·çš„æœºåˆ¶çš„å¥½å¤„æ˜¯å¯ä»¥é¿å…æ­»é”çš„å‘ç”Ÿï¼Œä¹Ÿå°±æ˜¯å½“å‰æ–¹æ³•åœ¨ç­‰å¾…çš„é”æ­£å¥½æ˜¯è‡ªå·±å·²ç»è·å¾—çš„é”ï¼Œé™·å…¥æ­»å¾ªç¯ä¸æ–­ç­‰å¾…ã€‚å¦ä¸€ä¸ªå¥½å¤„æ˜¯æå‡å°è£…æ€§ï¼Œç”±äºå¯ä¼ å…¥çš„æ€§è´¨ï¼Œé¿å…äº†åœ¨è°ƒç”¨å…¶ä»–æ–¹æ³•æ—¶çš„è§£é”å’ŒåŠ é”æ­¥éª¤ï¼Œç®€åŒ–äº†å¹¶å‘ç¼–ç¨‹çš„éš¾åº¦ã€‚</p>
<p><strong>ç¤ºä¾‹ï¼šä¸‰ä¸ªå¯é‡å…¥åœºæ™¯</strong></p>
<blockquote>
<p>é€’å½’è°ƒç”¨è¢« synchronized å…³é”®å­—ä¿®é¥°çš„æ–¹æ³•</p>
</blockquote>
<blockquote>
<p>åœ¨ synchronized æ–¹æ³•ä¸­è°ƒç”¨å¦å¤–ä¸€ä¸ª synchronized æ–¹æ³•ï¼ˆå¿…é¡»ä½¿ç”¨åŒä¸€ä¸ªé”ï¼‰</p>
</blockquote>
<blockquote>
<p>å­ç±» synchronized æ–¹æ³•ä¸­è°ƒç”¨çˆ¶ç±» synchronized æ–¹æ³•</p>
</blockquote>
<h3 id="ä¸å¯ä¸­æ–­"><a href="#ä¸å¯ä¸­æ–­" class="headerlink" title="ä¸å¯ä¸­æ–­"></a>ä¸å¯ä¸­æ–­</h3><p>å½“çº¿ç¨‹è®¿é—®ä¸€ä¸ªæ‹¿ä¸åˆ°é”çš„ synchronized æ–¹æ³•æ—¶ï¼Œåªèƒ½æ˜¯è¢«é˜»å¡ã€‚ç›´åˆ°åˆ«çš„çº¿ç¨‹é‡Šæ”¾é”ä¸ºæ­¢ï¼Œå¦‚æœåˆ«çš„çº¿ç¨‹æ°¸è¿œä¸é‡Šæ”¾é”çš„è¯ï¼Œé‚£ä¹ˆå°±åªèƒ½æ°¸è¿œç­‰å¾…ä¸‹å»ã€‚</p>
<hr>
<p>å‚è€ƒï¼š<br><a href="https://www.cnblogs.com/wpf-7/p/9639671.html" target="_blank" rel="noopener">https://www.cnblogs.com/wpf-7/p/9639671.html</a></p>
<p>å¤§å®¶åŠ æ²¹ï¼šï¼‰</p>
]]></content>
      <categories>
        <category>å¹¶å‘</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>å¹¶å‘</tag>
        <tag>synchronized</tag>
        <tag>é”</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Javaå¹¶å‘ã€‘join()æ–¹æ³•</title>
    <url>/posts/50308/</url>
    <content><![CDATA[<blockquote>
<p>joinæ–¹æ³•çš„ä¸»è¦ä½œç”¨æ˜¯åŒæ­¥ã€‚åœ¨ä¸»çº¿ç¨‹ä¸­å»åˆ›å»ºå¹¶å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹ï¼Œå†è°ƒç”¨è¿™ä¸ªçº¿ç¨‹çš„joinæ–¹æ³•ä¹‹åï¼Œä¼šä½¿å¾—ä¸¤ä¸ªçº¿ç¨‹åŸæœ¬æ˜¯å¹¶è¡Œå…³ç³»å˜æˆä¸²è¡Œå…³ç³»ï¼Œä¹Ÿå°±æ˜¯ä¸»çº¿ç¨‹å°†ä¼šç­‰å¾…å­çº¿ç¨‹æ‰§è¡Œå®Œæ¯•ä¹‹åå†ç»§ç»­æ‰§è¡Œã€‚</p>
</blockquote>
<a id="more"></a>
<p>æ³¨æ„ï¼šjoinæ–¹æ³•å¯ä»¥ä¼ å…¥ä¸€ä¸ªlongç±»å‹çš„å‚æ•°ï¼Œè¡¨ç¤ºè¿‡äº†å¤šå°‘æ¯«ç§’ä¹‹åä¸¤ä¸ªçº¿ç¨‹å°†ç”±ä¸²è¡Œå…³ç³»å†æ¬¡è½¬å˜æˆå¹¶è¡Œå…³ç³»ã€‚ä½†å¦‚æœä¼ å…¥çš„å‚æ•°æ˜¯0çš„è¯ï¼Œè¡¨ç¤ºçš„æ˜¯æ°¸ä¹…ç­‰å¾…ï¼Œä¹Ÿå°±æ˜¯ä¸»çº¿ç¨‹å°†ä¼šç­‰å¾…ç›´åˆ°å­çº¿ç¨‹æ‰§è¡Œå®Œæ¯•ä¹‹åå†æ¬¡æ‰§è¡Œï¼Œç›¸å½“äºä¸ä¼ å‚æ•°çš„joinæ–¹æ³•ã€‚</p>
<p><strong>ä»£ç æ¼”ç¤ºï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"å­çº¿ç¨‹"</span> + Thread.currentThread().getName() + <span class="string">"å¼€å§‹æ‰§è¡Œ"</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">"å­çº¿ç¨‹"</span> + Thread.currentThread().getName() + <span class="string">"æ‰§è¡Œå®Œæ¯•"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        Thread thread1 = <span class="keyword">new</span> Thread(<span class="keyword">new</span> Test());</span><br><span class="line">        Thread thread2 = <span class="keyword">new</span> Thread(<span class="keyword">new</span> Test());</span><br><span class="line">        thread1.start();</span><br><span class="line">        thread2.start();</span><br><span class="line">        thread1.join();</span><br><span class="line">        thread2.join();</span><br><span class="line">        System.out.println(<span class="string">"æ‰€æœ‰å­çº¿ç¨‹æ‰§è¡Œå®Œæ¯•"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// mainæ–¹æ³•æ‰§è¡Œç»“æœ</span></span><br><span class="line">å­çº¿ç¨‹Thread-<span class="number">1</span>æ‰§è¡Œå®Œæ¯•</span><br><span class="line">å­çº¿ç¨‹Thread-<span class="number">0</span>æ‰§è¡Œå®Œæ¯•</span><br><span class="line">æ‰€æœ‰å­çº¿ç¨‹æ‰§è¡Œå®Œæ¯•</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„ä»£ç å¦‚æœå°†ä¸¤ä¸ªçº¿ç¨‹æ‰§è¡Œjoinæ–¹æ³•çš„é‚£è¡Œä»£ç æ³¨é‡Šæ‰ï¼Œåˆ™æ‰§è¡Œç»“æœä¸º</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">æ‰€æœ‰å­çº¿ç¨‹æ‰§è¡Œå®Œæ¯•</span><br><span class="line">å­çº¿ç¨‹Thread-<span class="number">0</span>æ‰§è¡Œå®Œæ¯•</span><br><span class="line">å­çº¿ç¨‹Thread-<span class="number">1</span>æ‰§è¡Œå®Œæ¯•</span><br></pre></td></tr></table></figure>
<p>å¾ˆæ˜æ˜¾ï¼Œjoinæ–¹æ³•çš„è°ƒç”¨ä¼šä½¿å¾—ä¸»çº¿ç¨‹å»ç­‰å¾…å­çº¿ç¨‹æ‰§è¡Œå®Œæ¯•ä¹‹åå†é‡æ–°æ‰§è¡Œä»£ç ã€‚</p>
<h1 id="joinæœŸé—´è¢«ä¸­æ–­"><a href="#joinæœŸé—´è¢«ä¸­æ–­" class="headerlink" title="joinæœŸé—´è¢«ä¸­æ–­"></a>joinæœŸé—´è¢«ä¸­æ–­</h1><p>ä¸€ä¸ªæœ‰æ„æ€çš„é—®é¢˜ï¼š</p>
<blockquote>
<p>å¦‚æœä¸»çº¿ç¨‹è°ƒç”¨å­çº¿ç¨‹çš„joinæ–¹æ³•åï¼Œåœ¨å­çº¿ç¨‹æ‰§è¡Œçš„æœŸé—´ï¼Œæœ‰interrupté€šçŸ¥è¿›å…¥äº†ï¼Œæ€ä¹ˆåŠï¼Ÿ</p>
</blockquote>
<p>é’ˆå¯¹ä¸Šé¢çš„é—®é¢˜ï¼Œæˆ‘å†é‡ç”³ä¸€ä¸‹æœ¬æ–‡å¼€ç¯‡å…³äºjoinæ–¹æ³•ä½œç”¨çš„ä»‹ç»ã€‚ã€Œ<strong>ä¸»çº¿ç¨‹å°†ä¼šç­‰å¾…è°ƒç”¨äº†joinæ–¹æ³•çš„å­çº¿ç¨‹æ‰§è¡Œå®Œæ¯•åå†ç»§ç»­æ‰§è¡Œ</strong>ã€<br>å®é™…ä¸Šï¼Œæ˜¯ä¸»çº¿ç¨‹åœ¨ç­‰å¾…å­çº¿ç¨‹æ‰§è¡Œå®Œæ¯•ï¼Œä¹Ÿå°±æ˜¯è¯´é™·å…¥é˜»å¡çŠ¶æ€çš„æ˜¯ä¸»çº¿ç¨‹è€Œä¸æ˜¯å­çº¿ç¨‹ã€‚<br>æ‰€ä»¥å…³äºä¸Šé¢çš„é—®é¢˜å¦‚æœæœ‰interrupté€šçŸ¥è¿›å…¥äº†ä¸»çº¿ç¨‹å°†ä¼šæŠ›å‡ºä¸€ä¸ªInterruptedExceptionæ¥å“åº”è¿™ä¸ªinterrupté€šçŸ¥ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">static</span> Thread mainThread = Thread.currentThread();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    Thread thread = <span class="keyword">new</span> Thread(() -&gt; &#123;</span><br><span class="line">        mainThread.interrupt();</span><br><span class="line">    &#125;);</span><br><span class="line">    thread.start();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        thread.join();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">"çº¿ç¨‹è¢«ä¸­æ–­äº†"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// mainæ–¹æ³•æ‰§è¡Œç»“æœ</span></span><br><span class="line">mainçº¿ç¨‹è¢«ä¸­æ–­äº†</span><br></pre></td></tr></table></figure>
<p>å¯åŠ¨ä¸€ä¸ªå­çº¿ç¨‹å¹¶è°ƒç”¨joinæ–¹æ³•ï¼Œè¿™æ—¶ä¸»çº¿ç¨‹å°±åœ¨ç­‰å¾…å­çº¿ç¨‹çš„æ‰§è¡Œå®Œæ¯•ï¼Œç„¶åå­çº¿ç¨‹å»ä¸­æ–­äº†ä¸»çº¿ç¨‹ã€‚ä¹Ÿå°±æ˜¯ä¸­æ–­äº†ä¸€ä¸ªæ­£åœ¨<strong>å› joinæ–¹æ³•é™·å…¥é˜»å¡</strong>çš„çº¿ç¨‹ï¼Œé‚£ä¹ˆæ­¤æ—¶æˆ‘ä»¬ä¸­æ–­çš„æ˜¯è¿™ä¸ªé™·å…¥é˜»å¡çš„çº¿ç¨‹ï¼Œè€Œä¸æ˜¯æ­£åœ¨æ‰§è¡Œçš„å­çº¿ç¨‹ã€‚</p>
<h1 id="joinæœŸé—´çš„çº¿ç¨‹çŠ¶æ€"><a href="#joinæœŸé—´çš„çº¿ç¨‹çŠ¶æ€" class="headerlink" title="joinæœŸé—´çš„çº¿ç¨‹çŠ¶æ€"></a>joinæœŸé—´çš„çº¿ç¨‹çŠ¶æ€</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">static</span> Thread mainThread = Thread.currentThread();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">    Thread thread = <span class="keyword">new</span> Thread(() -&gt; &#123;</span><br><span class="line">        System.out.println(mainThread.getState());</span><br><span class="line">        System.out.println(Thread.currentThread().getState());</span><br><span class="line">    &#125;);</span><br><span class="line">    thread.start();</span><br><span class="line">    thread.join();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// mainæ–¹æ³•æ‰§è¡Œç»“æœ</span></span><br><span class="line">WAITING</span><br><span class="line">RUNNABLE</span><br></pre></td></tr></table></figure>
<p>åœ¨å­çº¿ç¨‹ä¸­å»æ‰“å°ä¸»çº¿ç¨‹å’Œå­çº¿ç¨‹å„è‡ªçš„çŠ¶æ€ï¼Œæ˜æ˜¾è°ƒç”¨äº†joinæ–¹æ³•çš„ä¸»çº¿ç¨‹è¢«é˜»å¡äº†æ˜¯WAITINGçŠ¶æ€ï¼Œè€Œæ­£åœ¨è¿è¡Œçš„å­çº¿ç¨‹åˆ™æ˜¯RUNNABLEçŠ¶æ€ã€‚</p>
<h1 id="joinæ–¹æ³•åˆ†æ"><a href="#joinæ–¹æ³•åˆ†æ" class="headerlink" title="joinæ–¹æ³•åˆ†æ"></a>joinæ–¹æ³•åˆ†æ</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä¸‹é¢æ˜¯Threadç±»ä¸­çš„joinæ–¹æ³•æºç </span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title">join</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">    join(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">join</span><span class="params">(<span class="keyword">long</span> millis)</span></span></span><br><span class="line"><span class="function"><span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">    <span class="keyword">long</span> base = System.currentTimeMillis();</span><br><span class="line">    <span class="keyword">long</span> now = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (millis &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"timeout value is negative"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (millis == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">while</span> (isAlive()) &#123;</span><br><span class="line">            wait(<span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (isAlive()) &#123;</span><br><span class="line">            <span class="keyword">long</span> delay = millis - now;</span><br><span class="line">            <span class="keyword">if</span> (delay &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            wait(delay);</span><br><span class="line">            now = System.currentTimeMillis() - base;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç”±æ­¤å¯çŸ¥ï¼Œjoinæ–¹æ³•å®é™…ä¸Šè¿˜æ˜¯è°ƒç”¨äº†waitæ–¹æ³•çš„ã€‚å¦‚æœæ²¡æœ‰ä¼ å…¥æ—¶é—´å‚æ•°ï¼Œåˆ™æ˜¯è°ƒç”¨äº†<code>wait(0)</code>è¿™ä¸ªæ–¹æ³•ï¼Œä»£è¡¨æ°¸ä¹…ç­‰å¾…ï¼Œç›´åˆ°è¢«å”¤é†’ã€‚<br>æœ‰æ„æ€çš„æ˜¯è¿™å…¶ä¸­å¹¶æ²¡æœ‰çœ‹åˆ°notifyæˆ–è€…æ˜¯notifyAllæ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯å¹¶æ²¡æœ‰çº¿ç¨‹å»å”¤é†’è¿™ä¸ªç­‰å¾…å­çº¿ç¨‹æ‰§è¡Œå®Œæ¯•çš„ä¸»çº¿ç¨‹ï¼Œä½†æ˜¯å½“å­çº¿ç¨‹æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œè¿™ç¡®ç¡®å®å®è¢«å”¤é†’äº†ã€‚<br>æˆ‘ä»¬çŸ¥é“ï¼Œä¸»çº¿ç¨‹è¢«å”¤é†’çš„æ¡ä»¶æ˜¯å­çº¿ç¨‹æ‰§è¡Œå®Œæ¯•ï¼ŒåˆçŸ¥é“çº¿ç¨‹æ‰§è¡Œå®Œæ¯•åªæœ‰ä¸¤ç§æƒ…å†µï¼Œä¸€æ˜¯runæ–¹æ³•è¿è¡Œç»“æŸï¼ŒäºŒæ˜¯æŠ›å‡ºäº†è¿è¡Œæ—¶å¼‚å¸¸ã€‚<br>è‡³æ­¤ï¼Œç­”æ¡ˆæ°´è½çŸ³å‡ºï¼Œå½“çº¿ç¨‹æ‰§è¡Œå®Œæ¯•æ—¶ï¼Œå°†ä¼šå»æ‰§è¡ŒnotifyAllæ–¹æ³•å”¤é†’å…¶ä»–çš„çº¿ç¨‹ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼šæˆ‘ä»¬å¹¶ä¸æå€¡ä½¿ç”¨Threadç±»çš„å®ä¾‹ä½œä¸ºsynchronizedçš„é”å¯¹è±¡åŸå› ä¹Ÿæ˜¯åœ¨æ­¤ï¼Œå› ä¸ºè¿™å¯èƒ½ä¼šç ´ååŸæœ‰çš„wait-notifyç»“æ„ã€‚</p>
</blockquote>
<hr>
<p>å¤§å®¶åŠ æ²¹ï¼šï¼‰</p>
]]></content>
  </entry>
  <entry>
    <title>ã€Javaå¹¶å‘ã€‘åœæ­¢çº¿ç¨‹</title>
    <url>/posts/41050/</url>
    <content><![CDATA[<p>æ­£æ‰€è°“ä¸Šå±±å®¹æ˜“ä¸‹å±±éš¾ã€‚æˆ‘ä»¬åˆ›å»ºå¯åŠ¨ä¸€ä¸ªçº¿ç¨‹å¹¶ä¸æ˜¯å¾ˆå›°éš¾ï¼Œä½†æ˜¯å¦‚ä½•æ­£ç¡®çš„åœæ­¢ä¸€ä¸ªçº¿ç¨‹å°±å¹¶ä¸æ˜¯é‚£ä¹ˆç®€å•ã€‚å› ä¸ºå¦‚æœæ²¡æœ‰æ­£ç¡®åœæ­¢çš„çº¿ç¨‹çš„è¯ï¼Œçº¿ç¨‹å°†ç»§ç»­æ¶ˆè€—è®¡ç®—æœºçš„èµ„æºï¼Œå¯¹æ€§èƒ½é€ æˆä¸¥é‡çš„æŸè€—ã€‚</p>
<a id="more"></a>

<h1 id="ä¸€ã€åœæ­¢çº¿ç¨‹åŸç†"><a href="#ä¸€ã€åœæ­¢çº¿ç¨‹åŸç†" class="headerlink" title="ä¸€ã€åœæ­¢çº¿ç¨‹åŸç†"></a>ä¸€ã€åœæ­¢çº¿ç¨‹åŸç†</h1><blockquote>
<p><strong>åŸç†æ¦‚è¿°ï¼šä½¿ç”¨ interrupt æ¥é€šçŸ¥çº¿ç¨‹åœæ­¢ï¼Œè€Œä¸æ˜¯å¼ºåˆ¶åœæ­¢çº¿ç¨‹</strong></p>
</blockquote>
<p>é€šå¸¸çº¿ç¨‹åœæ­¢çš„ä¸¤ç§æƒ…å†µï¼š</p>
<ol>
<li>run æ–¹æ³•ä¸­çš„å…¨éƒ¨ä»£ç è¿è¡Œå®Œæ¯•ã€‚</li>
<li>çº¿ç¨‹è¿è¡Œçš„è¿‡ç¨‹ä¸­å‡ºç°æ²¡æœ‰æ•è·çš„å¼‚å¸¸ã€‚</li>
</ol>
<p>å®é™…ä¸Š Java è¯­è¨€ä¸­å¹¶æ²¡æœ‰æä¾›å¯ä»¥è®©çº¿ç¨‹å®‰å…¨å¯é åœæ­¢çš„æ–¹æ³•ï¼Œä½†æ˜¯ Java æä¾›äº† interrupt æœºåˆ¶æ¥åœæ­¢çº¿ç¨‹ã€‚<br><strong>æ³¨æ„ï¼šinterrupt æœºåˆ¶æ˜¯ä¸€ç§åˆä½œæœºåˆ¶è€Œä¸æ˜¯å¼ºåˆ¶æœºåˆ¶ã€‚å°† interrupt çœ‹ä½œä¸€ç§é€šçŸ¥çš„å½¢å¼æˆ‘è®¤ä¸ºæ›´å‡†ç¡®ä¸€äº›ã€Œç”¨ä¸€ä¸ªçº¿ç¨‹å»é€šçŸ¥å¦å¤–ä¸€ä¸ªçº¿ç¨‹åœæ­¢ä¸‹æ¥ã€</strong></p>
<p>å…¶å®åœ¨ Java è¯­è¨€ä¸­ï¼Œæœ€å¥½çš„åœæ­¢çº¿ç¨‹çš„æ–¹å¼ä¹Ÿæ˜¯ä½¿ç”¨ interrupt è¿™ç§æ–¹å¼</p>
<p>å¦‚æœæˆ‘ä»¬æƒ³è¦å»åœæ­¢ä¸€ä¸ªçº¿ç¨‹æœ€å¤šä¹Ÿå°±ä»…èƒ½åšåˆ°å»é€šçŸ¥è¿™ä¸ªçº¿ç¨‹åœæ­¢ï¼Œè€Œæœ€ç»ˆå†³å®šè¦ä¸è¦åœæ­¢çš„æƒåˆ©è¿˜æ˜¯åœ¨è¦åœæ­¢çš„çº¿ç¨‹æœ¬èº«</p>
<p>åœ¨æˆ‘ä»¬é€šçŸ¥çº¿ç¨‹åœæ­¢ä¹‹åï¼Œç”±è¢«é€šçŸ¥åœæ­¢çš„çº¿ç¨‹æ¥å“åº”è¿™ä¸ªåœæ­¢é€šçŸ¥ï¼Œå†æœ€ç»ˆå†³å®šæ˜¯å¦åœæ­¢ï¼Œå¦‚æœçº¿ç¨‹ä¸æƒ³è¦åœæ­¢çš„è¯ï¼Œæˆ‘ä»¬æ˜¯ä¸€ç‚¹åŠæ³•éƒ½æ²¡æœ‰çš„ï¼Œè¿™å°±æ˜¯åŸç†æ¦‚è¿°ååŠå¥ã€Œè€Œä¸æ˜¯å¼ºåˆ¶åœæ­¢çº¿ç¨‹ã€çš„å«ä¹‰</p>
<blockquote>
<p>è¿™å…¶å®å¯ä»¥ç±»æ¯”æˆæˆ‘ä»¬å¹³æ—¶åœ¨è·¯ä¸Šé©¾é©¶æ±½è½¦çš„è¿‡ç¨‹ã€‚å½“çº¢ç¯äº®èµ·æ¥æ—¶ï¼Œå®é™…ä¸Šä¹Ÿä»…èƒ½å¤Ÿåšåˆ°é€šçŸ¥è·¯ä¸Šçš„æ±½è½¦åœè½¦ï¼Œç„¶åå¸æœºå»å“åº”è¿™ä¸ªçº¢ç¯ï¼Œåœæ­¢æ±½è½¦ã€‚è¿™é‡Œçš„çº¢ç¯å°±æ˜¯é€šçŸ¥ï¼Œå¸æœºå°±æ˜¯çº¿ç¨‹ã€‚çº¢ç¯äº®èµ·ä¹‹åï¼Œå¸æœºå¯ä»¥å†³å®šåœè½¦ç­‰çº¢ç¯ï¼Œå¸æœºä¹Ÿå¯ä»¥ä¸è¦åœè½¦å†³å®šé—¯çº¢ç¯ï¼Œæ¯”å¦‚æ­£åœ¨æ‰§è¡Œä»»åŠ¡çš„æ•‘æŠ¤è½¦æˆ–æ¶ˆé˜²è½¦ã€‚</p>
</blockquote>
<p><strong>ä»£ç å®ç°</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line"></span><br><span class="line">    Thread thread = <span class="keyword">new</span> Thread(() -&gt; &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// å¾ªç¯æ¡ä»¶ï¼šæ˜¯å¦æœ‰é€šçŸ¥åœæ­¢çº¿ç¨‹</span></span><br><span class="line">        <span class="keyword">while</span> (!Thread.currentThread().isInterrupted()) &#123;</span><br><span class="line">            System.out.println(num++);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">"ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œnum çš„å€¼ï¼š"</span> + num);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    thread.start();</span><br><span class="line">    Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// é€šçŸ¥çº¿ç¨‹åœæ­¢</span></span><br><span class="line">    thread.interrupt();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="äºŒã€é˜»å¡çŠ¶æ€ä¸‹åœæ­¢çº¿ç¨‹"><a href="#äºŒã€é˜»å¡çŠ¶æ€ä¸‹åœæ­¢çº¿ç¨‹" class="headerlink" title="äºŒã€é˜»å¡çŠ¶æ€ä¸‹åœæ­¢çº¿ç¨‹"></a>äºŒã€é˜»å¡çŠ¶æ€ä¸‹åœæ­¢çº¿ç¨‹</h1><blockquote>
<p>å…³äºé˜»å¡çŠ¶æ€çš„æè¿°ï¼Œå¯ä»¥çœ‹ <a href="https://blog.wrp.cool/posts/43936/" target="_blank" rel="noopener">çº¿ç¨‹ç”Ÿå‘½å‘¨æœŸ</a> è¿™ç¯‡æ–‡ç« </p>
</blockquote>
<p>ä»¥ä¸‹ä½¿ç”¨ sleep æ–¹æ³•æ¥ä½¿çº¿ç¨‹è¿›å…¥é˜»å¡çŠ¶æ€</p>
<ol>
<li><p><strong>è¿­ä»£ä¸­ sleep</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line"></span><br><span class="line">    Thread thread = <span class="keyword">new</span> Thread(() -&gt; &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">while</span> (num &lt;= <span class="number">100</span>) &#123;</span><br><span class="line">                System.out.println(num++);</span><br><span class="line">                Thread.sleep(<span class="number">10</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œnum çš„å€¼ï¼š"</span> + num);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    thread.start();</span><br><span class="line">    Thread.sleep(<span class="number">500</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é€šçŸ¥çº¿ç¨‹åœæ­¢</span></span><br><span class="line">    thread.interrupt();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> å¾ªç¯æ¡ä»¶ä¸­å¹¶æ²¡æœ‰åˆ¤æ–­æ˜¯å¦æœ‰åœæ­¢çº¿ç¨‹ï¼Œè¿™æ˜¯å› ä¸ºå½“<strong>çº¿ç¨‹å¤„äº sleep çŠ¶æ€æ—¶ä¼šè‡ªåŠ¨çš„æ£€æµ‹æ˜¯å¦æœ‰åœæ­¢çº¿ç¨‹çš„é€šçŸ¥</strong>ã€‚</p>
</li>
<li><p><strong>è¿­ä»£ä¸­æ•è·å¼‚å¸¸</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line"></span><br><span class="line">    Thread thread = <span class="keyword">new</span> Thread(() -&gt; &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (num &lt;= <span class="number">100</span>) &#123;</span><br><span class="line">            System.out.println(num++);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">10</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">"ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œnum çš„å€¼ï¼š"</span> + num);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    thread.start();</span><br><span class="line">    Thread.sleep(<span class="number">500</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é€šçŸ¥çº¿ç¨‹åœæ­¢</span></span><br><span class="line">    thread.interrupt();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>  å¼‚å¸¸è¢«æ•è·åçº¿ç¨‹å¹¶æ²¡æœ‰åœæ­¢ï¼Œè¿™å¹¶ä¸æ˜¯å› ä¸ºæˆ‘ä»¬åœ¨å¼‚å¸¸å¤„ç†ä¸­â€œå“åº”â€äº†é€šçŸ¥ï¼Œè€Œæ˜¯å› ä¸ºåœ¨ <strong>sleep çŠ¶æ€ä¸­ä¼šè‡ªåŠ¨æ¸…é™¤åœæ­¢çº¿ç¨‹çš„é€šçŸ¥</strong></p>
</li>
</ol>
<p><strong>ç»¼ä¸Šï¼šåœ¨ sleep çŠ¶æ€ä¸­çº¿ç¨‹ä¼šè‡ªåŠ¨æ£€æµ‹æ˜¯å¦æœ‰ <code>interrupt</code> é€šçŸ¥ï¼Œå¦‚æœæœ‰ <code>interrupt</code> é€šçŸ¥ï¼Œå“åº”çš„æ–¹å¼æ˜¯æŠ›å‡ºä¸€ä¸ª <code>InterruptedException</code> å¼‚å¸¸ï¼Œå¹¶æ¸…é™¤è¿™ä¸ªé€šçŸ¥ã€‚</strong></p>
<h1 id="ä¸‰ã€å®é™…ç¼–ç ä¸­çš„é˜»å¡çŠ¶æ€ä¸‹è¯¥å¦‚ä½•å“åº”-interrupt"><a href="#ä¸‰ã€å®é™…ç¼–ç ä¸­çš„é˜»å¡çŠ¶æ€ä¸‹è¯¥å¦‚ä½•å“åº”-interrupt" class="headerlink" title="ä¸‰ã€å®é™…ç¼–ç ä¸­çš„é˜»å¡çŠ¶æ€ä¸‹è¯¥å¦‚ä½•å“åº” interrupt"></a>ä¸‰ã€å®é™…ç¼–ç ä¸­çš„é˜»å¡çŠ¶æ€ä¸‹è¯¥å¦‚ä½•å“åº” interrupt</h1><p>å®é™…ç¼–ç çš„è¿‡ç¨‹ä¸­ï¼Œå¤§å¤šæ•°æ—¶å€™åœ¨ run æ–¹æ³•å†…éƒ¨æ˜¯éœ€è¦å»è°ƒç”¨ä¸€äº›å¤–éƒ¨çš„æ–¹æ³•çš„ã€‚é‚£ä¹ˆå¦‚æœæ˜¯åœ¨è¿™äº›è¢«è°ƒç”¨çš„å¤–éƒ¨æ–¹æ³•ä¸­æœ‰ sleep è¿™ä¸ªåŠ¨ä½œçš„è¯ï¼Œæˆ‘ä»¬åœ¨ run æ–¹æ³•ä¸­æ˜¯å¹¶ä¸çŸ¥é“çº¿ç¨‹åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä¼š sleep çš„ã€‚æ‰€ä»¥å½“æˆ‘ä»¬ç¼–å†™ä¸€äº›éœ€è¦ sleep çš„æ–¹æ³•æ—¶ï¼Œä¸€å®šè¦æ³¨æ„ä¸èƒ½å¤ŸæŠŠ interrupt é€šçŸ¥ç»™è‡ªå·± <strong>â€œæ¶ˆåŒ–â€</strong> æ‰ï¼Œåº”è¯¥è¦é€šè¿‡ä¸€äº›åŠæ³•å°†è¿™ä¸ª interrupt é€šçŸ¥åæ˜ ç»™ run æ–¹æ³•ã€‚æ¯”å¦‚ï¼šä¼ é€’ä¸­æ–­å’Œæ¢å¤ä¸­æ–­</p>
<h3 id="ä¼ é€’ä¸­æ–­ï¼ˆæ¨èï¼‰"><a href="#ä¼ é€’ä¸­æ–­ï¼ˆæ¨èï¼‰" class="headerlink" title="ä¼ é€’ä¸­æ–­ï¼ˆæ¨èï¼‰"></a>ä¼ é€’ä¸­æ–­ï¼ˆæ¨èï¼‰</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line"></span><br><span class="line">    Thread thread = <span class="keyword">new</span> Thread(() -&gt; &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            startSleep();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            <span class="comment">// å¤„ç† Interrupt é€šçŸ¥</span></span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    thread.start();</span><br><span class="line">    Thread.sleep(<span class="number">500</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é€šçŸ¥çº¿ç¨‹åœæ­¢</span></span><br><span class="line">    thread.interrupt();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°† InterruptException æŠ›å‡º</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">startSleep</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">    Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>åœ¨ startSleep æ–¹æ³•ä¸­ï¼Œè®©çº¿ç¨‹è¿›å…¥ sleep çŠ¶æ€ï¼Œå¹¶å°† InterruptException å¼‚å¸¸æŠ›å‡ºåœ¨æ–¹æ³•å£°æ˜ä¸­ä¼ é€’ç»™ä¸Šä¸€çº§çš„æ–¹æ³•å»å¤„ç†ã€‚è¿™æ ·ä¸€æ—¦ run æ–¹æ³•è°ƒç”¨äº† startSleep å°±å¿…é¡»å»å¤„ç† InterruptException å¼‚å¸¸ã€‚è€Œå¦‚æœåœ¨ sleep è¿‡ç¨‹ä¸­æœ‰ Interrupt é€šçŸ¥å‡ºç°ï¼Œé‚£ä¹ˆ run æ–¹æ³•çš„ç¼–å†™è€…å°±å¯ä»¥åœ¨ catch è¯­å¥ä¸­å»å¤„ç†è¿™ä¸ª Interrupt é€šçŸ¥ã€‚</p>
</blockquote>
<h3 id="æ¢å¤ä¸­æ–­"><a href="#æ¢å¤ä¸­æ–­" class="headerlink" title="æ¢å¤ä¸­æ–­"></a>æ¢å¤ä¸­æ–­</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line"></span><br><span class="line">    Thread thread = <span class="keyword">new</span> Thread(() -&gt; &#123;</span><br><span class="line">        <span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// å“åº”é€šçŸ¥</span></span><br><span class="line">        <span class="keyword">while</span> (!Thread.currentThread().isInterrupted()) &#123;</span><br><span class="line">            System.out.println(num++);</span><br><span class="line">            startSleep();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">"æ‰§è¡Œå®Œæ¯•ï¼Œnum = "</span> + num);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    thread.start();</span><br><span class="line">    Thread.sleep(<span class="number">500</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é€šçŸ¥çº¿ç¨‹åœæ­¢</span></span><br><span class="line">    thread.interrupt();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">startSleep</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        Thread.sleep(<span class="number">10</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">        <span class="comment">// æ¢å¤ä¸­æ–­</span></span><br><span class="line">        Thread.currentThread().interrupt();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>åœ¨æŸäº›ç‰¹å®šçš„ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½å¿…é¡»å»å¤„ç† InterruptedException å¼‚å¸¸ã€‚é‚£ä¹ˆå°±å¿…é¡»è¦åœ¨ catch å—ä¸­å»å†æ¬¡å‘å‡º Interrupt é€šçŸ¥ï¼Œæ¢å¤è¿™ä¸ªé€šçŸ¥ã€‚è®© run æ–¹æ³•çš„ç¼–å†™è€…å¯ä»¥æ­£ç¡®çš„å¤„ç† Interrupt é€šçŸ¥ã€‚</p>
</blockquote>
<h1 id="å››ã€å½©è›‹ï¼šä»‹ç»-sleep-æ–¹æ³•çš„ä¼˜é›…å†™æ³•"><a href="#å››ã€å½©è›‹ï¼šä»‹ç»-sleep-æ–¹æ³•çš„ä¼˜é›…å†™æ³•" class="headerlink" title="å››ã€å½©è›‹ï¼šä»‹ç» sleep æ–¹æ³•çš„ä¼˜é›…å†™æ³•"></a>å››ã€å½©è›‹ï¼šä»‹ç» sleep æ–¹æ³•çš„ä¼˜é›…å†™æ³•</h1><p>ä»¥ä¸Šè®²äº†é‚£ä¹ˆå¤šçš„å…³äº sleep æ–¹æ³•çš„å†…å®¹ï¼Œé‚£ä¹ˆçœ‹æ¥ä¸€ä¸ª sleep æ–¹æ³•çš„ä¸€ä¸ªä¼˜é›…çš„å†™æ³•ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.TimeUnit;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        TimeUnit.HOURS.sleep(<span class="number">1</span>);   <span class="comment">// ä¼‘çœ 1ä¸ªå°æ—¶</span></span><br><span class="line">        TimeUnit.MINUTES.sleep(<span class="number">1</span>); <span class="comment">// ä¼‘çœ 1åˆ†é’Ÿ</span></span><br><span class="line">        TimeUnit.SECONDS.sleep(<span class="number">1</span>); <span class="comment">// ä¼‘çœ 1ç§’é’Ÿ</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šä½¿ç”¨ TimeUnit ç±»ä¸­çš„ sleep æ–¹æ³•å¯ä»¥è®©ä»£ç çœ‹èµ·æ¥æ›´åŠ èˆ’æœã€‚ç›´æ¥ä¼‘çœ å¯¹åº”å•ä½çš„æ—¶é—´ï¼Œè€Œä¸æ˜¯å»æ‰‹åŠ¨çš„è®¡ç®—è¦ä¼‘çœ çš„æ¯«ç§’æ•°ã€‚</p>
<hr>
<p>å¤§å®¶åŠ æ²¹ï¼šï¼‰</p>
]]></content>
      <categories>
        <category>å¹¶å‘</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>çº¿ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Javaå¹¶å‘ã€‘åˆ›å»ºçº¿ç¨‹</title>
    <url>/posts/9740/</url>
    <content><![CDATA[<blockquote>
<p>æœ¬æ–‡å°†ä»‹ç»Javaä¸­åˆ›å»ºçº¿ç¨‹çš„ä¸¤ç§æ–¹å¼ï¼Œä»¥åŠä¸¤ç§æ–¹å¼çš„ä¼˜ç¼ºç‚¹çš„æ¯”è¾ƒã€‚</p>
</blockquote>
<a id="more"></a>

<h1 id="ä¸€ã€å®ç°çº¿ç¨‹çš„ä¸¤ç§æ–¹å¼"><a href="#ä¸€ã€å®ç°çº¿ç¨‹çš„ä¸¤ç§æ–¹å¼" class="headerlink" title="ä¸€ã€å®ç°çº¿ç¨‹çš„ä¸¤ç§æ–¹å¼"></a>ä¸€ã€å®ç°çº¿ç¨‹çš„ä¸¤ç§æ–¹å¼</h1><p>åœ¨ <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html" target="_blank" rel="noopener">Oracleå®˜æ–¹æ–‡æ¡£</a> ä¸­ï¼Œæ˜ç¡®è¯´æ˜äº†Javaå®ç°çº¿ç¨‹çš„æ–¹å¼å°±åªæœ‰ä¸¤ç§ã€‚ä¸€ç§æ˜¯ <strong>å®ç° Runnable æ¥å£</strong>ï¼Œå¦ä¸€ç§æ˜¯ <strong>ç»§æ‰¿ Thread ç±»</strong></p>
<ol>
<li><p><strong>å®ç° Runnable æ¥å£</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç”¨ Runnable æ–¹å¼åˆ›å»ºçº¿ç¨‹</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RunnableStyle</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// åˆ›å»ºæ–°çº¿ç¨‹</span></span><br><span class="line">        Thread thread = <span class="keyword">new</span> Thread(<span class="keyword">new</span> RunnableStyle());</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æ‰§è¡Œçº¿ç¨‹</span></span><br><span class="line">        thread.start();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ–°çº¿ç¨‹ä¸­è¦åšçš„äº‹æƒ…</span></span><br><span class="line">        System.out.println(<span class="string">"ç”¨ Runnable æ–¹å¼å®ç°çº¿ç¨‹"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>ç»§æ‰¿ Thread ç±»</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç”¨ Thread åˆ›å»ºçº¿ç¨‹</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadStyle</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ›å»ºçº¿ç¨‹</span></span><br><span class="line">        Thread thread = <span class="keyword">new</span> ThreadStyle();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ‰§è¡Œçº¿ç¨‹</span></span><br><span class="line">        thread.start();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// çº¿ç¨‹ä¸­è¦åšçš„äº‹æƒ…</span></span><br><span class="line">        System.out.println(<span class="string">"ç”¨ Thread æ–¹å¼åˆ›å»ºçº¿ç¨‹"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h1 id="äºŒã€ä¸¤ç§å®ç°æ–¹å¼çš„æ¯”è¾ƒ"><a href="#äºŒã€ä¸¤ç§å®ç°æ–¹å¼çš„æ¯”è¾ƒ" class="headerlink" title="äºŒã€ä¸¤ç§å®ç°æ–¹å¼çš„æ¯”è¾ƒ"></a>äºŒã€ä¸¤ç§å®ç°æ–¹å¼çš„æ¯”è¾ƒ</h1><p>é€šå¸¸æƒ…å†µä¸‹æˆ‘ä»¬éœ€è¦å»åˆ›å»ºä¸€ä¸ªçº¿ç¨‹çš„æ—¶å€™ä¼šé€‰æ‹©å®ç°<strong>Runnable æ¥å£</strong>çš„æ–¹å¼ï¼Œäº‹å®ä¸Š ã€Œå®ç° Runnable æ¥å£ã€ çš„æ–¹å¼ç¡®å®ä¼˜äº ã€Œç»§æ‰¿ Thread ç±»ã€ çš„æ–¹å¼ã€‚</p>
<ol>
<li><p><strong>ç¨‹åºæ¶æ„çš„è§’åº¦</strong><br>åˆ›å»ºçº¿ç¨‹çš„å·¥ä½œå’Œçº¿ç¨‹è¦åšçš„å·¥ä½œåº”è¯¥æ˜¯åˆ†å¼€çš„ï¼Œä¹Ÿå°±æ˜¯è§£è€¦çš„ã€‚<strong>å®ç° Runnable æ¥å£</strong> çš„æ–¹å¼å°±å°†çº¿ç¨‹è¦æ‰§è¡Œçš„ä»£ç ä¹Ÿå°±æ˜¯ <code>run</code> æ–¹æ³•é‡Œé¢çš„å†…å®¹ä»¥åŠåˆ›å»ºçº¿ç¨‹çš„æœºåˆ¶ä¹Ÿå°±æ˜¯ <code>Thread</code> ç±»è¿›è¡Œåˆ†ç¦»äº†ï¼Œä»è€Œè§£è€¦ã€‚è€Œ <strong>ç»§æ‰¿ Thread ç±»</strong> çš„æ–¹å¼å°±æ²¡æœ‰åšåˆ°è¿™ä¸€ç‚¹ã€‚</p>
</li>
<li><p><strong>æ‰§è¡Œæ•ˆç‡çš„è§’åº¦</strong><br> <strong>å®ç° Runnable æ¥å£</strong> çš„æ–¹å¼ä¹Ÿæ˜¯ä¼˜äº <strong>ç»§æ‰¿ Thread ç±»</strong> çš„æ–¹å¼çš„ã€‚å¦‚æœä½¿ç”¨ <strong>ç»§æ‰¿ Thread ç±»</strong> çš„æ–¹å¼å»åˆ›å»ºçº¿ç¨‹æ¯æ¬¡æ–°å»ºä¸€ä¸ªä»»åŠ¡æ—¶éƒ½è¦å»åˆ›å»ºä¸€ä¸ªæ–°çš„çº¿ç¨‹ï¼Œè€Œåˆ›å»ºçº¿ç¨‹çš„æ¶ˆè€—æ˜¯æ¯”è¾ƒå¤§çš„ã€‚<strong>å®ç° Runnable æ¥å£</strong> çš„æ–¹å¼å¯ä»¥è®©æˆ‘ä»¬åœ¨åç»­åˆ©ç”¨ä¸€äº›çº¿ç¨‹æ± ä¹‹ç±»çš„å·¥å…·ï¼Œå‡å°‘å¯¹èµ„æºçš„æŸè€—ã€‚</p>
</li>
<li><p><strong>ä»£ç è®¾è®¡çš„è§’åº¦</strong><br>ç”±äº Java æ˜¯ä¸æ”¯æŒå¤šç»§æ‰¿çš„ï¼Œå®ç°æ¥å£çš„æ–¹å¼è‚¯å®šæ˜¯ä¼˜äºç»§æ‰¿ç±»çš„æ–¹å¼ã€‚</p>
</li>
</ol>
<h1 id="ä¸‰ã€run-æ–¹æ³•æºç "><a href="#ä¸‰ã€run-æ–¹æ³•æºç " class="headerlink" title="ä¸‰ã€run æ–¹æ³•æºç "></a>ä¸‰ã€run æ–¹æ³•æºç </h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (target != <span class="keyword">null</span>) &#123;</span><br><span class="line">        target.run();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// target ä¸ºå®ç° Runnable æ¥å£ä¼ å…¥çš„ Runnable å¯¹è±¡</span></span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šä¾¿æ˜¯ Thread ç±»ä¸­ run æ–¹æ³•çš„å…¨éƒ¨ä»£ç ï¼Œéå¸¸çš„ç²¾ç®€ã€‚å¦‚æœåœ¨æ„é€  Thread ç±»æ—¶ä¼ å…¥äº† Runnable å¯¹è±¡åˆ™æ‰§è¡Œ Runnable å¯¹è±¡çš„ run æ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰ä¼ å…¥ Runnable å¯¹è±¡åˆ™ä»€ä¹ˆéƒ½ä¸åšã€‚</p>
<p>æ°æ°ä¹Ÿæ˜¯è¿™ä¸‰è¡Œä»£ç ä¸º Thread ç±»æä¾›äº†ä¸¤ç§åˆ›å»ºçº¿ç¨‹æ‰§è¡Œå•å…ƒçš„æ–¹å¼ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¸Šé¢ä¸€ç›´åœ¨è®¨è®ºçš„æ–¹å¼ã€‚å®é™…ä¸Šä¸¤ç§åˆ›å»ºçº¿ç¨‹çš„æ–¹å¼åœ¨æ‰§è¡Œå…·ä½“çš„æ–°çº¿ç¨‹ä¸­çš„ä»£ç æ—¶éƒ½æ˜¯è°ƒç”¨çš„ Thread ç±»çš„ run æ–¹æ³•ï¼Œæ–°çº¿ç¨‹è¦å®ç°çš„åŠŸèƒ½ä¹Ÿæ˜¯åœ¨ run æ–¹æ³•ä¸­å»ç¼–å†™çš„ã€‚</p>
<p><strong>ã€Œå®ç° Runnable æ¥å£ã€</strong>çš„æ–¹å¼ä¹Ÿæ˜¯åœ¨ run æ–¹æ³•ä¸­è°ƒç”¨äº†åœ¨ Runnable æ¥å£ä¸­å®šä¹‰çš„ run æ–¹æ³•ï¼Œè€Œå¹¶ä¸æ˜¯ç›´æ¥å»è°ƒç”¨äº† Runnable æ¥å£çš„ run æ–¹æ³•ã€‚</p>
<p><strong>ã€Œç»§æ‰¿ Thread ç±»ã€</strong>çš„æ–¹å¼åˆ™æ˜¯é€šè¿‡é‡å†™ Thread ç±»ä¸­çš„ run æ–¹æ³•ï¼Œåœ¨ run æ–¹æ³•ä¸­å»ç¼–å†™è¦å®ç°çš„åŠŸèƒ½ï¼Œè¦†ç›–æ‰ Thread ç±»ä¸­çš„ run æ–¹æ³•ï¼Œä»è€Œä½¿å¾—åœ¨è°ƒç”¨æ—¶æ‰§è¡Œæˆ‘ä»¬è‡ªå·±ç¼–å†™çš„æ–°çº¿ç¨‹çš„æ‰§è¡Œå•å…ƒã€‚</p>
<h1 id="æ€è€ƒé¢˜ï¼šå¦‚æœåŒæ—¶ä½¿ç”¨ä¸¤ç§æ–¹å¼ä¼šæ€ä¹ˆæ ·"><a href="#æ€è€ƒé¢˜ï¼šå¦‚æœåŒæ—¶ä½¿ç”¨ä¸¤ç§æ–¹å¼ä¼šæ€ä¹ˆæ ·" class="headerlink" title="æ€è€ƒé¢˜ï¼šå¦‚æœåŒæ—¶ä½¿ç”¨ä¸¤ç§æ–¹å¼ä¼šæ€ä¹ˆæ ·"></a>æ€è€ƒé¢˜ï¼šå¦‚æœåŒæ—¶ä½¿ç”¨ä¸¤ç§æ–¹å¼ä¼šæ€ä¹ˆæ ·</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            System.out.println(<span class="string">"å®ç° Runnable æ¥å£åˆ›å»ºçš„çº¿ç¨‹"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            System.out.println(<span class="string">"ç»§æ‰¿ Thread ç±»åˆ›å»ºçš„çº¿ç¨‹"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;.start();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰§è¡Œç»“æœï¼š</span></span><br><span class="line"><span class="comment">// ç»§æ‰¿ Thread ç±»åˆ›å»ºçš„çº¿ç¨‹</span></span><br></pre></td></tr></table></figure>
<p>å¦‚æœå·²ç»å¯¹ run æ–¹æ³•çš„æºç ç†è§£é€å½»çš„è¯ï¼Œé‚£ä¹ˆè¿™é“é¢˜æ˜¯æ²¡æœ‰ä»»ä½•éš¾åº¦çš„ã€‚</p>
<p>ã€Œå®ç° Runnable æ¥å£ã€çš„æ–¹å¼æ˜¯çš„æ‰§è¡Œå•å…ƒæ˜¯éœ€è¦åœ¨ Thread çš„ run æ–¹æ³•å»è°ƒç”¨çš„ï¼Œä½†æ˜¯æˆ‘ä»¬å·²ç»é‡å†™äº† Thread ä¸­çš„ run æ–¹æ³•ï¼Œè‡ªç„¶æ— ä»å»è°ƒç”¨ Runnable å¯¹è±¡çš„æ‰§è¡Œå•å…ƒäº†ï¼Œä¹Ÿå°±ä¸ä¼šè¢«æ‰§è¡Œã€‚</p>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><ol>
<li>å®ç°çº¿ç¨‹çš„æ–¹å¼åªæœ‰ä¸¤ç§ï¼Œåˆ†åˆ«æ˜¯ã€Œå®ç° Runnable æ¥å£ã€å’Œã€Œç»§æ‰¿ Thread ç±»ã€</li>
<li>å‡†ç¡®çš„è®²ï¼Œåˆ›å»ºçº¿ç¨‹çš„æ–¹å¼åªæœ‰ä¸€ç§é‚£å°±æ˜¯æ„é€  Thread ç±»ï¼Œè€Œ Thread ç±»ä¸­æä¾›äº†ä¸¤ç§å®ç°çº¿ç¨‹çš„æ‰§è¡Œå•å…ƒçš„æ–¹å¼<ul>
<li>æ–¹å¼ä¸€ï¼šå®ç° Runnable æ¥å£çš„ run æ–¹æ³•ï¼Œå¹¶æŠŠ Runnable å®ä¾‹ä¼ ç»™ Thread ç±»</li>
<li>æ–¹å¼äºŒï¼šé‡å†™ Thread çš„ run æ–¹æ³•</li>
</ul>
</li>
</ol>
<hr>
<p>å¤§å®¶åŠ æ²¹ï¼šï¼‰</p>
]]></content>
      <categories>
        <category>å¹¶å‘</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>çº¿ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Javaå¹¶å‘ç»ƒä¹ ã€‘ä¸¤ä¸ªçº¿ç¨‹äº¤æ›¿æ‰“å°0~100</title>
    <url>/posts/45104/</url>
    <content><![CDATA[<blockquote>
<p>é¢˜ç›®ï¼š<br>å®ç°ä¸¤ä¸ªçº¿ç¨‹äº¤æ›¿æ‰“å°0~100ï¼Œå…¶ä¸­ä¸€ä¸ªçº¿ç¨‹ä¸“é—¨æ‰“å°å¥‡æ•°ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹ä¸“é—¨æ‰“å°å¶æ•°ã€‚</p>
</blockquote>
<blockquote>
<p><strong>åˆ†æé¢˜ç›®ï¼š</strong><br>é¢˜ç›®å…³é”®å­—ï¼š<strong>ä¸¤ä¸ªçº¿ç¨‹</strong>ã€<strong>äº¤æ›¿</strong>ã€<strong>0~100</strong>ã€<strong>ä¸“é—¨æ‰“å°å¥‡æ•°</strong>ã€<strong>ä¸“é—¨æ‰“å°å¶æ•°</strong></p>
</blockquote>
<a id="more"></a>

<h1 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h1><ol>
<li>é¦–å…ˆåˆ›å»ºä¸¤ä¸ªçº¿ç¨‹</li>
<li>äº¤æ›¿æ‰“å°è¯æ˜çº¿ç¨‹ä¹‹é—´éœ€è¦ååŒé…åˆã€è€ƒè™‘ synchronizedã€wait-notify</li>
</ol>
<h1 id="ä½¿ç”¨-sychronized"><a href="#ä½¿ç”¨-sychronized" class="headerlink" title="ä½¿ç”¨ sychronized"></a>ä½¿ç”¨ sychronized</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> count;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Object lock = <span class="keyword">new</span> Object();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// æ‰“å°å¥‡æ•°çš„çº¿ç¨‹</span></span><br><span class="line">    <span class="keyword">new</span> Thread(() -&gt; &#123;</span><br><span class="line">        <span class="keyword">while</span>(count &lt; <span class="number">100</span>) &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (lock) &#123;</span><br><span class="line">                <span class="keyword">if</span> (count % <span class="number">2</span> == <span class="number">1</span>) &#123;</span><br><span class="line">                    System.out.println(Thread.currentThread().getName() + <span class="string">":"</span> + count++);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;, <span class="string">"å¥‡æ•°"</span>).start();</span><br><span class="line">    <span class="comment">// æ‰“å°å¶æ•°çš„çº¿ç¨‹</span></span><br><span class="line">    <span class="keyword">new</span> Thread(() -&gt; &#123;</span><br><span class="line">        <span class="keyword">while</span>(count &lt; <span class="number">100</span>) &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (lock) &#123;</span><br><span class="line">                <span class="keyword">if</span> (count % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">                    System.out.println(Thread.currentThread().getName() + <span class="string">":"</span> + count++);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;, <span class="string">"å¶æ•°"</span>).start();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ä½¿ç”¨ synchronized çš„æ–¹æ³•è™½ç„¶ä¹Ÿæ˜¯èƒ½å¤Ÿå®Œæˆé¢˜ç›®çš„è¦æ±‚ï¼Œä½†æ˜¯æ•ˆç‡ä¸Šç•¥å·®ä¸€äº›ã€‚<br>main æ–¹æ³•ä¸­çš„é€»è¾‘æ˜¯ï¼Œå…ˆåˆ¤æ–­æ˜¯å¦æ»¡è¶³æ‰“å° 0~100 çš„è¦æ±‚ï¼Œå¦‚æœæ»¡è¶³åˆ™è¿›å…¥åŒæ­¥ä»£ç å—ä¸­ï¼Œæ­¤æ—¶ä¸¤ä¸ªçº¿ç¨‹å°†ä¼šç«äº‰åŒä¸€æŠŠé” <code>lock</code><br>ç«äº‰åˆ°é”çš„çº¿ç¨‹å°†åˆ¤æ–­æ˜¯å¦æ»¡è¶³æ‰“å°æ¡ä»¶ï¼Œå¦‚æœæ»¡è¶³åˆ™æ‰“å°ï¼Œå¦åˆ™ç›´æ¥è·³å‡ºï¼Œç´§æ¥ç€åŒæ­¥ä»£ç å—æ‰§è¡Œå®Œæ¯•é‡Šæ”¾é”ï¼Œä¸¤ä¸ªçº¿ç¨‹é‡æ–°è¿›å…¥ç«äº‰é”çš„æ­¥éª¤<br>å¦‚æœåœ¨è¿™ä¸ªæ—¶å€™å…¶ä¸­ä¸€ä¸ªçº¿ç¨‹æ¥è¿å¤šæ¬¡ç«äº‰åˆ°é”ï¼Œä½†æ˜¯å´å› ä¸ºä¸æ»¡è¶³æ‰“å°æ¡ä»¶è€Œå†æ¬¡ç›´æ¥é‡Šæ”¾é”ï¼Œè¿™å°±æ˜¯æ— æ„ä¹‰çš„æ€§èƒ½æµªè´¹</p>
</blockquote>
<h1 id="ä½¿ç”¨-wait-notify"><a href="#ä½¿ç”¨-wait-notify" class="headerlink" title="ä½¿ç”¨ wait-notify"></a>ä½¿ç”¨ wait-notify</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (count &lt;= <span class="number">100</span>) &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (lock) &#123;</span><br><span class="line">                <span class="comment">// è·å–é”è¯æ˜æ˜¯ç¬¦åˆæ‰“å°æ¡ä»¶ï¼Œç›´æ¥æ‰“å°</span></span><br><span class="line">                System.out.println(Thread.currentThread().getName() + <span class="string">":"</span> + count++);</span><br><span class="line">                <span class="comment">// å”¤é†’å¦å¤–çš„çº¿ç¨‹</span></span><br><span class="line">                lock.notify();</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    <span class="comment">// åˆ¤æ–­æ˜¯å¦æ‰“å°åˆ°æœ€åçš„æ•°å­—äº†ï¼Œå¦‚æœè¿˜æ²¡æœ‰åˆ™ä¸­æ–­ï¼ŒæŠŠé”è®©ç»™å¦å¤–çš„çº¿ç¨‹å»æ‰“å°</span></span><br><span class="line">                    <span class="comment">// åšè¿™å±‚åˆ¤æ–­æ˜¯ä¸ºäº†é¢„é˜²åœ¨æ‰“å°åˆ°æœ€åä¸€ä¸ªæ•°å­—æ—¶ï¼Œä¸­æ–­åå¦å¤–çš„çº¿ç¨‹å·²ç»æ‰§è¡Œå®Œæ¯•ï¼Œè€Œæ— æ³•å”¤é†’</span></span><br><span class="line">                    <span class="keyword">if</span> (count &lt;= <span class="number">100</span>) &#123;</span><br><span class="line">                        lock.wait();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> count;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Object lock = <span class="keyword">new</span> Object();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Test test = <span class="keyword">new</span> Test();</span><br><span class="line">        <span class="keyword">new</span> Thread(test, <span class="string">"å¶æ•°"</span>).start();</span><br><span class="line">        <span class="keyword">new</span> Thread(test,<span class="string">"å¥‡æ•°"</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ä½¿ç”¨ wait-notify ä¸éœ€è¦å»åˆ¤æ–­æ˜¯å¦ç¬¦åˆå¥‡å¶æ•°çš„æ‰“å°æ¡ä»¶ï¼Œè€Œæ˜¯å½“æ‹¿åˆ°é”åˆ™è¯æ˜è‚¯å®šæ˜¯ç¬¦åˆæ‰“å°æ¡ä»¶çš„ï¼Œç›´æ¥æ‰“å°<br>æ‰“å°å®Œå”¤é†’å¦å¤–çš„çº¿ç¨‹å‡†å¤‡æ‰§è¡Œä¸‹ä¸€æ¬¡çš„æ‰“å°ï¼Œå†ä¸­æ–­æœ¬çº¿ç¨‹è®©æ¸¡é”</p>
</blockquote>
<hr>
<p>å¤§å®¶åŠ æ²¹ï¼šï¼‰</p>
]]></content>
      <categories>
        <category>é¢˜è§£</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>å¹¶å‘</tag>
        <tag>çº¿ç¨‹</tag>
        <tag>ç»ƒä¹ </tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Javaå¹¶å‘ã€‘å¯åŠ¨çº¿ç¨‹</title>
    <url>/posts/25097/</url>
    <content><![CDATA[<blockquote>
<p>æœ¬æ–‡å°†ä¼šä»‹ç» Java ä¸­å¦‚ä½•æ­£ç¡®çš„å¯åŠ¨çº¿ç¨‹ã€‚ä»¥åŠå¯¹æ¯”ä¸€ä¸‹ start æ–¹æ³•å’Œ run æ–¹æ³•çš„åŒºåˆ«</p>
</blockquote>
<a id="more"></a>

<p><strong>é¦–å…ˆç›´æ¥æŠ›å‡ºå¯åŠ¨çº¿ç¨‹çš„æ­£ç¡®å§¿åŠ¿ï¼šstart æ–¹æ³•ï¼ï¼ï¼</strong></p>
<h1 id="start-æ–¹æ³•"><a href="#start-æ–¹æ³•" class="headerlink" title="start æ–¹æ³•"></a>start æ–¹æ³•</h1><h4 id="å«ä¹‰ï¼ˆå¯åŠ¨æ–°çº¿ç¨‹ï¼‰"><a href="#å«ä¹‰ï¼ˆå¯åŠ¨æ–°çº¿ç¨‹ï¼‰" class="headerlink" title="å«ä¹‰ï¼ˆå¯åŠ¨æ–°çº¿ç¨‹ï¼‰"></a>å«ä¹‰ï¼ˆå¯åŠ¨æ–°çº¿ç¨‹ï¼‰</h4><p>å½“æˆ‘ä»¬åˆ›å»ºå®Œä¸€ä¸ªçº¿ç¨‹è°ƒç”¨äº† start æ–¹æ³•æ—¶ï¼Œè¿™ä¸ªçº¿ç¨‹å¹¶<strong>ä¸ä¼šç›´æ¥æ‰§è¡Œ</strong>ï¼Œè€Œæ˜¯<strong>ç­‰å¾…æ‰§è¡Œ</strong>ï¼Œä¹Ÿå°±æ˜¯è¿›å…¥äº†<strong>å°±ç»ª</strong>çŠ¶æ€ã€‚</p>
<p>å®é™…ä¸Šè°ƒç”¨ start æ–¹æ³•çš„è¿™ä¸ªåŠ¨ä½œä»…ä»…åªæ˜¯å»é€šçŸ¥äº† JVM ã€Œæˆ‘æœ‰ä¸€ä¸ªçº¿ç¨‹å·²ç»å‡†å¤‡å¥½æ‰§è¡Œäº†ï¼Œä½ æœ‰ç©ºçš„è¯å¸®æˆ‘æ‰§è¡Œä¸€ä¸‹ã€</p>
<p>è‡³äºè¿™ä¸ªçº¿ç¨‹å°†è¦åœ¨ä»€ä¹ˆæ—¶åˆ»è¿è¡Œï¼Œè¿™å¹¶ä¸æ˜¯æˆ‘ä»¬èƒ½å¤Ÿå†³å®šçš„ï¼Œè¿™å¾—ç”± CPU çš„çº¿ç¨‹è°ƒåº¦å™¨å»å†³å®šã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼šstart æ–¹æ³•çš„è°ƒç”¨è¿‡ç¨‹æ˜¯ã€Œä¸€ä¸ªçˆ¶çº¿ç¨‹å»è°ƒç”¨ä¸€ä¸ªå·²ç»åˆ›å»ºçš„å­çº¿ç¨‹çš„ start æ–¹æ³•ã€æ‰€ä»¥ start æ–¹æ³•çš„æ‰§è¡Œå®é™…ä¸Šæ˜¯ä¼šç‰µæ‰¯åˆ°çˆ¶å­ä¸¤ä¸ªçº¿ç¨‹çš„ã€‚</p>
</blockquote>
<h4 id="æºç è§£æ"><a href="#æºç è§£æ" class="headerlink" title="æºç è§£æ"></a>æºç è§£æ</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">start</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * This method is not invoked for the main method thread or "system"</span></span><br><span class="line"><span class="comment">         * group threads created/set up by the VM. Any new functionality added</span></span><br><span class="line"><span class="comment">         * to this method in the future may have to also be added to the VM.</span></span><br><span class="line"><span class="comment">         *</span></span><br><span class="line"><span class="comment">         * A zero status value corresponds to state "NEW".</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="comment">////////////////////</span></span><br><span class="line">        <span class="comment">// 1. æ£€æŸ¥çº¿ç¨‹çŠ¶æ€ //</span></span><br><span class="line">        <span class="comment">////////////////////</span></span><br><span class="line">        <span class="keyword">if</span> (threadStatus != <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalThreadStateException();</span><br><span class="line"></span><br><span class="line">        <span class="comment">/* Notify the group that this thread is about to be started</span></span><br><span class="line"><span class="comment">         * so that it can be added to the group's list of threads</span></span><br><span class="line"><span class="comment">         * and the group's unstarted count can be decremented. */</span></span><br><span class="line">        <span class="comment">////////////////////</span></span><br><span class="line">        <span class="comment">// 2. æ·»åŠ åˆ°çº¿ç¨‹ç»„ //</span></span><br><span class="line">        <span class="comment">////////////////////</span></span><br><span class="line">        group.add(<span class="keyword">this</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">////////////////////</span></span><br><span class="line">        <span class="comment">// 3. è°ƒç”¨start0  //</span></span><br><span class="line">        <span class="comment">////////////////////</span></span><br><span class="line">        <span class="keyword">boolean</span> started = <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            start0();</span><br><span class="line">            started = <span class="keyword">true</span>;</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (!started) &#123;</span><br><span class="line">                    group.threadStartFailed(<span class="keyword">this</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Throwable ignore) &#123;</span><br><span class="line">                <span class="comment">/* do nothing. If start0 threw a Throwable then</span></span><br><span class="line"><span class="comment">                  it will be passed up the call stack */</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h1 id="start-æ–¹æ³•å’Œ-run-æ–¹æ³•"><a href="#start-æ–¹æ³•å’Œ-run-æ–¹æ³•" class="headerlink" title="start æ–¹æ³•å’Œ run æ–¹æ³•"></a>start æ–¹æ³•å’Œ run æ–¹æ³•</h1><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    Runnable runnable = () -&gt; &#123;</span><br><span class="line">        System.out.println(Thread.currentThread().getName());</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    Thread thread = <span class="keyword">new</span> Thread(runnable);</span><br><span class="line"></span><br><span class="line">    thread.run();</span><br><span class="line">    thread.start();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰§è¡Œç»“æœï¼š</span></span><br><span class="line"><span class="comment">// main</span></span><br><span class="line"><span class="comment">// Thread-0</span></span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šçš„ä»£ç å·²ç»å¾ˆæ˜ç¡®çš„å‘æˆ‘ä»¬å±•ç¤ºäº†ä¸åŒä¹‹å¤„äº†ï¼Œstart æ–¹æ³•æ˜¯å¼€å¯ä¸€ä¸ªæ–°çš„çº¿ç¨‹å»æ‰§è¡Œä»£ç ï¼Œè€Œ run æ–¹æ³•è¿˜æ˜¯åœ¨æœ¬çº¿ç¨‹ä¹‹ä¸­å»æ‰§è¡Œçš„ï¼Œå¹¶æ²¡æœ‰å¼€å¯æ–°çš„çº¿ç¨‹ã€‚</p>
<p>å®é™…ä¸Š strat æ–¹æ³•å’Œ run æ–¹æ³•ä»æ ¹æœ¬ä¸Šæ¥è¯´å°±æ˜¯ä¸åŒçš„ã€‚start æ–¹æ³•æ˜¯çº¿ç¨‹ä½“ç³»ä¸­çš„æ–¹æ³•ï¼Œè€Œ run æ–¹æ³•å¹¶ä¸å±äºçº¿ç¨‹ä½“ç³»ï¼Œåªæ˜¯ä¸€ä¸ªæ‰§è¡Œå•å…ƒï¼Œè¿™ä¸¤è€…æœ‰ç€æ ¹æœ¬ä¸Šçš„åŒºåˆ«ã€‚</p>
<p>æ‰§è¡Œå•å…ƒå’Œçº¿ç¨‹ä½“ç³»æœ¬è´¨ä¸Šå¹¶æ²¡æœ‰å¤ªå¤§çš„å…³ç³»ã€‚çº¿ç¨‹ä½“ç³»æŒ‡çš„æ˜¯ä¸€ä¸ªçº¿ç¨‹çš„åˆ›å»ºã€å¯åŠ¨ã€æ­»äº¡ç­‰å„ç§çŠ¶æ€ï¼Œè€Œæ‰§è¡Œå•å…ƒæŒ‡çš„æ˜¯æˆ‘ä»¬ç¼–å†™çš„è¦è®©è¿™ä¸ªçº¿ç¨‹å»æ‰§è¡Œçš„ä»£ç ã€‚åœ¨ç¨‹åºçš„è®¾è®¡ä¸­è¿™ä¸¤è€…åº”è¯¥æ˜¯è§£è€¦çš„ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬æ¨èä½¿ç”¨ã€Œå®ç° Runnable æ¥å£ã€çš„æ–¹å¼å»å®ç°ä¸€ä¸ªçº¿ç¨‹çš„åŸå› ä¹‹ä¸€ã€‚</p>
<hr>
<p>å¤§å®¶åŠ æ²¹ï¼šï¼‰</p>
]]></content>
      <categories>
        <category>å¹¶å‘</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>çº¿ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Javaå¹¶å‘ã€‘çº¿ç¨‹ç”Ÿå‘½å‘¨æœŸ</title>
    <url>/posts/43936/</url>
    <content><![CDATA[<blockquote>
<p>æœ¬æ–‡å°†åˆ†æ Java ä¸­çº¿ç¨‹çš„ <strong>6</strong> ç§çŠ¶æ€ï¼Œä»¥åŠçº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸã€‚</p>
</blockquote>
<a id="more"></a>

<p><img src="https://wrp-blog-image.oss-cn-beijing.aliyuncs.com/blog-images/%E7%BA%BF%E7%A8%8B%E7%9A%846%E4%B8%AA%E7%8A%B6%E6%80%81.png" alt="çº¿ç¨‹çš„6ä¸ªçŠ¶æ€"></p>
<blockquote>
<p>åœ¨è¿™å¼ å›¾ç‰‡ä¸­ï¼ŒåŒ…å«äº†çº¿ç¨‹çš„æ‰€æœ‰çŠ¶æ€ä»¥åŠæ¯ç§çŠ¶æ€ä¹‹é—´çš„äº’ç›¸è½¬æ¢è¿‡ç¨‹ã€‚å…¶ä¸­ç®­å¤´çš„æŒ‡å‘æ˜¯å›ºå®šçš„ï¼Œå•ç®­å¤´çš„æŒ‡å‘åˆ™è¡¨æ˜äº†ä¸¤ä¸ªçº¿ç¨‹çš„çŠ¶æ€æ˜¯ä¸å¯é€†çš„ï¼Œä¸€æ—¦ä»ä¸€ç«¯åˆ°å¦ä¸€ç«¯ä¹‹åå°±æ— æ³•å†å›å»åŸæ¥çš„çŠ¶æ€ã€‚</p>
</blockquote>
<h1 id="å›¾ç‰‡å·¦è¾¹çš„ä¸‰ç§çŠ¶æ€"><a href="#å›¾ç‰‡å·¦è¾¹çš„ä¸‰ç§çŠ¶æ€" class="headerlink" title="å›¾ç‰‡å·¦è¾¹çš„ä¸‰ç§çŠ¶æ€"></a>å›¾ç‰‡å·¦è¾¹çš„ä¸‰ç§çŠ¶æ€</h1><ol>
<li><p><strong>æ–°åˆ›å»ºï¼ˆNEWï¼‰</strong><br>çº¿ç¨‹ä¸€ç»åˆ›å»ºï¼Œä¹Ÿå°±æ˜¯å» new äº†ä¸€ä¸ª Thread ç±»ä¹‹åï¼Œæœªè°ƒç”¨ start æ–¹æ³•ä¹‹å‰ï¼Œè¿™æ—¶çš„çº¿ç¨‹å°±æ˜¯ã€Œæ–°åˆ›å»ºã€çš„çŠ¶æ€</p>
</li>
<li><p><strong>å¯è¿è¡Œï¼ˆRUNNABLEï¼‰</strong><br>æœ‰äº›åœ°æ–¹å¯èƒ½å°†ã€Œå¯è¿è¡Œã€çŠ¶æ€ç§°ä¹‹ä¸ºã€Œå°±ç»ªã€çŠ¶æ€ï¼Œè¿™ä¸¤è€…å…¶å®éƒ½æ˜¯ã€ŒRUNNABLEã€çŠ¶æ€<br>çº¿ç¨‹åˆ›å»ºå®Œæ¯•ä¹‹åï¼Œè°ƒç”¨ start æ–¹æ³•å¼€å§‹ï¼Œç›´åˆ° run æ–¹æ³•ä¸­çš„ä»£ç æ‰§è¡Œå®Œæ¯•ä¹‹å‰ï¼Œå¦‚æœæ²¡æœ‰å…¶ä»–çš„æ“ä½œä½¿å¾—çº¿ç¨‹çŠ¶æ€è·‘åˆ°ä¸Šå›¾å³è¾¹çš„ä¸‰ç§çŠ¶æ€ä¸­å»çš„è¯ï¼Œçº¿ç¨‹å°†ä¼šä¸€ç›´å¤„äºã€Œå¯è¿è¡Œã€çŠ¶æ€ã€‚</p>
<blockquote>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œçº¿ç¨‹å¹¶æ²¡æœ‰ä¸€ä¸ªã€Œè¿è¡Œã€çš„çŠ¶æ€ï¼Œå°±ç®—æ˜¯æ­£åœ¨æ‰§è¡Œ run æ–¹æ³•çš„çº¿ç¨‹çŠ¶æ€ä¹Ÿæ˜¯ã€Œå¯è¿è¡Œã€çŠ¶æ€ã€‚</p>
</blockquote>
</li>
<li><p><strong>å·²ç»ˆæ­¢ï¼ˆTERMINATEDï¼‰</strong><br>å½“ run æ–¹æ³•çš„ä»£ç æ‰§è¡Œå®Œæ¯•æˆ–è€…æ˜¯æŠ›å‡ºæœªå¤„ç†çš„å¼‚å¸¸çš„æ—¶ï¼Œçº¿ç¨‹å°±ä¼šå¤„äºã€Œå·²ç»ˆæ­¢ã€çŠ¶æ€ä¸­ã€‚è¿™ä¸ªçŠ¶æ€ä¹Ÿæ˜¯çº¿ç¨‹çš„æœ€ç»ˆçŠ¶æ€ï¼Œçº¿ç¨‹ä¸€æ—¦è¿›å…¥äº†è¿™ä¸ªçŠ¶æ€å°†æ— æ³•å†å›åˆ°å…¶ä»–çš„çŠ¶æ€ä¸­ã€‚</p>
</li>
<li><p><strong>ä»£ç æ¼”ç¤º</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line"></span><br><span class="line">    Thread thread = <span class="keyword">new</span> Thread(() -&gt; &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line">            System.out.println(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ–°åˆ›å»º</span></span><br><span class="line">    System.out.println(thread.getState());  <span class="comment">// NEW</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// è°ƒç”¨ start æ–¹æ³•å¼€å§‹æ‰§è¡Œ</span></span><br><span class="line">    thread.start();</span><br><span class="line">    System.out.println(thread.getState());  <span class="comment">// RUNNABLE</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// run æ–¹æ³•æ‰§è¡Œä¸­</span></span><br><span class="line">    Thread.sleep(<span class="number">10</span>);</span><br><span class="line">    System.out.println(thread.getState());  <span class="comment">// RUNNABLE</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ‰§è¡Œå®Œæ¯•</span></span><br><span class="line">    Thread.sleep(<span class="number">500</span>);</span><br><span class="line">    System.out.println(thread.getState());  <span class="comment">// TERMINATED</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h1 id="å›¾ç‰‡å³è¾¹çš„ä¸‰ç§çŠ¶æ€ï¼ˆé˜»å¡çŠ¶æ€ï¼‰"><a href="#å›¾ç‰‡å³è¾¹çš„ä¸‰ç§çŠ¶æ€ï¼ˆé˜»å¡çŠ¶æ€ï¼‰" class="headerlink" title="å›¾ç‰‡å³è¾¹çš„ä¸‰ç§çŠ¶æ€ï¼ˆé˜»å¡çŠ¶æ€ï¼‰"></a>å›¾ç‰‡å³è¾¹çš„ä¸‰ç§çŠ¶æ€ï¼ˆé˜»å¡çŠ¶æ€ï¼‰</h1><ol>
<li><p><strong>è¢«é˜»å¡ï¼ˆBLOCKEDï¼‰</strong><br>å¦‚æœçº¿ç¨‹æ‰§è¡Œäº†ä¸€ä¸ªè¢« synchronize å…³é”®å­—ä¿®é¥°çš„ä»£ç å—ï¼Œå¹¶ä¸”è¿™ä¸ªä»£ç å—è¿˜å¤„äºå…¶ä»–çº¿ç¨‹çš„æ‰§è¡Œä¹‹ä¸­ï¼Œè¿™æ—¶è°ƒç”¨çš„çº¿ç¨‹å°±ä¼šå¤„äºé˜»å¡çš„çŠ¶æ€ï¼Œç­‰å¾…å…¶ä»–çº¿ç¨‹æ‰§è¡Œå®Œæ¯•åå†æ‰§è¡Œã€‚<br>ç­‰å¾…çš„è¿™ä¸ªçº¿ç¨‹åœ¨ç­‰å¾…çš„æ—¶é—´å†…å°±æ˜¯å¤„äº <strong>BLOCKED</strong> çŠ¶æ€ã€‚</p>
</li>
<li><p><strong>ã€Œç­‰å¾…(WAITING)ã€å’Œã€Œè®¡æ—¶ç­‰å¾…(TIMED_WAITING)ã€</strong><br>å½“çº¿ç¨‹é˜»å¡æ—¶å°±ä¼šè¿›å…¥ç­‰å¾…çš„çŠ¶æ€ã€‚å…¶ä¸­ç­‰å¾…å’Œè®¡æ—¶ç­‰å¾…éå¸¸å¥½ç†è§£ï¼Œæœ‰å¸¦ time å‚æ•°çš„ç­‰å¾…å°±æ˜¯è®¡æ—¶ç­‰å¾…ï¼Œåä¹‹åˆ™æ˜¯ç­‰å¾…ã€‚</p>
</li>
<li><p><strong>ä»£ç æ¼”ç¤º</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Runnable</span> <span class="keyword">implements</span> <span class="title">java</span>.<span class="title">lang</span>.<span class="title">Runnable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line"></span><br><span class="line">        Runnable runnable = <span class="keyword">new</span> Runnable();</span><br><span class="line"></span><br><span class="line">        Thread thread1 = <span class="keyword">new</span> Thread(runnable);</span><br><span class="line">        thread1.start();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ­¤å¤„ç¡çœ  5ms æ˜¯å› ä¸ºå°†çº¿ç¨‹å¯åŠ¨åé¦–å…ˆæ˜¯ä¸€ä¸ª RUNNABLE çš„çŠ¶æ€</span></span><br><span class="line">        <span class="comment">// ç”±äºæˆ‘çš„ CPU çš„æ‰§è¡Œé€Ÿåº¦å¤ªå¿«ï¼Œthread1 è¿˜æ²¡æœ‰èµ°åˆ° syn æ–¹æ³•å°±è¢«æ‰“å°çŠ¶æ€äº†ï¼Œæ‰€ä»¥çœ‹ä¸åˆ°æ•ˆæœ</span></span><br><span class="line">        Thread.sleep(<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">        Thread thread2 = <span class="keyword">new</span> Thread(runnable);</span><br><span class="line">        thread2.start();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ­¤å¤„çš„ç¡çœ åŒä¸Šï¼Œä¸»è¦ä¹Ÿæ˜¯ä¸€ä¸ª CPU é€Ÿåº¦è¿‡å¿«çš„é—®é¢˜</span></span><br><span class="line">        Thread.sleep(<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(thread1.getState()); <span class="comment">// TIMED_WAITINGï¼Œå› ä¸ºæ­£åœ¨æ‰§è¡Œ syn æ–¹æ³•ä¸­çš„ sleep(1000)</span></span><br><span class="line">        System.out.println(thread2.getState()); <span class="comment">// BLOCKEDï¼Œå› ä¸º syn æ–¹æ³•æ­£åœ¨è¢« thread1 æ‰§è¡Œ</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ­¤å¤„ç¡çœ  1500ms æ˜¯ä¸ºäº†è®© syn æ–¹æ³•æ‰§è¡Œåˆ° wait() ä¸­</span></span><br><span class="line">        Thread.sleep(<span class="number">1500</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(thread1.getState()); <span class="comment">// WAITINGï¼Œå› ä¸ºæ­¤æ—¶ syn æ–¹æ³•å·²ç»æ‰§è¡Œåˆ° wait() äº†</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        syn();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">syn</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            wait();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>é˜»å¡çŠ¶æ€</strong><br>ä¸€èˆ¬ä¹ æƒ¯è€Œè¨€ï¼Œå°†å›¾ç‰‡å³è¾¹çš„ä¸‰ç§çŠ¶æ€ï¼ˆBLOCKEDã€WAITINGã€TIMED_WAITINGï¼‰éƒ½ç§°ä¹‹ä¸ºé˜»å¡çŠ¶æ€ï¼Œè€Œä¸ä»…ä»…æ˜¯ BLOCKEDã€‚</p>
</li>
</ol>
<hr>
<p>å¤§å®¶åŠ æ²¹ï¼šï¼‰</p>
]]></content>
      <categories>
        <category>å¹¶å‘</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>çº¿ç¨‹</tag>
        <tag>ç”Ÿå‘½å‘¨æœŸ</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€Javaå¹¶å‘ã€‘å¤šçº¿ç¨‹å¼‚å¸¸å¤„ç†å™¨</title>
    <url>/posts/29598/</url>
    <content><![CDATA[<p>æˆ‘ä»¬å¹³æ—¶åœ¨å¤„ç†å¼‚å¸¸çš„æ—¶å€™ï¼Œå¦‚æœæ˜¯ä¸»çº¿ç¨‹æŠ›å‡ºäº†ä¸€ä¸ªæœªå¤„ç†çš„å¼‚å¸¸ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è½»æ¾çš„ä½¿ç”¨ <code>try-catch</code> æ•è·è¿™ä¸ªå¼‚å¸¸ã€‚ä½†æ˜¯å¦‚æœè¿™ä¸ªå¼‚å¸¸æ˜¯åœ¨å­çº¿ç¨‹ä¸­æŠ›å‡ºçš„ï¼Œé‚£ä¹ˆä¸»çº¿ç¨‹å®é™…ä¸Šå¯¹äºå­çº¿ç¨‹çš„å¼‚å¸¸æ˜¯ä¸æ•æ„Ÿçš„ï¼Œè™½ç„¶å¯ä»¥æ­£å¸¸çš„æŠ›å‡ºï¼Œä½†æ˜¯å´å¾ˆéš¾å»å‘ç°ã€‚å°±ç®—æ˜¯åœ¨ä¸»çº¿ç¨‹ä¸­ä½¿ç”¨ <code>try-catch</code> å»æ•è·å­çº¿ç¨‹çš„å¼‚å¸¸é‚£ä¹Ÿæ˜¯æ²¡ç”¨çš„ï¼Œå› ä¸º <code>try-catch</code> åªä¼šæ•è·æœ¬çº¿ç¨‹ä¸­çš„å¼‚å¸¸ã€‚</p>
<a id="more"></a>
<p>ç®€å•å¯¹æ¯”ä¸€ä¸‹ä¸»çº¿ç¨‹å’Œå­çº¿ç¨‹ä¹‹é—´æŠ›å¼‚å¸¸çš„ä¸åŒä¹‹å¤„ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">new</span> Thread(() -&gt; &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"æˆ‘æ˜¯å­çº¿ç¨‹æŠ›å‡ºæ¥çš„å¼‚å¸¸"</span>);</span><br><span class="line">    &#125;).start();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10000</span>; i++) &#123;</span><br><span class="line">        System.out.println(i);</span><br><span class="line">        <span class="keyword">if</span> (i == <span class="number">5000</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"æˆ‘æ˜¯ä¸»çº¿ç¨‹æŠ›å‡ºæ¥çš„å¼‚å¸¸"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿è¡Œä¸Šé¢çš„ä»£ç å°±å¯ä»¥æ¸…æ™°çš„å±•ç°è¿™ä¸ªé—®é¢˜ã€‚æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªforå¾ªç¯æ¥æ¨¡æ‹Ÿç¨‹åºçš„æ­£å¸¸æ‰§è¡Œè¿‡ç¨‹ï¼Œè¿™å…¶ä¸­ï¼Œå­çº¿ç¨‹çš„å¼‚å¸¸å¤§æ¦‚æ˜¯åœ¨æ§åˆ¶å°æ‰“å°åˆ°500çš„æ—¶å€™æŠ›å‡ºæ¥ï¼Œä½†è¿™å®Œå…¨ä¸ä¼šå½±å“åˆ°ä¸»çº¿ç¨‹çš„æ­£å¸¸æ‰§è¡Œï¼Œä½†æ˜¯ä¸»çº¿ç¨‹çš„å¼‚å¸¸å´æ¯æ¬¡éƒ½å‡†ç¡®çš„åœ¨ç¨‹åºæ‰“å°åˆ°5000çš„æ—¶å€™å»æŠ›å‡ºæ¥ï¼Œç„¶åç¨‹åºç»ˆæ­¢è¿è¡Œã€‚å¦‚æœæ˜¯åœ¨çœŸå®çš„å¼€å‘ç¯å¢ƒä¸­ï¼Œå­çº¿ç¨‹æŠ›å‡ºæ¥çš„å¼‚å¸¸å¹¶ä¸ä¼šè¢«ä¸»çº¿ç¨‹æ•è·å¹¶å¤„ç†ï¼Œè€Œåœ¨èŒ«èŒ«çš„æ—¥å¿—æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬æƒ³è¦å»å‘ç°å­çº¿ç¨‹çš„å¼‚å¸¸ï¼Œç®€ç›´æ˜¯å¤§æµ·æé’ˆã€‚ä»Šå¤©çš„ä¸»é¢˜å°±æ˜¯è¦æ¥è¯´ä¸€è¯´å¦‚ä½•å»å¤„ç†å­çº¿ç¨‹ä¸­çš„å¼‚å¸¸ã€‚</p>
<p>æ¼”ç¤ºã€Œä¸»çº¿ç¨‹ã€<strong>æ— æ³•æ•è·</strong>ã€Œå­çº¿ç¨‹ã€ä¸­çš„å¼‚å¸¸</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">new</span> Thread(<span class="keyword">new</span> Test(),<span class="string">"çº¿ç¨‹1"</span>).start();</span><br><span class="line">            <span class="keyword">new</span> Thread(<span class="keyword">new</span> Test(),<span class="string">"çº¿ç¨‹2"</span>).start();</span><br><span class="line">            <span class="keyword">new</span> Thread(<span class="keyword">new</span> Test(),<span class="string">"çº¿ç¨‹3"</span>).start();</span><br><span class="line">            <span class="keyword">new</span> Thread(<span class="keyword">new</span> Test(),<span class="string">"çº¿ç¨‹4"</span>).start();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (RuntimeException e) &#123;</span><br><span class="line">            System.out.println(<span class="string">"æ•è·äº†å¼‚å¸¸"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"å­çº¿ç¨‹æŠ›å‡ºçš„å¼‚å¸¸"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢æ¼”ç¤ºçš„åœ¨ä¸»çº¿ç¨‹ä¸­ä½¿ç”¨ <code>try-catch</code> å»æ•è·å¼‚å¸¸ä¹Ÿæ˜¯æ— æ³•å¤„ç†çš„ï¼Œä½†æ˜¯æŠŠ <code>try-catch</code> æ”¾åˆ°å­çº¿ç¨‹ä¸­å»å°±å¯ä»¥å¤„ç†è¿™ä¸ªå¼‚å¸¸äº†ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">new</span> Thread(() -&gt; &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"æˆ‘æ˜¯å­çº¿ç¨‹æŠ›å‡ºæ¥çš„å¼‚å¸¸"</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (RuntimeExeception e) &#123;</span><br><span class="line">            <span class="comment">// å¤„ç†å¼‚å¸¸é€»è¾‘</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;).start();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10000</span>; i++) &#123;</span><br><span class="line">        System.out.println(i);</span><br><span class="line">        <span class="keyword">if</span> (i == <span class="number">5000</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"æˆ‘æ˜¯ä¸»çº¿ç¨‹æŠ›å‡ºæ¥çš„å¼‚å¸¸"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åƒä¸Šé¢è¿™æ ·åœ¨å­çº¿ç¨‹ä¸­ä½¿ç”¨ <code>try-catch</code> å»æ•è·å¼‚å¸¸è¿™æ˜¯è§£å†³é—®é¢˜çš„åŠæ³•ä¹‹ä¸€ã€‚è¿™ä¹Ÿä¸å¯é¿å…çš„å¸¦æ¥ä¸€ä¸ªå¼Šç«¯ï¼Œé‚£å°±æ˜¯æˆ‘ä»¬éœ€è¦åœ¨æ¯ä¸ªrunæ–¹æ³•ä¸­éƒ½æ‰‹åŠ¨çš„å»ç¼–å†™ <code>try-catch</code> æ¥å¤„ç†å¼‚å¸¸ï¼Œè€Œä¸”æˆ‘ä»¬ä¹Ÿä¸çŸ¥é“å…·ä½“å¯èƒ½å‡ºç°ä»€ä¹ˆç±»å‹çš„å¼‚å¸¸ã€‚æˆ‘ä»¬æœ‰æ›´å¥½çš„åŠæ³•â€”â€”UncaughtExceptionHandler</p>
<h1 id="Threadç±»ä¸­çš„æ¥å£UncaughtExceptionHandler"><a href="#Threadç±»ä¸­çš„æ¥å£UncaughtExceptionHandler" class="headerlink" title="Threadç±»ä¸­çš„æ¥å£UncaughtExceptionHandler"></a>Threadç±»ä¸­çš„æ¥å£UncaughtExceptionHandler</h1><p>java.lang åŒ…ä¸­æœ‰ä¸€ä¸ªThreadGroupçš„ç±»å®ç°äº†è¿™ä¸ªæ¥å£ï¼Œè¿™é‡Œå°±ç®€å•çš„ç§°ä¹‹ä¸ºçº¿ç¨‹çš„å¼‚å¸¸å¤„ç†å™¨ã€‚æˆ‘ä»¬æ¥çœ‹çœ‹è¿™å¤„ç†äº†ä»€ä¹ˆå†…å®¹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ¥å£ä¸­ä»…å®šä¹‰äº†è¿™ä¸€ä¸ªæ–¹æ³•ï¼Œä»¥ä¸‹æ˜¯å®ç°ç±»</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    é€šè¿‡æ¥å£çš„å‚æ•°æˆ‘ä»¬å¤§è‡´å¯ä»¥çŒœå‡ºï¼Œå½“å­çº¿ç¨‹ä¸­æŠ›å‡ºå¼‚å¸¸æ—¶ï¼Œå°†ä¼šé€šè¿‡æŸç§æ–¹å¼ï¼ˆä¸ªäººçŒœæµ‹æ˜¯åå°„ï¼‰å›è°ƒè¿™ä¸ªæ–¹æ³•</span></span><br><span class="line"><span class="comment">    ä¹Ÿæ¸…æ™°æ˜äº†çš„å‘Šè¯‰äº†æˆ‘ä»¬æ˜¯å“ªä¸ªçº¿ç¨‹æŠ›å‡ºçš„å“ªä¸ªå¼‚å¸¸</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">uncaughtException</span><span class="params">(Thread t, Throwable e)</span> </span>&#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">        parent çš„å®šä¹‰ï¼šprivate final ThreadGroup parent;</span></span><br><span class="line"><span class="comment">        é¦–å…ˆæ£€æŸ¥æ˜¯å¦å­˜åœ¨ä¸€ä¸ªçˆ¶çº¿ç¨‹çš„è¿™ä¸ªå¼‚å¸¸å¤„ç†å™¨ï¼Œå¦‚æœå­˜åœ¨åˆ™è°ƒç”¨çˆ¶çº¿ç¨‹çš„å¼‚å¸¸å¤„ç†å™¨è¿›è¡Œå¤„ç†ï¼Œè¿™é‡Œæ˜¯ä¸€ä¸ªé€’å½’çš„æ“ä½œ</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">if</span> (parent != <span class="keyword">null</span>) &#123;</span><br><span class="line">        parent.uncaughtException(t, e);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">            å½“è°ƒç”¨å®Œæ¯•å‘ç°å¹¶æ²¡æœ‰ä¸€ä¸ªå¯ä»¥å¤„ç†å¼‚å¸¸çš„å¤„ç†å™¨ä¹‹å</span></span><br><span class="line"><span class="comment">            å°è¯•è·å–å…¨å±€çš„å¼‚å¸¸å¤„ç†å™¨â€œè¿™é‡Œçš„ uehâ€</span></span><br><span class="line"><span class="comment">            å¦‚æœå­˜åœ¨ä¸€ä¸ªå…¨å±€çš„å¼‚å¸¸å¤„ç†å™¨ï¼Œåˆ™ä½¿ç”¨è¿™ä¸ªå¤„ç†å™¨å¤„ç†å¼‚å¸¸</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        Thread.UncaughtExceptionHandler ueh =</span><br><span class="line">            Thread.getDefaultUncaughtExceptionHandler();</span><br><span class="line">        <span class="keyword">if</span> (ueh != <span class="keyword">null</span>) &#123;</span><br><span class="line">            ueh.uncaughtException(t, e);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!(e <span class="keyword">instanceof</span> ThreadDeath)) &#123;</span><br><span class="line">            <span class="comment">/*</span></span><br><span class="line"><span class="comment">                ä¸å­˜åœ¨çš„æƒ…å†µï¼Œç›´æ¥å°†å¼‚å¸¸çš„å †æ ˆä¿¡æ¯æ‰“å°å‡ºæ¥</span></span><br><span class="line"><span class="comment">                ä¹Ÿå°±æ˜¯æœ¬æ–‡å¼€å¤´å­çº¿ç¨‹ä¸­æŠ›å‡ºçš„â€œæˆ‘æ˜¯å­çº¿ç¨‹æŠ›å‡ºæ¥çš„å¼‚å¸¸â€</span></span><br><span class="line"><span class="comment">            */</span></span><br><span class="line">            System.err.print(<span class="string">"Exception in thread \""</span></span><br><span class="line">                            + t.getName() + <span class="string">"\" "</span>);</span><br><span class="line">            e.printStackTrace(System.err);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>çœ‹å®Œè¿™ä¸ªçº¿ç¨‹å¤„ç†å™¨ä¹‹åæ¥çœ‹çœ‹è¦å¦‚ä½•å®ç°è¿™ä¸ªçº¿ç¨‹å¤„ç†å™¨</p>
<ul>
<li><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦ç¼–å†™ä¸€ä¸ªç±»å®ç° Thread.UncaughtExceptionHandler æ¥å£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyUncaughtExceptionHandler</span> <span class="keyword">implements</span> <span class="title">Thread</span>.<span class="title">UncaughtExceptionHandler</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyUncaughtExceptionHandler</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">uncaughtException</span><span class="params">(Thread t, Throwable e)</span> </span>&#123;</span><br><span class="line">        System.out.println(name + <span class="string">"å·²ç»æˆåŠŸæ•è·äº†å¼‚å¸¸ã€‚æŠ›å‡ºå¼‚å¸¸çš„çº¿ç¨‹æ˜¯ï¼š"</span> + t.getName() + <span class="string">"ã€‚æŠ›å‡ºçš„å¼‚å¸¸æ˜¯ï¼š"</span> + e);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å…¶æ¬¡æˆ‘ä»¬éœ€è¦å°†è‡ªå·±ç¼–å†™çš„å¼‚å¸¸å¤„ç†å™¨ç»‡å…¥åˆ°ä¸»çº¿ç¨‹ä¸­ï¼Œè®©å®ƒè‡ªåŠ¨å»å¤„ç†å­çº¿ç¨‹çš„å¼‚å¸¸ã€‚ï¼ˆè¿™é‡Œä½¿ç”¨å¼€ç¯‡ä¸­ã€Œæ¼”ç¤ºä¸»çº¿ç¨‹ä¸­æ— æ³•æ•è·å­çº¿ç¨‹ä¸­çš„å¼‚å¸¸ã€çš„ä¾‹å­å¹¶ä½œå¯¹æ¯”ï¼‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Thread.setDefaultUncaughtExceptionHandler(<span class="keyword">new</span> MyUncaughtExceptionHandler(<span class="string">"çº¿ç¨‹å¼‚å¸¸å¤„ç†å™¨"</span>));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> Thread(<span class="keyword">new</span> Test(),<span class="string">"çº¿ç¨‹1"</span>).start();</span><br><span class="line">        <span class="keyword">new</span> Thread(<span class="keyword">new</span> Test(),<span class="string">"çº¿ç¨‹2"</span>).start();</span><br><span class="line">        <span class="keyword">new</span> Thread(<span class="keyword">new</span> Test(),<span class="string">"çº¿ç¨‹3"</span>).start();</span><br><span class="line">        <span class="keyword">new</span> Thread(<span class="keyword">new</span> Test(),<span class="string">"çº¿ç¨‹4"</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"å­çº¿ç¨‹æŠ›å‡ºçš„å¼‚å¸¸"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// mainæ–¹æ³•æ‰§è¡Œç»“æœ</span></span><br><span class="line">çº¿ç¨‹å¼‚å¸¸å¤„ç†å™¨å·²ç»æˆåŠŸæ•è·äº†å¼‚å¸¸ã€‚æŠ›å‡ºå¼‚å¸¸çš„çº¿ç¨‹æ˜¯ï¼šçº¿ç¨‹<span class="number">1</span>ã€‚æŠ›å‡ºçš„å¼‚å¸¸æ˜¯ï¼šjava.lang.RuntimeException: å­çº¿ç¨‹æŠ›å‡ºçš„å¼‚å¸¸</span><br><span class="line">çº¿ç¨‹å¼‚å¸¸å¤„ç†å™¨å·²ç»æˆåŠŸæ•è·äº†å¼‚å¸¸ã€‚æŠ›å‡ºå¼‚å¸¸çš„çº¿ç¨‹æ˜¯ï¼šçº¿ç¨‹<span class="number">2</span>ã€‚æŠ›å‡ºçš„å¼‚å¸¸æ˜¯ï¼šjava.lang.RuntimeException: å­çº¿ç¨‹æŠ›å‡ºçš„å¼‚å¸¸</span><br><span class="line">çº¿ç¨‹å¼‚å¸¸å¤„ç†å™¨å·²ç»æˆåŠŸæ•è·äº†å¼‚å¸¸ã€‚æŠ›å‡ºå¼‚å¸¸çš„çº¿ç¨‹æ˜¯ï¼šçº¿ç¨‹<span class="number">3</span>ã€‚æŠ›å‡ºçš„å¼‚å¸¸æ˜¯ï¼šjava.lang.RuntimeException: å­çº¿ç¨‹æŠ›å‡ºçš„å¼‚å¸¸</span><br><span class="line">çº¿ç¨‹å¼‚å¸¸å¤„ç†å™¨å·²ç»æˆåŠŸæ•è·äº†å¼‚å¸¸ã€‚æŠ›å‡ºå¼‚å¸¸çš„çº¿ç¨‹æ˜¯ï¼šçº¿ç¨‹<span class="number">4</span>ã€‚æŠ›å‡ºçš„å¼‚å¸¸æ˜¯ï¼šjava.lang.RuntimeException: å­çº¿ç¨‹æŠ›å‡ºçš„å¼‚å¸¸</span><br></pre></td></tr></table></figure>

<p>  è‡³æ­¤ï¼Œå¤šçº¿ç¨‹å¼‚å¸¸å¤„ç†å™¨ä»‹ç»å®Œæ¯•ã€‚</p>
</li>
</ul>
<hr>
<blockquote>
<p>æ’ä¸€å¥é¢˜å¤–è¯ï¼Œæˆ‘è®¤ä¸ºæœ¬æ–‡çš„ä¾‹å­ä¸­å¾ˆå½¢è±¡çš„å‘æˆ‘ä»¬å±•ç¤ºäº†çº¿ç¨‹çš„å·¥ä½œè¿‡ç¨‹ã€‚çº¿ç¨‹åœ¨æ‰§è¡ŒæœŸé—´æ˜¯äº’ç›¸ä¸æ‰“æ‰°çš„ï¼Œå„è‡ªå¹²ç€å„è‡ªçš„äº‹æƒ…ï¼Œè¿™æœŸé—´å¹¶ä¸ä¼šäº’ç›¸å½±å“ã€‚å°±åƒæ˜¯ä¸€ä¸ªå›¢é˜Ÿåœ¨ååŒå·¥ä½œä¸€æ ·ï¼Œæ¯ä¸ªäººéƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„çº¿ç¨‹ï¼Œå„è‡ªåœ¨å®Œæˆè‡ªå·±çš„å·¥ä½œï¼Œå¹¶ä¸ä¼šäº’ç›¸æ‰“æ‰°ã€‚æ¯ä¸ªçº¿ç¨‹é¢†å–åˆ°è‡ªå·±çš„ä»»åŠ¡ï¼ˆrunæ–¹æ³•ï¼‰ä¹‹åï¼Œç­‰å¾…å¼€å§‹æ‰§è¡Œï¼ˆè°ƒç”¨startæ–¹æ³•ï¼‰ã€‚ä¹‹åä¾¿æ˜¯ä¸€ç›´é—·å¤´å¹²ä¸‹å»ï¼Œç›´åˆ°æŠŠå·¥ä½œåšå®Œï¼ˆrunæ–¹æ³•æ‰§è¡Œå®Œæ¯•ï¼‰</p>
</blockquote>
<p>å¤§å®¶åŠ æ²¹ï¼šï¼‰</p>
]]></content>
      <categories>
        <category>å¹¶å‘</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>å¹¶å‘</tag>
        <tag>çº¿ç¨‹</tag>
        <tag>å¼‚å¸¸</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€æ•°æ®ç»“æ„ã€‘åŠ¨æ€æ•°ç»„</title>
    <url>/posts/714/</url>
    <content><![CDATA[<p>æœ¬æ–‡å°†è®²è¿°ä¸€ä¸ªåŠ¨æ€æ•°ç»„çš„å®ç°è¿‡ç¨‹ï¼Œç”±äºåŠ¨æ€æ•°ç»„å…¶å®æ˜¯ä¸€ç§æ¯”è¾ƒç®€å•çš„æ•°æ®ç»“æ„ã€‚æ‰€ä»¥æœ¬æ–‡å°†ä¼šä»¥ä»£ç å±•ç¤ºä¸ºä¸»ï¼Œå½“ç„¶ï¼Œéš¾ç‚¹ä¹Ÿæ˜¯ä¼šé‡ç‚¹è®²è¿°ã€‚æœ‰ä»€ä¹ˆä¸æ˜ç™½çš„åœ°æ–¹å¯ä»¥åœ¨è¯„è®ºåŒºæé—®ã€‚</p>
<a id="more"></a>

<h1 id="ä¸€ã€å‡†å¤‡å·¥ä½œ"><a href="#ä¸€ã€å‡†å¤‡å·¥ä½œ" class="headerlink" title="ä¸€ã€å‡†å¤‡å·¥ä½œ"></a>ä¸€ã€å‡†å¤‡å·¥ä½œ</h1><blockquote>
<p>å°†è¦å®ç°ä¸€ä¸ªArrayç±»æ¥æ‰¿è½½åŠ¨æ€æ•°ç»„è¿™ç§æ•°æ®ç»“æ„ã€‚åŠ¨æ€æ•°ç»„çš„åº•å±‚ä¹Ÿæ˜¯ä½¿ç”¨Javaä¸­çš„é™æ€æ•°ç»„å»å®ç°çš„ï¼Œä¹‹æ‰€ä»¥åŠ¨æ€æ˜¯å› ä¸ºè¿™å…¶ä¸­å¯ä»¥è‡ªåŠ¨çš„æ‰©å®¹å’Œæ‰©å®¹å’Œç¼©å®¹çš„æ“ä½œã€‚</p>
</blockquote>
<ol>
<li>å‡†å¤‡ä¸€ä¸ªé™æ€çš„æ•°ç»„å’Œä¸€ä¸ªè®°å½•åŠ¨æ€æ•°ç»„å¤§å°çš„å˜é‡<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> E[] data;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> size;</span><br></pre></td></tr></table></figure></li>
<li>å‡†å¤‡æ„é€ æ–¹æ³•<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Array</span><span class="params">(<span class="keyword">int</span> capacity)</span> </span>&#123;</span><br><span class="line">    data = (E[]) <span class="keyword">new</span> Object[capacity];</span><br><span class="line">    size = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Array</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>(<span class="number">10</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>è®¾è®¡ä¸€äº›æ–¹ä¾¿ç”¨æˆ·çš„æ–¹æ³•<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è·å–æ•°ç»„ä¸­å…ƒç´ çš„ä¸ªæ•°</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getSize</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> size;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–æ•°ç»„çš„å®¹é‡</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getCapacity</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> data.length;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿”å›æ•°ç»„æ˜¯å¦ä¸ºç©º</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> size == <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
å‡†å¤‡å·¥ä½œç»“æŸã€‚</li>
</ol>
<h1 id="äºŒã€è®¾è®¡æ‰©å®¹å’Œç¼©å®¹çš„æ–¹æ³•"><a href="#äºŒã€è®¾è®¡æ‰©å®¹å’Œç¼©å®¹çš„æ–¹æ³•" class="headerlink" title="äºŒã€è®¾è®¡æ‰©å®¹å’Œç¼©å®¹çš„æ–¹æ³•"></a>äºŒã€è®¾è®¡æ‰©å®¹å’Œç¼©å®¹çš„æ–¹æ³•</h1><p>Javaç§çš„æ•°ç»„ä¸€æ—¦è¢«åˆå§‹åŒ–ä¹‹åå°±å†ä¹Ÿæ— æ³•æ”¹å˜å®ƒçš„å®¹é‡äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬åªèƒ½å¤Ÿæ˜¯é€šè¿‡åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œåœ¨æ–°æ•°ç»„ä¸­å¼€è¾Ÿå‡ºæˆ‘ä»¬æƒ³è¦çš„ç©ºé—´ï¼Œç„¶åå†å°†åŸæ¥çš„æ•°ç»„å…¨éƒ¨æ¬åˆ°è¿™ä¸ªæ–°æ•°ç»„ä¸­ï¼Œä»¥æ­¤æ¥å®ç°åŠ¨æ€æ•°ç»„ã€‚ä¸¥è°¨ä¸€äº›çš„è¯è¿™å¹¶ä¸æ˜¯çœŸæ­£æ„ä¹‰ä¸Šçš„åŠ¨æ€æ•°ç»„ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å®ç°åŠ¨æ€çš„æ–¹æ³•</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> capacity æ–°æ•°ç»„çš„å®¹é‡</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">resize</span><span class="params">(<span class="keyword">int</span> capacity)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºæ–°æ•°ç»„</span></span><br><span class="line">    E[] newData = (E[]) <span class="keyword">new</span> Object[capacity];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å°†å…ƒç´ å¤åˆ¶åˆ°æ–°æ•°ç»„ä¸­</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">        newData[i] = data[i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å°†dataæŒ‡å‘æ–°æ•°ç»„</span></span><br><span class="line">    data = newData;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="ä¸‰ã€æ·»åŠ å…ƒç´ "><a href="#ä¸‰ã€æ·»åŠ å…ƒç´ " class="headerlink" title="ä¸‰ã€æ·»åŠ å…ƒç´ "></a>ä¸‰ã€æ·»åŠ å…ƒç´ </h1><p>å‘æ•°ç»„ä¸­çš„ä»»æ„ä½ç½®æ·»åŠ å…ƒç´ ï¼Œéœ€è¦å°†è¿™ä¸ªä½ç½®ä¹‹åçš„æ‰€æœ‰å…ƒç´ éƒ½å¾€åæŒªåŠ¨ä¸€ä¸ªä½ç½®ï¼Œæ¥è…¾å‡ºè¿™ä¸ªä½ç½®ä»¥ä¾›æ–°çš„å…ƒç´ æ·»åŠ è¿›æ¥ã€‚<br>é‡ç‚¹å°±æ˜¯åœ¨äºè¿™ä¸ªã€ŒæŒªã€çš„å®ç°ï¼Œæˆ‘ä»¬éœ€è¦ä»æœ€åä¸€ä¸ªå…ƒç´ å¼€å§‹ä¸€ä¸ªä¸ªçš„å¾€åæŒªä¸€ä½ï¼Œè¿™æ ·æ‰ä¸ä¼šè¦†ç›–åˆ°åŸæœ‰çš„å…ƒç´ ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼šåœ¨æ·»åŠ å…ƒç´ çš„æ—¶å€™æˆ‘ä»¬æ˜¯æœ‰å¯èƒ½ä¼šè¶…å‡ºç°æœ‰æ•°ç»„çš„è¾¹ç•Œçš„ï¼Œä¸è¿›è¡Œå¤„ç†çš„è¯å°±ä¼šæŠ›å‡ºä¸‹æ ‡è¶Šç•Œçš„å¼‚å¸¸ã€‚<br>åŠ¨æ€æ•°ç»„å°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜è€Œå­˜åœ¨çš„ï¼Œè‡ªåŠ¨çš„åˆ¤æ–­æ˜¯å¦éœ€è¦æ‰©å®¹æ“ä½œï¼Œä¸ºç”¨æˆ·å±è”½æ‰ä¸‹æ ‡è¶Šç•Œçš„é—®é¢˜ï¼Œç”¨æˆ·åªç®¡æ’å…¥è€Œä¸éœ€è¦æ‹…å¿ƒå®¹é‡é—®é¢˜ã€‚</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å‘æ•°ç»„ä¸­çš„ä»»æ„ä½ç½®æ·»åŠ å…ƒç´ </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> index ä»»æ„ä½ç½®çš„ä¸‹æ ‡</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> e è¦æ·»åŠ çš„å…ƒç´ </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> index, E e)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (index &lt; <span class="number">0</span> || index &gt; size) </span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"æ•°ç»„ä¸‹æ ‡ "</span> + index + <span class="string">" ä¸åˆæ³•, å½“å‰size = "</span> + size);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// åˆ¤æ–­æ˜¯å¦éœ€è¦è¿›è¡Œæ‰©å®¹æ“ä½œ</span></span><br><span class="line">    <span class="keyword">if</span> (size == data.length) </span><br><span class="line">        resize(data.length * <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŒªåŠ¨å…ƒç´ </span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = size; i &gt; index; i--) </span><br><span class="line">        data[i] = data[i - <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ’å…¥å…ƒç´ ï¼Œç»´æŠ¤sizeå˜é‡</span></span><br><span class="line">    data[index] = e;</span><br><span class="line">    size++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è®¾è®¡ä¸¤ä¸ªæ–¹ä¾¿ç”¨æˆ·æ“ä½œçš„æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å‘æ‰€æœ‰å…ƒç´ åæ·»åŠ ä¸€ä¸ªæ–°å…ƒç´ </span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addLast</span><span class="params">(E e)</span> </span>&#123; add(size, e); &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‘æ‰€æœ‰å…ƒç´ å‰æ·»åŠ ä¸€ä¸ªæ–°å…ƒç´ </span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addFirst</span><span class="params">(E e)</span> </span>&#123; add(<span class="number">0</span>, e); &#125;</span><br></pre></td></tr></table></figure>

<h1 id="å››ã€åˆ é™¤å…ƒç´ "><a href="#å››ã€åˆ é™¤å…ƒç´ " class="headerlink" title="å››ã€åˆ é™¤å…ƒç´ "></a>å››ã€åˆ é™¤å…ƒç´ </h1><p>è¿™å…¶å®è·Ÿæ·»åŠ å…ƒç´ æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯åè¿‡æ¥è€Œå·²ã€‚åˆ é™¤æ•°ç»„ä¸­ä»»æ„ä½ç½®çš„å…ƒç´ ï¼Œéœ€è¦å°†è¿™ä¸ªä½ç½®ä¹‹åçš„æ‰€æœ‰å…ƒç´ éƒ½å¾€å‰æŒªåŠ¨ä¸€ä¸ªä½ç½®ã€‚ä¸€ä¸ªä¸ªçš„è¦†ç›–æ‰å‰é¢çš„å…ƒç´ ã€‚<br>åœ¨è¿™é‡Œéœ€è¦ä»è¦åˆ é™¤å…ƒç´ çš„åä¸€ä½å¼€å§‹æŒªï¼Œä¸€ç›´å¾€åæŒªåˆ°æœ€åä¸€ä½å…ƒç´ ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼šåœ¨åˆ é™¤å…ƒç´ æ—¶ï¼Œå¦‚æœæ•°ç»„ä¸­å‰©ä¸‹çš„ç©ºé—´å¤ªå¤šäº†ï¼Œè¿™æ—¶æˆ‘ä»¬éœ€è¦è§¦å‘ç¼©å®¹æ“ä½œï¼Œä»¥å…é€ æˆå¤ªå¤šå†…å­˜çš„æµªè´¹ã€‚</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åˆ é™¤æ•°ç»„ä¸­çš„ä»»æ„å…ƒç´ </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> index è¦åˆ é™¤å…ƒç´ çš„ä¸‹æ ‡</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> E åˆ é™¤çš„å…ƒç´ </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> E <span class="title">remove</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (index &lt; <span class="number">0</span> || index &gt;= size) </span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"æ•°ç»„ä¸‹æ ‡ "</span> + index + <span class="string">" ä¸åˆæ³•, å½“å‰size = "</span> + size);</span><br><span class="line">    </span><br><span class="line">    E removeE = data[index];</span><br><span class="line">    <span class="comment">// æŒªåŠ¨å…ƒç´ </span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = index; i &lt; size - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        data[i] = data[i + <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    size--;</span><br><span class="line">    <span class="comment">// åˆ¤æ–­æ˜¯å¦ç¼©å®¹</span></span><br><span class="line">    <span class="keyword">if</span> (size == data.length / <span class="number">4</span> &amp;&amp; data.length / <span class="number">2</span> != <span class="number">0</span>) &#123;</span><br><span class="line">        resize(data.length / <span class="number">4</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> removeE;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬åœ¨æ‰©å®¹çš„æ—¶å€™æ˜¯æ‰©å®¹æˆåŸæ¥æ•°ç»„çš„ä¸¤å€çš„å¤§å°ï¼Œä½†æ˜¯ç¼©å®¹æ—¶ç¡®å®ç¼©å®¹æˆæ•°ç»„çš„å››åˆ†ä¹‹ä¸€å¤§å°ã€‚<br>è¿™æ˜¯ä¸ºäº†é˜²æ­¢ç”¨æˆ·åœ¨æ·»åŠ åˆ é™¤å…ƒç´ æ—¶åˆšå¥½æ˜¯åœ¨åŸæ¥æ•°ç»„å®¹é‡å¤§å°çš„é™„è¿‘è¿›è¡Œçš„ï¼Œåˆ™ä¸æ–­çš„ä¼šå»è§¦å‘æ‰©å®¹å’Œç¼©å®¹çš„æ“ä½œï¼Œè€Œè¿™ä¼šæ›´å¤šçš„æ¶ˆè€—èµ„æºã€‚</p>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><h2 id="å…³äºåŠ¨æ€æ•°ç»„ï¼Œä»¥ä¸Šçš„å‡ ä¸ªæ–¹æ³•å°±æ˜¯å…¶ä¸­æœ€ä¸»è¦çš„æ–¹æ³•äº†ï¼Œå…¶ä»–çš„ä¸€äº›ä¾‹å¦‚æŸ¥è¯¢å…ƒç´ å’Œä¿®æ”¹å…ƒç´ ç›¸å¯¹è€Œè¨€æ¯”è¾ƒç®€å•ï¼Œä¹Ÿæ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œæœ¬æ–‡ä¹Ÿå°±çœç•¥ä¸æã€‚"><a href="#å…³äºåŠ¨æ€æ•°ç»„ï¼Œä»¥ä¸Šçš„å‡ ä¸ªæ–¹æ³•å°±æ˜¯å…¶ä¸­æœ€ä¸»è¦çš„æ–¹æ³•äº†ï¼Œå…¶ä»–çš„ä¸€äº›ä¾‹å¦‚æŸ¥è¯¢å…ƒç´ å’Œä¿®æ”¹å…ƒç´ ç›¸å¯¹è€Œè¨€æ¯”è¾ƒç®€å•ï¼Œä¹Ÿæ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œæœ¬æ–‡ä¹Ÿå°±çœç•¥ä¸æã€‚" class="headerlink" title="å…³äºåŠ¨æ€æ•°ç»„ï¼Œä»¥ä¸Šçš„å‡ ä¸ªæ–¹æ³•å°±æ˜¯å…¶ä¸­æœ€ä¸»è¦çš„æ–¹æ³•äº†ï¼Œå…¶ä»–çš„ä¸€äº›ä¾‹å¦‚æŸ¥è¯¢å…ƒç´ å’Œä¿®æ”¹å…ƒç´ ç›¸å¯¹è€Œè¨€æ¯”è¾ƒç®€å•ï¼Œä¹Ÿæ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œæœ¬æ–‡ä¹Ÿå°±çœç•¥ä¸æã€‚"></a>å…³äºåŠ¨æ€æ•°ç»„ï¼Œä»¥ä¸Šçš„å‡ ä¸ªæ–¹æ³•å°±æ˜¯å…¶ä¸­æœ€ä¸»è¦çš„æ–¹æ³•äº†ï¼Œå…¶ä»–çš„ä¸€äº›ä¾‹å¦‚æŸ¥è¯¢å…ƒç´ å’Œä¿®æ”¹å…ƒç´ ç›¸å¯¹è€Œè¨€æ¯”è¾ƒç®€å•ï¼Œä¹Ÿæ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œæœ¬æ–‡ä¹Ÿå°±çœç•¥ä¸æã€‚</h2><p>å¤§å®¶åŠ æ²¹ï¼šï¼‰</p>
]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>åŠ¨æ€æ•°ç»„</tag>
        <tag>æ•°ç»„</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ã€‘å·¥å‚æ¨¡å¼</title>
    <url>/posts/34268/</url>
    <content><![CDATA[<p><strong>ç™¾åº¦ç™¾ç§‘ä¸­å¯¹åˆ›å»ºå‹æ¨¡å¼çš„å®šä¹‰ï¼š</strong><br>åˆ›å»ºå‹æ¨¡å¼æ—¨åœ¨å°†ç³»ç»Ÿä¸å®ƒçš„å¯¹è±¡åˆ›å»ºã€ç»“åˆã€è¡¨ç¤ºçš„æ–¹å¼åˆ†ç¦»ã€‚è¿™äº›è®¾è®¡æ¨¡å¼åœ¨å¯¹è±¡åˆ›å»ºçš„ç±»å‹ã€ä¸»ä½“ã€æ–¹å¼ã€æ—¶é—´ç­‰æ–¹é¢æé«˜äº†ç³»ç»Ÿçš„çµæ´»æ€§ã€‚ï¼ˆ<a href="https://baike.baidu.com/item/%E5%88%9B%E5%BB%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F/22912595?fr=aladdin" target="_blank" rel="noopener">ç™¾åº¦ç™¾ç§‘</a>ï¼‰</p>
<p><strong>ä¸ªäººç†è§£ï¼š</strong><br>æŸäº›ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œéœ€è¦é‡å¤çš„åˆ›å»ºç›¸åŒå¯¹è±¡å»å®Œæˆä¸šåŠ¡é€»è¾‘ã€‚ä¸€æ—¦éœ€è¦åˆ‡æ¢æˆå¦å¤–çš„å¯¹è±¡çš„è¯åˆ™éœ€è¦ä¿®æ”¹å¤§é‡ä»£ç ã€‚è€Œä½¿ç”¨åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼ˆä¾‹å¦‚å·¥å‚æ¨¡å¼ï¼‰åˆ™ä»…éœ€è¦ä¿®æ”¹ä¸€å¤„å³å¯ã€‚å³å·¥å‚ä¸­åˆ›å»ºå¯¹è±¡çš„åœ°æ–¹ã€‚</p>
<p><strong>æœ¬æ–‡å°†è®²è¿°çš„åˆ›å»ºå‹çš„è®¾è®¡æ¨¡å¼æœ‰ï¼š</strong><br>ç®€å•å·¥å‚æ¨¡å¼ã€å·¥å‚æ–¹æ³•æ¨¡å¼ã€æŠ½è±¡å·¥å‚æ¨¡å¼</p>
<a id="more"></a>

<h1 id="ç®€å•å·¥å‚"><a href="#ç®€å•å·¥å‚" class="headerlink" title="ç®€å•å·¥å‚"></a>ç®€å•å·¥å‚</h1><p>å®šä¹‰ï¼šç”±ä¸€ä¸ªå·¥å‚å¯¹è±¡å†³å®šåˆ›å»ºå‡ºå“ªä¸€ç§äº§å“çš„å®ä¾‹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ‰‹æœºç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Phone</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">call</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®ç°ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Apple</span> <span class="keyword">extends</span> <span class="title">Phone</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">call</span><span class="params">()</span> </span>&#123; System.out.println(<span class="string">"ä½¿ç”¨è‹¹æœæ‰‹æœºæ‰“ç”µè¯"</span>); &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MI</span> <span class="keyword">extends</span> <span class="title">Phone</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">call</span><span class="params">()</span> </span>&#123; System.out.println(<span class="string">"ä½¿ç”¨å°ç±³æ‰‹æœºæ‰“ç”µè¯"</span>); &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰‹æœºå·¥å‚ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PhoneFactory</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Phone <span class="title">getPhone</span><span class="params">(String type)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="string">"apple"</span>.equalsIgnoreCase(type)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> Apple();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (<span class="string">"mi"</span>.equalsIgnoreCase(type)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> MI();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p><strong>å®¢æˆ·ç«¯ä¸ä½¿ç”¨å·¥å‚ç±»æ—¶åˆ›å»ºå¯¹åº”çš„æ‰‹æœº</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Client</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Phone apple = <span class="keyword">new</span> Apple();</span><br><span class="line">        apple.call();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç±»å›¾ï¼š<br><img src="https://wrp-blog-image.oss-cn-beijing.aliyuncs.com/blog-images/20200814233625.png" alt="20200814233625"></p>
<p> <strong>å°ç»“ï¼š</strong><br> å®¢æˆ·ç«¯å¦‚æœåœ¨å¾ˆå¤šåœ°æ–¹éœ€è¦ä½¿ç”¨åˆ°æ‰‹æœºç±»ï¼Œé‚£ä¹ˆæ¯ä¸ªåœ°æ–¹éƒ½å¿…é¡»å»newå¯¹åº”çš„æ‰‹æœºç±»ã€‚å¦‚æœæœ‰ä¸€å¤©ä¸šåŠ¡é€»è¾‘å‘ç”Ÿå˜åŒ–ï¼Œéœ€è¦æ¢ä¸€æ¬¾æ‰‹æœºï¼Œé‚£ä¹ˆå°±å¾—åœ¨å¾ˆå¤šåœ°æ–¹éƒ½å»é‡æ–°newæ–°çš„æ‰‹æœºç±»ã€‚è¿™å°†ä¼šå˜å¾—éå¸¸éº»çƒ¦ï¼Œä¸ç¬¦åˆä½è€¦åˆçš„è®¾è®¡æ€æƒ³</p>
</li>
<li><p><strong>å®¢æˆ·ç«¯ä½¿ç”¨æ‰‹æœºå·¥å‚ç±»åˆ›å»ºå¯¹åº”çš„æ‰‹æœº</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Client</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Phone apple = PhoneFactory.getPhone(<span class="string">"apple"</span>);</span><br><span class="line">        <span class="keyword">if</span> (apple != <span class="keyword">null</span>) &#123;</span><br><span class="line">            apple.create();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç±»å›¾ï¼š<br><img src="https://wrp-blog-image.oss-cn-beijing.aliyuncs.com/blog-images/20200814233841.png" alt="20200814233841"></p>
<p> <strong>å°ç»“ï¼š</strong><br> ä½¿ç”¨å·¥å‚æ¨¡å¼å¯ä»¥ç›´æ¥åœ¨å·¥å‚ç±»ä¸­å»ä¿®æ”¹å¯¹åº”çš„å®ä¾‹ï¼Œè€Œä¸éœ€è¦åœ¨æ¯ä¸ªåˆ›å»ºå®ä¾‹çš„åœ°æ–¹éƒ½å»ä¿®æ”¹ã€‚å¦‚æœéœ€è¦ä¿®æ”¹å¯¹åº”çš„æ‰‹æœºå®ä¾‹åˆ™åªéœ€è¦åœ¨å·¥å‚ç±»ä¸­å»æ›¿æ¢æ‰å¯¹åº”çš„å®ä¾‹å³å¯ã€‚</p>
<p> <strong>ä¸¾ä¾‹ï¼š</strong><br> éœ€æ±‚ï¼šå°†åŸæ¥çš„è‹¹æœæ‰‹æœºæ¢æˆæœ€æ–°çš„è‹¹æœæ‰‹æœºã€‚ä½¿ç”¨å·¥å‚æ¨¡å¼ä¹‹ååªéœ€è¦å»åˆ›å»ºä¸€ä¸ªæœ€æ–°çš„è‹¹æœæ‰‹æœºç±»ç»§æ‰¿æ‰‹æœºç±»ï¼Œå†å»ä¿®æ”¹æ‰‹æœºå·¥å‚ç±»ä¸­çš„å®ä¾‹å³å¯ã€‚</p>
</li>
</ul>
<p><strong>ç¼ºç‚¹ï¼š</strong>å·¥å‚ç±»èŒè´£è¿‡äºç¹é‡ï¼Œä¸€æ—¦åˆ›å»ºæ–°çš„æ‰‹æœºåˆ™éœ€è¦ä¿®æ”¹å·¥å‚ç±»ã€‚è¿åäº†å¼€é—­åŸåˆ™</p>
<p><strong>æ”¹è¿›ï¼š</strong>åœ¨å·¥å‚ç±»ä¸­ä½¿ç”¨åå°„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ‰‹æœºå·¥å‚ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PhoneFactory</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Phone <span class="title">getPhone</span><span class="params">(Class c)</span> </span>&#123;</span><br><span class="line">        Phone phone = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Phone = (Phone) Class.forName(c.getName()).newInstance();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InstantiationException | IllegalAccessException | ClassNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> phone;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®¢æˆ·ç«¯</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Client</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Phone phone = PhoneFactory.getPhone(Apple<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        <span class="keyword">if</span> (phone != <span class="keyword">null</span>) &#123;</span><br><span class="line">            phone.call();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<p>æš‚åœä¸€ä¼šï¼Œä»‹ç»ä¸¤ä¸ªç®€å•çš„æ¦‚å¿µã€‚äº§å“ç­‰çº§å’Œäº§å“å®¶æ—</p>
<blockquote>
<p><strong>äº§å“ç­‰çº§ï¼š</strong>äº§å“ç­‰çº§æŒ‡çš„æ˜¯ç›¸åŒç±»å‹çš„äº§å“ã€‚<br>æ¯”å¦‚ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„æ‰‹æœºæœ‰å°ç±³æ‰‹æœºã€åä¸ºæ‰‹æœºã€è‹¹æœæ‰‹æœºè¿™äº›éƒ½æ˜¯åŒä¸€äº§å“ç­‰çº§ã€‚<br><strong>äº§å“å®¶æ—ï¼š</strong>äº§å“å®¶æ—æŒ‡çš„æ˜¯ä¸åŒäº§å“ç­‰çº§æ„æˆçš„ä¸€ç»„äº§å“ã€‚<br>æ¯”å¦‚ï¼Œä¸Šé¢çš„è¿™äº›æ‰‹æœºå‚å•†ä¸ä»…ç”Ÿäº§æ‰‹æœºè¿˜ç”Ÿäº§ç”µè„‘ï¼Œé‚£ä¹ˆå°ç±³æ‰‹æœºå’Œå°ç±³ç”µè„‘æ„æˆä¸€ä¸ªäº§å“å®¶æ—ï¼Œåä¸ºæ‰‹æœºå’Œåä¸ºç”µè„‘æ„æˆä¸€ä¸ªäº§å“å®¶æ—ï¼Œè‹¹æœæ‰‹æœºå’Œè‹¹æœç”µè„‘æ„æˆä¸€ä¸ªäº§å“å®¶æ—</p>
</blockquote>
<hr>
<h1 id="å·¥å‚æ–¹æ³•"><a href="#å·¥å‚æ–¹æ³•" class="headerlink" title="å·¥å‚æ–¹æ³•"></a>å·¥å‚æ–¹æ³•</h1><p>å®šä¹‰ï¼šå·¥å‚æ–¹æ³•æ¨¡å¼ï¼ˆFACTORY METHODï¼‰æ˜¯ä¸€ç§å¸¸ç”¨çš„ç±»åˆ›å»ºå‹è®¾è®¡æ¨¡å¼ï¼Œæ­¤æ¨¡å¼çš„æ ¸å¿ƒç²¾ç¥æ˜¯å°è£…ç±»ä¸­å˜åŒ–çš„éƒ¨åˆ†ï¼Œæå–å…¶ä¸­ä¸ªæ€§åŒ–å–„å˜çš„éƒ¨åˆ†ä¸ºç‹¬ç«‹ç±»ï¼Œé€šè¿‡ä¾èµ–æ³¨å…¥ä»¥è¾¾åˆ°è§£è€¦ã€å¤ç”¨å’Œæ–¹ä¾¿åæœŸç»´æŠ¤æ‹“å±•çš„ç›®çš„ã€‚å®ƒçš„æ ¸å¿ƒç»“æ„æœ‰å››ä¸ªè§’è‰²ï¼Œåˆ†åˆ«æ˜¯æŠ½è±¡å·¥å‚ï¼›å…·ä½“å·¥å‚ï¼›æŠ½è±¡äº§å“ï¼›å…·ä½“äº§å“ã€‚ï¼ˆ<a href="https://baike.baidu.com/item/%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F/2361103?fr=aladdin" target="_blank" rel="noopener">ç™¾åº¦ç™¾ç§‘</a>ï¼‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æŠ½è±¡æ‰‹æœºç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Phone</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">call</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ‰‹æœºå…·ä½“å®ç°ç±» - å®Œæˆæ‰‹æœºå…·ä½“åŠŸèƒ½</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Apple</span> <span class="keyword">extends</span> <span class="title">Phone</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">call</span><span class="params">()</span> </span>&#123; System.out.println(<span class="string">"ä½¿ç”¨è‹¹æœæ‰‹æœºæ‰“ç”µè¯"</span>); &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MI</span> <span class="keyword">extends</span> <span class="title">Phone</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">call</span><span class="params">()</span> </span>&#123; System.out.println(<span class="string">"ä½¿ç”¨å°ç±³æ‰‹æœºæ‰“ç”µè¯"</span>); &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æŠ½è±¡å·¥å‚ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">PhoneFactory</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> Phone <span class="title">getPhone</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æŠ½è±¡å·¥å‚å®ç°ç±» - åˆ›å»ºå…·ä½“çš„æ‰‹æœºå¯¹è±¡</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AppleFactory</span> <span class="keyword">extends</span> <span class="title">PhoneFactory</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Phone <span class="title">getPhone</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> <span class="keyword">new</span> Apple(); &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MIFactory</span> <span class="keyword">extends</span> <span class="title">PhoneFactory</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Phone <span class="title">getPhone</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> <span class="keyword">new</span> MI(); &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å®¢æˆ·ç«¯</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Client</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        PhoneFactory phoneFactory = <span class="keyword">new</span> AppleFactory();</span><br><span class="line">        Phone phone = phoneFactory.getPhone();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç±»å›¾ï¼š<br><img src="https://wrp-blog-image.oss-cn-beijing.aliyuncs.com/blog-images/20200814235206.png" alt="20200814235206"></p>
<p><strong>å°ç»“ï¼š</strong></p>
<ol>
<li>å¦‚æœæ˜¯éœ€è¦åˆ‡æ¢å…·ä½“çš„å®ä¾‹æ—¶åªéœ€è¦åœ¨å®¢æˆ·ç«¯ä¸­ä¿®æ”¹å…·ä½“çš„å·¥å‚çš„å®ä¾‹ <code>PhoneFactory phoneFactory = new AppleFactory();</code> ä¹Ÿå°±æ˜¯è¿™è¡Œä»£ç ï¼Œä¿®æ”¹å®ç°çš„ <code>AppleFactory()</code> ä¸ºæ–°çš„å·¥å‚ã€‚</li>
<li>å·¥å‚æ–¹æ³•æ¨¡å¼å¯ä»¥å¾ˆå®¹æ˜“å®ç°å¯¹äº§å“ç­‰çº§çš„æ‰©å±•ï¼Œæ¯”å¦‚ç°åœ¨è¦æ–°å¢ä¸€ä¸ªåä¸ºæ‰‹æœºï¼Œåªè¦åˆ›å»ºä¸€ä¸ªåä¸ºæ‰‹æœºç±»ç»§æ‰¿<code>Phone</code>ç”±è¿™ä¸ªç±»æ¥å®ç°å…·ä½“çš„åä¸ºæ‰‹æœºåŠŸèƒ½ï¼Œå†åˆ›å»ºä¸€ä¸ªåä¸ºæ‰‹æœºçš„å·¥å‚ç±»ç»§æ‰¿<code>PhoneFactory</code>ï¼Œå®ç°å…·ä½“çš„åˆ›å»ºåä¸ºæ‰‹æœºçš„å·¥ä½œã€‚æ‰©å±•äº§å“ç­‰çº§åªéœ€è¦è¿™ä¸¤æ­¥å°±å¯ä»¥å®Œæˆäº†ã€‚</li>
<li>å¦‚æœå¼•å…¥çš„äº§å“ç­‰çº§è¿‡å¤šï¼Œåˆ™ä¼šäº§ç”Ÿå¤§é‡çš„ç±»ï¼Œä¸ä¾¿äºé˜…è¯»ä»£ç ã€‚</li>
</ol>
<blockquote>
<p>éœ€æ±‚ï¼šåˆ›å»ºä¸€æ¬¾æ–°çš„æ‰‹æœºHUAWEIï¼Œå¹¶å°†åŸæœ‰çš„è‹¹æœæ‰‹æœºæ¢æˆåä¸ºæ‰‹æœº</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åä¸ºæ‰‹æœºç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HUAWEI</span> <span class="keyword">extends</span> <span class="title">Phone</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">call</span><span class="params">()</span> </span>&#123; System.out.println(<span class="string">"ä½¿ç”¨åä¸ºæ‰‹æœºæ‰“ç”µè¯"</span>); &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// åä¸ºæ‰‹æœºçš„å·¥å‚ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HUAWEIFactory</span> <span class="keyword">extends</span> <span class="title">PhoneFactory</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Phone <span class="title">getPhone</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> <span class="keyword">new</span> HUAWEI(); &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å®¢æˆ·ç«¯</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Client</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        PhoneFactory phoneFactory = <span class="keyword">new</span> HUAWEIFactory();</span><br><span class="line">        Phone phone = phoneFactory.getPhone();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="æŠ½è±¡å·¥å‚"><a href="#æŠ½è±¡å·¥å‚" class="headerlink" title="æŠ½è±¡å·¥å‚"></a>æŠ½è±¡å·¥å‚</h1><p>å®šä¹‰ï¼šæŠ½è±¡å·¥å‚æ˜¯ä¸€ç§å¸¸è§çš„è®¾è®¡æ¨¡å¼ã€‚æ­¤æ¨¡å¼ä¸ºä¸€ä¸ªäº§å“å®¶æ—æä¾›äº†ç»Ÿä¸€çš„åˆ›å»ºæ¥å£ã€‚å½“éœ€è¦è¿™ä¸ªäº§å“å®¶æ—çš„æŸä¸€ç³»åˆ—çš„æ—¶å€™ï¼Œå¯ä»¥ä»æŠ½è±¡å·¥å‚ä¸­é€‰å‡ºç›¸å¯¹ç³»çš„ç³»åˆ—æ¥åˆ›å»ºä¸€ä¸ªå…·ä½“çš„å·¥å‚ç±»åˆ«ã€‚ï¼ˆ<a href="https://baike.baidu.com/item/%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82/5686668?fr=aladdin" target="_blank" rel="noopener">ç™¾åº¦ç™¾ç§‘</a>ï¼‰</p>
<blockquote>
<p>éœ€æ±‚ï¼šå¼•å…¥ä¸€ä¸ªæ–°çš„äº§å“ç­‰çº§ï¼ˆç”µè„‘ï¼‰ä¸åŸæœ‰çš„æ‰‹æœºç»„åˆæˆäº§å“å®¶æ—ï¼Œå®ç°å¯¹äº§å“å®¶æ—çš„æ‰©å±•</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// äº§å“å®¶æ—ä¸­çš„å„ä¸ªäº§å“ç­‰çº§æŠ½è±¡ç±»å’Œå®ç° //</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”µè„‘æŠ½è±¡ç±» - äº§å“ç­‰çº§ä¸ºç”µè„‘</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Computer</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">calculation</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ‰‹æœºæŠ½è±¡ç±» - äº§å“ç­‰çº§ä¸ºæ‰‹æœº</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Phone</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">call</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// åä¸ºå®ç°ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HUAWEIComputer</span> <span class="keyword">extends</span> <span class="title">Computer</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">calculation</span><span class="params">()</span> </span>&#123; System.out.println(<span class="string">"ä½¿ç”¨åä¸ºç”µè„‘è®¡ç®—"</span>); &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HUAWEIPhone</span> <span class="keyword">extends</span> <span class="title">Phone</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">call</span><span class="params">()</span> </span>&#123; System.out.println(<span class="string">"ä½¿ç”¨åä¸ºæ‰‹æœºæ‰“ç”µè¯"</span>); &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å°ç±³å®ç°ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MIComputer</span> <span class="keyword">extends</span> <span class="title">Computer</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">calculation</span><span class="params">()</span> </span>&#123; System.out.println(<span class="string">"ä½¿ç”¨å°ç±³ç”µè„‘è®¡ç®—"</span>); &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MIPhone</span> <span class="keyword">extends</span> <span class="title">Phone</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">call</span><span class="params">()</span> </span>&#123; System.out.println(<span class="string">"ä½¿ç”¨å°ç±³æ‰‹æœºæ‰“ç”µè¯"</span>); &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// é¡¶å±‚ç”µå­äº§å“æŠ½è±¡å·¥å‚ - å°†ä»¥ä¸‹äº§å“å®¶æ—ç»Ÿç§°ä¸ºç”µå­äº§å“</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">ElectronicProductFactory</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> Phone <span class="title">getPhone</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> Computer <span class="title">getComputer</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å…·ä½“çš„å®ç°å·¥å‚ - å®ç°çš„æ˜¯äº§å“å®¶æ—å·¥å‚ï¼ˆæ¯”å¦‚ï¼šåä¸ºäº§å“å®¶æ—ã€å°ç±³äº§å“å®¶æ—ï¼‰</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HUAWEIFactory</span> <span class="keyword">extends</span> <span class="title">ElectronicProductFactory</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Phone <span class="title">getPhone</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> <span class="keyword">new</span> HUAWEIPhone(); &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Computer <span class="title">getComputer</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> <span class="keyword">new</span> HUAWEIComputer(); &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MIFactory</span> <span class="keyword">extends</span> <span class="title">ElectronicProductFactory</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Phone <span class="title">getPhone</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> <span class="keyword">new</span> MIPhone(); &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Computer <span class="title">getComputer</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> <span class="keyword">new</span> MIComputer(); &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å®¢æˆ·ç«¯</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Client</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        ElectronicProductFactory electronicProductFactory = <span class="keyword">new</span> MIFactory();</span><br><span class="line">        Phone miPhone = electronicProductFactory.getPhone();</span><br><span class="line">        Computer miComputer = electronicProductFactory.getComputer();</span><br><span class="line">        miPhone.call();</span><br><span class="line">        miComputer.calculation();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç±»å›¾ï¼š<br><img src="https://wrp-blog-image.oss-cn-beijing.aliyuncs.com/blog-images/20200815223416.png" alt="20200815223416"></p>
<blockquote>
<p>éœ€æ±‚ï¼šå¼•å…¥æ–°çš„è‹¹æœäº§å“å®¶æ—ï¼Œå°†å®¢æˆ·ç«¯çš„å°ç±³äº§å“æ›´æ¢ä¸ºè‹¹æœäº§å“</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è‹¹æœå·¥å‚</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AppleFactory</span> <span class="keyword">extends</span> <span class="title">ElectronicProductFactory</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Phone <span class="title">getPhone</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> <span class="keyword">new</span> ApplePhone(); &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Computer <span class="title">getComputer</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> <span class="keyword">new</span> AppleComputer(); &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è‹¹æœäº§å“ç­‰çº§å®ç°ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AppleComputer</span> <span class="keyword">extends</span> <span class="title">Computer</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">calculation</span><span class="params">()</span> </span>&#123; System.out.println(<span class="string">"ä½¿ç”¨è‹¹æœç”µè„‘è®¡ç®—"</span>); &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ApplePhone</span> <span class="keyword">extends</span> <span class="title">Phone</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">call</span><span class="params">()</span> </span>&#123; System.out.println(<span class="string">"ä½¿ç”¨è‹¹æœæ‰‹æœºæ‰“ç”µè¯"</span>); &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å®¢æˆ·ç«¯</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Client</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        ElectronicProductFactory electronicProductFactory = <span class="keyword">new</span> AppleFactory();</span><br><span class="line">        Phone miPhone = electronicProductFactory.getPhone();</span><br><span class="line">        Computer miComputer = electronicProductFactory.getComputer();</span><br><span class="line">        miPhone.call();</span><br><span class="line">        miComputer.calculation();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>å°ç»“ï¼š</strong></p>
<ol>
<li>æŠ½è±¡å·¥å‚é’ˆå¯¹äºå…±äº§æ–¹æ³•çš„æ‰©å±•æ›´æ–¹ä¾¿äº†äº§å“å®¶æ—çš„æ‰©å±•ï¼Œå¦‚æœæ˜¯åœ¨å·¥å‚æ–¹æ³•ä¸­å°†äº§å“ç­‰çº§ç»„åˆæˆäº§å“å®¶æ—çš„è¯éœ€è¦ä¿®æ”¹å¤§é‡çš„ä»£ç ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥è¯•è¯•ä½¿ç”¨å·¥å‚æ–¹æ³•å»å°†äº§å“ç­‰çº§ç»„åˆæˆäº§å“å®¶æ—ã€‚è€Œä½¿ç”¨æŠ½è±¡å·¥å‚æ‰©å±•äº§å“å®¶æ—çš„è¯å°±å˜å¾—å¾ˆæ–¹ä¾¿ï¼Œæ–°å¢æ–°çš„äº§å“å®¶æ—å’Œäº§å“å®¶æ—å·¥å‚å³å¯ã€‚</li>
<li>å¦‚æœåœ¨æŠ½è±¡å·¥å‚å†…éƒ¨çš„äº§å“å®¶æ—ä¸­è¦å®ç°å¯¹äº§å“ç­‰çº§çš„æ‰©å±•åˆ™ä¼šéå¸¸éº»çƒ¦ï¼Œéœ€è¦ä¿®æ”¹å¤§é‡çš„ä»£ç ï¼Œè€Œä½¿ç”¨å·¥å‚æ–¹æ³•å»æ‰©å±•äº§å“ç­‰çº§åˆ™éå¸¸ç®€å•ã€‚</li>
</ol>
<hr>
<p>æ€»ç»“ï¼š<br>é’ˆå¯¹äº§å“ç­‰çº§å’Œäº§å“å®¶æ—ï¼Œå·¥å‚æ–¹æ³•å’ŒæŠ½è±¡å·¥å‚å„æœ‰å„çš„ä¼˜ç‚¹å’Œç¼ºç‚¹ï¼Œåœ¨çœŸå®çš„å¼€å‘ä¸­éœ€è¦æ ¹æ®å®é™…çš„ä¸šåŠ¡åœºæ™¯å»é€‰æ‹©é€‚åˆçš„è®¾è®¡æ¨¡å¼å»å®Œæˆç›¸åº”çš„éœ€æ±‚ï¼Œåˆ‡è®°ä¸è¦ä¸ºäº†ä½¿ç”¨æŸä¸€ç§è®¾è®¡æ¨¡å¼è€Œè¿‡åº¦çš„è®¾è®¡è‡ªå·±çš„ä»£ç ã€‚åˆšåˆšå¥½çš„æ‰æ˜¯æœ€ç¾ï¼Œä»£ç å¦‚æ­¤ï¼Œäººç”Ÿäº¦æ˜¯å¦‚æ­¤ã€‚</p>
<p>åˆšåˆšå¥½çš„æ‰æ˜¯æœ€ç¾ï¼Œå¤§å®¶åŠ æ²¹ï¼šï¼‰</p>
]]></content>
      <categories>
        <category>è®¾è®¡æ¨¡å¼</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>è®¾è®¡æ¨¡å¼</tag>
        <tag>åˆ›å»ºå‹</tag>
        <tag>ç®€å•å·¥å‚</tag>
        <tag>å·¥å‚æ–¹æ³•</tag>
        <tag>æŠ½è±¡å·¥å‚</tag>
        <tag>äº§å“å®¶æ—</tag>
        <tag>äº§å“ç­‰çº§</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€æ•°æ®ç»“æ„ã€‘é“¾è¡¨</title>
    <url>/posts/29990/</url>
    <content><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>å¦‚æœä¸Šä¸€ç¯‡æ–‡ç« å®ç°çš„åŠ¨æ€æ•°ç»„ï¼Œç”±äºåº•å±‚ä»»ç„¶æ˜¯ä½¿ç”¨çš„é™æ€æ•°ç»„ï¼Œè€Œä¸æ˜¯çœŸæ­£æ„ä¹‰ä¸Šçš„<strong>åŠ¨æ€æ•°æ®ç»“æ„</strong>çš„è¯ã€‚é‚£ä¹ˆæœ¬æ–‡çš„é“¾è¡¨åˆ™è‚¯å®šæ˜¯ä¸€ä¸ªçœŸçœŸæ­£æ­£æ„ä¹‰ä¸Šçš„åŠ¨æ€çš„æ•°æ®ç»“æ„äº†ã€‚</p>
<a id="more"></a>
<p>æˆ‘è¿˜è®°å¾—åœ¨è¯»ä¹¦æ—¶è€å¸ˆæ›¾ç»ç»™æˆ‘ä»¬ä¸¾è¿‡ä¸€ä¸ªéå¸¸å¥½çš„ä¾‹å­ç”¨äºæ¼”ç¤ºé“¾è¡¨å’Œæ•°ç»„åœ¨å¢åˆ æ”¹æŸ¥ç§å„è‡ªçš„ä¼˜ç¼ºç‚¹ã€‚åœ¨è¿™é‡Œæˆ‘æŠŠå®ƒåˆ†äº«å‡ºæ¥ç»™å¤§å®¶</p>
<blockquote>
<p>ä¸€ä¸ªç­çº§å‡è®¾æœ‰50ä¸ªå­¦ç”Ÿï¼Œç°åœ¨ä½¿ç”¨æ•°ç»„å’Œé“¾è¡¨æ¥åˆ†åˆ«æ‰¿è½½è¿™50ä¸ªå­¦ç”Ÿã€‚<br>ç„¶åæ¨¡æ‹Ÿä¸¤ç§åœºæ™¯æ¥åˆ†åˆ«å¯¹æ¯”è¿™ä¸¤ç§æ•°æ®ç»“æ„çš„ä¼˜ç¼ºç‚¹<br><strong>æ•°ç»„ï¼š</strong>å°†è¿™50ä¸ªå­¦ç”ŸæŒ‰ç…§é¡ºåºæ’å·ï¼Œä»0å¼€å§‹åˆ°49ï¼ˆè¿™é‡Œæ¨¡æ‹Ÿçš„æ˜¯æ•°ç»„çš„ä¸‹æ ‡ï¼‰<br><strong><em>åƒè¿™æ · [0, 1, 2, 3, â€¦, 49]</em></strong><br><strong>é“¾è¡¨ï¼š</strong>å°†50ä¸ªå­¦ç”Ÿå«åˆ°æ“åœºæ’å¥½é˜Ÿï¼Œæ¯ä¸ªå­¦ç”Ÿå»è®°ä½è‡ªå·±åé¢ä¸€ä¸ªå­¦ç”Ÿï¼Œè®°å½•æ’ç¬¬ä¸€çš„åŒå­¦ï¼ˆé“¾è¡¨å¤´ï¼‰ã€‚<br><strong><em>åƒè¿™æ · (0) -&gt; (1) -&gt; (2) -&gt; (3) -&gt; â€¦ -&gt; (49)</em></strong><br>åŸè°…æˆ‘æ‡’å¾—ç”»å›¾ã€‚ã€‚ã€‚</p>
</blockquote>
<p><strong>åœºæ™¯ä¸€ï¼š</strong>è€å¸ˆåœ¨åŠå…¬å®¤æƒ³è¦å«æŸä¸ªå­¦ç”Ÿåˆ°åŠå…¬å®¤å»ï¼ˆæ¨¡æ‹Ÿæ•°æ®çš„æŸ¥è¯¢ï¼‰<br><strong>æ•°ç»„ï¼š</strong>ç›´æ¥åœ¨ç­çº§è¡¨ç§å»æŸ¥è¿™ä¸ªå­¦ç”Ÿå¯¹åº”çš„åºå·ï¼Œæ ¹æ®åºå·å°±å¯ä»¥å¾ˆå¿«é€Ÿçš„æ‰¾åˆ°è¿™ä¸ªå­¦ç”Ÿã€‚<br><strong>é“¾è¡¨ï¼š</strong>ç”±äºæ²¡æœ‰åºå·ï¼Œéœ€è¦ä¸€ä¸ªä¸ªå­¦ç”Ÿå»æŸ¥æ‰¾ï¼Œé¦–å…ˆæ‰¾åˆ°é“¾è¡¨å¤´åŒå­¦ï¼Œæ¯”è¾ƒæ˜¯ä¸æ˜¯è€å¸ˆå«çš„å­¦ç”Ÿï¼Œå¦‚æœæ˜¯åˆ™å»åŠå…¬å®¤æ‰¾è€å¸ˆã€‚å¦‚æœä¸æ˜¯ï¼Œåˆ™å»æ‰¾é“¾è¡¨å¤´åŒå­¦æ‰€è®°ä½çš„åé¢ä¸€ä¸ªåŒå­¦ï¼Œå†è¿›è¡Œå¯¹æ¯”ã€‚å¦‚æœè¿˜ä¸æ˜¯åˆ™å†å»å¯»æ‰¾è¿™ä¸ªåŒå­¦è®°å¿†çš„ä¸‹ä¸€ä¸ªåŒå­¦ä¹‹åå†è¿›è¡Œæ¯”å¯¹ï¼Œç›´åˆ°æ‰¾åˆ°è¿™ä¸ªåŒå­¦ä¸ºæ­¢ã€‚</p>
<p><strong>åœºæ™¯äºŒï¼š</strong>ç­ä¸Šæ¥äº†ä¸€ä¸ªæ–°çš„æ’ç­ç”Ÿï¼Œæ’ç­ç”Ÿå¿…é¡»å®‰æ’åœ¨ç­çº§çš„ç¬¬ä¸€ä¸ªä½ç½®ï¼ˆæ¨¡æ‹Ÿæ•°æ®çš„æ·»åŠ å’Œåˆ é™¤ï¼‰<br><strong>æ•°ç»„ï¼š</strong>ç”±äºæ¯ä¸ªå­¦ç”Ÿçš„åºå·éƒ½æ˜¯æŒ‰ç…§é¡ºåºæ’å¥½çš„ï¼Œæ‰€ä»¥ä¸èƒ½ç›´æ¥æ’å…¥åœ¨ç¬¬ä¸€ä¸ªå­¦ç”Ÿä¹‹å‰ï¼Œå¿…é¡»æ˜¯è¦å ç”¨ç¬¬ä¸€ä¸ªå­¦ç”Ÿçš„ä½ç½®ã€‚æ‰€ä»¥è¦å°†å…¨éƒ¨çš„å­¦ç”Ÿé‡æ–°æ’å·ï¼Œæ’ç­ç”Ÿæ’0å·ï¼Œå‰©ä¸‹çš„å­¦ç”ŸæŒ‰ç…§åŸæ¥çš„å·ç ä¾æ¬¡åŠ 1å¾€åæ’åºã€‚<br><strong>é“¾è¡¨ï¼š</strong>è®©è¿™ä¸ªæ’ç­ç”Ÿå»è®°ä½ç¬¬ä¸€ä¸ªåŒå­¦ä¹Ÿå°±æ˜¯åŸç†å•Šçš„é“¾è¡¨å¤´ï¼Œå†æˆä¸ºæ–°çš„é“¾è¡¨å¤´ã€‚å…¶ä»–çš„å­¦ç”Ÿå®Œå…¨ä¸å—å½±å“ã€‚</p>
<p>é€šè¿‡ä»¥ä¸Šä¸¤ä¸ªåœºæ™¯çš„å±•ç°å¯ä»¥å¾ˆæ¸…æ™°çš„çœ‹å‡ºæ¥é“¾è¡¨å’Œæ•°ç»„å„è‡ªçš„ä¼˜ç¼ºç‚¹åœ¨å“ªé‡Œã€‚é“¾è¡¨å¢åˆ å¿«ï¼Œè€Œæ•°ç»„æŸ¥è¯¢å¿«ã€‚</p>
<h1 id="è®¾è®¡èŠ‚ç‚¹ç±»"><a href="#è®¾è®¡èŠ‚ç‚¹ç±»" class="headerlink" title="è®¾è®¡èŠ‚ç‚¹ç±»"></a>è®¾è®¡èŠ‚ç‚¹ç±»</h1><p>é“¾è¡¨ä¸­çš„æ•°æ®å®é™…ä¸Šæ˜¯ä¸€ä¸ªä¸ªçš„èŠ‚ç‚¹ï¼Œåœ¨Javaä¸­ä½¿ç”¨ä¸€ä¸ªèŠ‚ç‚¹ç±»ï¼ˆNodeï¼‰æ¥è¡¨ç¤ºã€‚åœ¨èŠ‚ç‚¹ç±»ä¸­æœ‰ä¸¤ä¸ªå˜é‡ï¼Œä¸€ä¸ªæ˜¯å½“å‰èŠ‚ç‚¹çš„å€¼ï¼Œå¦ä¸€ä¸ªæ˜¯æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆã€‚<br>ç”±æ­¤æ¯ä¸ªèŠ‚ç‚¹ä¸­éƒ½æœ‰ä¸€ä¸ªæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œæœ€åä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆå°±ç½®ä¸ºç©ºã€‚ä»¥æ­¤ä¸€èŠ‚ä¸€èŠ‚çš„é“¾æ¥èµ·æ¥ï¼Œä¹Ÿå°±æˆäº†é“¾è¡¨ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>&#123;</span><br><span class="line">    <span class="comment">// èŠ‚ç‚¹æœ¬èº«çš„å€¼ï¼ˆæ”¯æŒæ³›å‹ï¼‰</span></span><br><span class="line">    <span class="keyword">public</span> E e;</span><br><span class="line">    <span class="comment">// æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆ</span></span><br><span class="line">    <span class="keyword">public</span> Node next;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ„é€ æ–¹æ³•</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">(E e, Node next)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.e = e;</span><br><span class="line">        <span class="keyword">this</span>.next = next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">(E e)</span> </span>&#123; <span class="keyword">this</span>(e, <span class="keyword">null</span>); &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">()</span> </span>&#123; <span class="keyword">this</span>(<span class="keyword">null</span>, <span class="keyword">null</span>); &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> e.toString(); &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="è®¾è®¡é“¾è¡¨çš„æˆå‘˜å˜é‡å’Œæ„é€ æ–¹æ³•"><a href="#è®¾è®¡é“¾è¡¨çš„æˆå‘˜å˜é‡å’Œæ„é€ æ–¹æ³•" class="headerlink" title="è®¾è®¡é“¾è¡¨çš„æˆå‘˜å˜é‡å’Œæ„é€ æ–¹æ³•"></a>è®¾è®¡é“¾è¡¨çš„æˆå‘˜å˜é‡å’Œæ„é€ æ–¹æ³•</h1><p>æˆ‘ä»¬å…ˆæ¥è€ƒè™‘ä¸€ä¸‹æ€ä¹ˆå»è®¾è®¡é“¾è¡¨ç±»ä¸­çš„æˆå‘˜å˜é‡å†æ¥çœ‹çœ‹æ€ä¹ˆè®¾è®¡æ„é€ å‡½æ•°</p>
<p>é¦–å…ˆæˆ‘ä»¬éœ€è¦ä¸€ä¸ªå˜é‡å¯ä»¥è¡¨ç¤ºå½“å‰é“¾è¡¨ä¸­å…±æœ‰å¤šå°‘ä¸ªèŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯é“¾è¡¨çš„å¤§å°ã€‚sizeå˜é‡æ˜¯æ²¡è·‘äº†ã€‚<br>å¦å¤–å›é¡¾ä¸€ä¸‹åˆšåˆšçš„ä¾‹å­ï¼Œåœ¨å“ªä¸ªç­çº§ä¸­å¦‚æœè€å¸ˆéœ€è¦æ‰¾åˆ°ä¸€ä¸ªç­çº§ä¸­çš„æŸä¸ªç¡®å®šçš„å­¦ç”Ÿæ—¶ï¼Œç¬¬ä¸€ä¸ªæ‰¾çš„å…¶å®æ˜¯é“¾è¡¨å¤´åŒå­¦ï¼Œæ ¹æ®é“¾è¡¨å¤´å»ä¸€ä¸ªä¸ªæ‰¾ä¸‹å»ç›´åˆ°æ‰¾åˆ°ä¸ºæ­¢ã€‚<br>æ‰€ä»¥åœ¨æˆ‘ä»¬è®¾è®¡çš„é“¾è¡¨ç±»ä¸­éœ€è¦ä¸€ä¸ªå¤´èŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œå®šä¹‰ä¸€ä¸ª<strong>Nodeå˜é‡</strong>ä½œä¸ºæŒ‡é’ˆã€‚</p>
<p>åˆšåˆšçš„ä¾‹å­ä¸­åœºæ™¯äºŒæ¥ä¸€ä¸ªæ’ç­ç”Ÿæˆ‘ä»¬å°†æ’ç­ç”Ÿæ’åœ¨äº†ç¬¬ä¸€ä¸ªä½ç½®ã€‚ç›´æ¥è®©æ’ç­ç”Ÿå»è®°ä½åŸæ¥çš„é“¾è¡¨å¤´å†å°†é“¾è¡¨å¤´æŒ‡å‘æ’ç­ç”Ÿã€‚è®¾æƒ³ä¸€ä¸‹ï¼Œå¦‚æœæ˜¯æ’å…¥åœ¨é“¾è¡¨çš„ä¸­é—´å‘¢ï¼Ÿ<br>æ¯”å¦‚æ’å…¥åœ¨ç¬¬äºŒä¸ªå­¦ç”Ÿçš„ä½ç½®ã€‚éœ€è¦æ’ç­ç”Ÿå»è®°ä½åŸæ¥çš„ç¬¬äºŒä¸ªåŒå­¦ï¼Œå†è®©åŸæ¥çš„ç¬¬ä¸€ä¸ªåŒå­¦æŠŠè®°å¿†çš„ç¬¬äºŒä¸ªåŒå­¦æ¢æˆæ’ç­ç”ŸåŒå­¦ã€‚ä¹Ÿå°±æ˜¯è¯´å¦‚æœæ˜¯æ’å…¥åœ¨ä¸­é—´çš„å…ƒç´ è¦å¤šä¸€æ­¥è®©å‰é¢çš„åŒå­¦å»è®°æ’ç­ç”ŸåŒå­¦ï¼Œè€Œæ’å…¥åœ¨ç¬¬ä¸€ä¸ªåˆ™ä¸éœ€è¦ã€‚</p>
<p>é’ˆå¯¹ä¸Šé¢çš„æƒ…å†µæˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸€ä¸ªè™šæ‹Ÿçš„å¤´èŠ‚ç‚¹æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚è¿™ä¸ªè™šæ‹Ÿçš„èŠ‚ç‚¹æ¥æŒ‡å‘æˆ‘ä»¬é“¾è¡¨ä¸­çœŸæ­£çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¯¹å¤–å‘¢ï¼Œå±è”½è¿™ä¸ªèŠ‚ç‚¹çš„å­˜åœ¨ã€‚æ•…æ­¤æˆ‘ä»¬å°†ä¸Šé¢å†³å®šè¦å®šä¹‰çš„<strong>Nodeå˜é‡</strong>æ”¹æˆ<strong>dummyHead</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> size;</span><br><span class="line"><span class="keyword">private</span> Node dummyHead; <span class="comment">// è™šæ‹Ÿå¤´èŠ‚ç‚¹</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ„é€ æ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">LinkedList</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    dummyHead = <span class="keyword">new</span> Node(<span class="keyword">null</span>, <span class="keyword">null</span>);</span><br><span class="line">    size = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–¹ä¾¿ç”¨æˆ·ä¼ å…¥ä¸€ä¸ªæ•°ç»„å°†å…¶è½¬æ¢æˆé“¾è¡¨çš„æ„é€ æ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">LinkedList</span><span class="params">(E[] arrayE)</span> </span>&#123;</span><br><span class="line">    dummyHead = <span class="keyword">new</span> Node(<span class="keyword">null</span>, <span class="keyword">null</span>);</span><br><span class="line">    size = arrayE.length;</span><br><span class="line"></span><br><span class="line">    Node cur = dummyHead;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = arrayE.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        cur.next = <span class="keyword">new</span> Node(arrayE[i], cur.next);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾è®¡ä¸¤ä¸ªæ–¹ä¾¿ä½¿ç”¨çš„æ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getSize</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> size; &#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> size == <span class="number">0</span>; &#125;</span><br></pre></td></tr></table></figure>

<h1 id="é“¾è¡¨ä¸­æ’å…¥å…ƒç´ "><a href="#é“¾è¡¨ä¸­æ’å…¥å…ƒç´ " class="headerlink" title="é“¾è¡¨ä¸­æ’å…¥å…ƒç´ "></a>é“¾è¡¨ä¸­æ’å…¥å…ƒç´ </h1><p>æˆ‘ä»¬æ¥ç ”ç©¶ä¸€ä¸‹å‰é¢çš„ä¾‹å­æ˜¯æ€ä¹ˆåœ¨ä¸€ä¸ªç­çº§ä¸­æ’å…¥æ’ç­ç”Ÿçš„ã€‚</p>
<blockquote>
<p>é¦–å…ˆï¼Œå¾—è¦æœ‰ä¸€ä¸ªæ’ç­ç”Ÿï¼Œè¿™ä¸ªä¸ç”¨æƒ³è‚¯å®šæ˜¯å¿…é¡»çš„ï¼Œå¥½äº†ï¼Œæ’å…¥åŠŸèƒ½æ ¸å¿ƒä»£ç çš„<strong>ç¬¬ä¸€æ­¥</strong>ä¹Ÿå°±å‡ºæ¥äº†ã€‚<br>ç„¶åæˆ‘ä»¬å¾—è¦å»æ‰¾åˆ°æ’ç­ç”Ÿè¦æ’å…¥çš„ä½ç½®ï¼Œåœ¨è¿™é‡Œå‘¢æˆ‘ä»¬è™šæ‹Ÿä¸€ä¸ªindexï¼ˆä¸‹æ ‡ï¼‰çš„æ¦‚å¿µå‡ºæ¥ï¼Œæ–¹ä¾¿ç”¨æˆ·æŒ‡å®šè¦æ’å…¥çš„ä½ç½®ï¼Œæ ¸å¿ƒåŠŸèƒ½çš„<strong>ç¬¬äºŒæ­¥</strong>ä¹Ÿå°±å‡ºæ¥äº†ã€‚<br>æ‰¾åˆ°ä½ç½®ä¹Ÿæœ‰æ’ç­ç”Ÿä¹‹åçš„é—®é¢˜å°±æ˜¯è¦æŠŠæ’ç­ç”Ÿæ’å…¥åˆ°ç­çº§é‡Œé¢å»å•¦ï¼Œè¿™ä¸ªäº‹æƒ…è¦æ€ä¹ˆåšå‘¢ã€‚<br>æ¯”æ–¹è¯´æˆ‘ç°åœ¨æ˜¯è¦æ’å…¥åˆ°ç¬¬äºŒä¸ªä½ç½®å»ï¼Œé‚£ä¹ˆæˆ‘éœ€è¦å…ˆè®©æ’ç­ç”Ÿå»è®°å¿†åŸæ¥çš„ç¬¬äºŒä¸ªä½ç½®çš„åŒå­¦ï¼Œè¿™ä¹Ÿæ˜¯<strong>ç¬¬ä¸‰æ­¥</strong>ã€‚<br>ç„¶åè®©ç¬¬ä¸€ä¸ªåŒå­¦ä¸è¦å»è®°åŸæ¥çš„ç¬¬äºŒä¸ªåŒå­¦äº†ï¼Œæ¢æˆæ˜¯æ’ç­ç”ŸåŒå­¦ï¼Œ<strong>ç¬¬å››æ­¥</strong>ã€‚<br>åˆ°æ­¤ä¸ºæ­¢ï¼Œè¿™ä¸ªæ’å…¥çš„åŠ¨ä½œå°±å®Œæˆäº†ã€‚</p>
</blockquote>
<p>å°†ä¸Šé¢çš„å„ä¸ªæ­¥éª¤ä»¥ç¨‹åºçš„æ–¹å¼é‡æ–°æ¢³ç†ä¸€é<br>ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºä¸€ä¸ªæ–°çš„èŠ‚ç‚¹ <code>new Node()</code><br>ç¬¬äºŒæ­¥ï¼šä½¿ç”¨ä¸€ä¸ªforå¾ªç¯æ‰¾åˆ°è¦æ’å…¥ä½ç½®çš„å‰ä¸€ä¸ªèŠ‚ç‚¹å’Œåä¸€ä¸ªèŠ‚ç‚¹<br>ç¬¬ä¸‰æ­¥ï¼šå°†ç¬¬ä¸€æ­¥åˆ›å»ºå‡ºæ¥çš„èŠ‚ç‚¹çš„<code>next</code>æŒ‡é’ˆæŒ‡å‘ç¬¬äºŒæ­¥æ‰¾å‡ºæ¥çš„åä¸€ä¸ªèŠ‚ç‚¹<br>ç¬¬å››æ­¥ï¼šå°†ç¬¬äºŒæ­¥æ‰¾å‡ºæ¥çš„å‰ä¸€ä¸ªèŠ‚ç‚¹çš„<code>next</code>æŒ‡é’ˆæŒ‡å‘ç¬¬ä¸€æ­¥åˆ›å»ºçš„èŠ‚ç‚¹</p>
<p>å°†ä¸Šé¢çš„é€»è¾‘ç»„ç»‡ä¸€ä¸‹æ¢æˆJavaè¯­è¨€</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(E e, <span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ä¸‹æ ‡çš„æ ¡éªŒï¼Œä¸å±äºæ’å…¥çš„æ ¸å¿ƒä»£ç </span></span><br><span class="line">    <span class="keyword">if</span> (index &lt; <span class="number">0</span> || index &gt; size) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"index "</span> + index + <span class="string">" ä¸åˆæ³•, å½“å‰size = "</span> + size);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç¬¬ä¸€æ­¥</span></span><br><span class="line">    Node node= <span class="keyword">new</span> Node(e);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç¬¬äºŒæ­¥ï¼š</span></span><br><span class="line">    <span class="comment">// ä½¿ç”¨ä¸€ä¸ªprevå˜é‡å»ä½œä¸ºä¸€ä¸ªä¸­é—´é‡å»å¯»æ‰¾è¦æ’å…¥çš„èŠ‚ç‚¹ä½ç½®</span></span><br><span class="line">    <span class="comment">// è¿™é‡Œçš„prevå°±æ˜¯å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç”±äºè¿˜æ²¡æœ‰æ’å…¥ï¼Œæ‰€ä»¥prev.nextå°±æ˜¯è¦æ’å…¥çš„åä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">    Node prev = dummyHead;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; index; i++) &#123;</span><br><span class="line">        prev = prev.next;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç¬¬ä¸‰æ­¥</span></span><br><span class="line">    node.next = prev.next;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç¬¬å››æ­¥</span></span><br><span class="line">    prev.next = node;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç»´æŠ¤ä¸€ä¸‹sizeå˜é‡</span></span><br><span class="line">    size++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šä¾¿æ˜¯æ·»åŠ æ“ä½œçš„æ–¹æ³•ï¼Œä½†è¿™è¿˜ä¸æ˜¯æœ€å¥½ã€‚</p>
<p>ä¸Šé¢çš„ä»£ç è™½è¯´æ˜¯å®Œæˆäº†è¿™ä¸ªæ·»åŠ åŠ¨ä½œçš„é€»è¾‘ï¼Œä¹Ÿèƒ½å¤Ÿé¡ºé¡ºåˆ©åˆ©çš„è¿è¡Œèµ·æ¥ï¼Œä½†è¿™è¿˜ä¸å¤Ÿä¼˜é›…ã€‚<br>å®é™…ä¸Šæˆ‘ä»¬å¯ä»¥å°†ç¬¬ä¸€æ­¥ã€ç¬¬ä¸‰æ­¥å’Œç¬¬å››æ­¥åˆå¹¶æˆä¸€è¡Œä»£ç <br>åˆ›å»ºä¸€ä¸ªæ–°çš„èŠ‚ç‚¹ç›´æ¥å°†<code>prev.next</code>èµ‹å€¼ç»™æ–°èŠ‚ç‚¹çš„<code>next</code>ï¼Œå†ç›´æ¥èµ‹å€¼ç»™<code>prev.next</code>ã€‚<br>åƒä¸‹é¢è¿™ä¸ªæ ·å­</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(E e, <span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (index &lt; <span class="number">0</span> || index &gt; size) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">"index "</span> + index + <span class="string">" ä¸åˆæ³•, å½“å‰size = "</span> + size);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Node prev = dummyHead;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; index; i++) &#123;</span><br><span class="line">        prev = prev.next;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åŸæ¥çš„ç¬¬ä¸€æ­¥ã€ç¬¬äºŒæ­¥å’Œç¬¬å››æ­¥</span></span><br><span class="line">    prev.next = <span class="keyword">new</span> Node(e, prev.next);</span><br><span class="line">    size++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<blockquote>
<p>æ’ä¸€å¥é¢˜å¤–è¯<br>å…¶å®ç¼–å†™ç¨‹åºï¼Œå°±æ˜¯åƒä¸Šé¢è¿™æ ·å­ä¸€æ­¥ä¸€æ­¥å»è€ƒè™‘å‡ºè¿™ä¸ªç¨‹åºæ ¸å¿ƒä»£ç çš„æ­¥éª¤ã€‚<br>ç„¶åå†æŠŠè¿™ä¸ªç®€å•çš„æŒ‰ç…§ç¨‹åºé€»è¾‘æ¢³ç†ä¸€éï¼Œå†å¼€å§‹å®é™…ç¼–ç ã€‚ä¹Ÿæ°æ°æ˜¯è¿™ä¸¤æ­¥æ‰æ˜¯æœ€å…³é”®çš„ï¼Œè€Œä¸æ˜¯ç¼–ç ï¼Œæœ‰äº†æ¢³ç†å®Œçš„é€»è¾‘å®é™…ç¼–ç èµ·æ¥ç éšå¿ƒåŠ¨å€’è¿˜æ˜¯ä¸ªæŒºèˆ’æœçš„è¿‡ç¨‹ã€‚<br>æœ€åå†å®¡è§†ä¸€éè‡ªå·±å†™å‡ºæ¥çš„ä»£ç ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰åœ°æ–¹å¯ä»¥æ”¹è¿›ï¼Œå¯ä»¥å†™çš„æ›´åŠ çš„ä¼˜é›…ä¸€äº›</p>
</blockquote>
<hr>
<h1 id="åˆ é™¤é“¾è¡¨ä¸­çš„å…ƒç´ "><a href="#åˆ é™¤é“¾è¡¨ä¸­çš„å…ƒç´ " class="headerlink" title="åˆ é™¤é“¾è¡¨ä¸­çš„å…ƒç´ "></a>åˆ é™¤é“¾è¡¨ä¸­çš„å…ƒç´ </h1><p>æˆ‘ä»¬æ¥æ¢ä¸ªæ–¹å¼å†™åˆ é™¤æ“ä½œï¼Œåœ¨å‰é¢çš„æ·»åŠ æ“ä½œä¸­æˆ‘ä»¬è®¾ç½®äº†ä¸€ä¸ªè™šæ‹Ÿçš„indexè¡¨ç¤ºçš„æ˜¯ä¸‹æ ‡ï¼Œä½œç”¨æ˜¯æ–¹ä¾¿ç”¨æˆ·æ“ä½œã€‚åœ¨åˆ é™¤çš„è¿™ä¸€å°èŠ‚æˆ‘ä»¬ä¸ä½¿ç”¨è¿™ä¸ªindexæˆ‘ä»¬å‡è®¾ç”¨æˆ·èƒ½å¤Ÿç›´åˆ°è‡ªå·±è¦åˆ é™¤çš„å…ƒç´ ï¼Œç›´æ¥ä¼ å…¥å¾…åˆ é™¤å…ƒç´ ï¼Œç„¶åç¨‹åºå°†å…¶åˆ é™¤å³å¯ã€‚</p>
<p>åˆ é™¤å…ƒç´ å®é™…ä¸Šå°±æ˜¯æ·»åŠ å…ƒç´ çš„é€†å‘æ“ä½œï¼Œæ‰¾åˆ°å¾…åˆ é™¤èŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå°†è¿™ä¸ªèŠ‚ç‚¹ç›´æ¥æŒ‡å‘å¾…åˆ é™¤å…ƒç´ çš„åä¸€ä¸ªèŠ‚ç‚¹å³å¯åˆ é™¤ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">(E e)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// æ‰¾åˆ°è¦åˆ é™¤å…ƒç´ çš„å‰ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">    Node prev = dummyHead;</span><br><span class="line">    <span class="keyword">while</span>(!prev.next.e.equals(e)) &#123;</span><br><span class="line">        prev = prev.next;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å°†è¦åˆ é™¤å…ƒç´ å‰ä¸€ä¸ªå…ƒç´ çš„æŒ‡é’ˆç›´æ¥æŒ‡å‘è¦åˆ é™¤å…ƒç´ çš„åä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">    prev.next = prev.next.next;</span><br><span class="line"></span><br><span class="line">    size--;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å°†ä¸Šé¢çš„ä»£ç ä½¿ç”¨é€’å½’çš„æ–¹å¼å†™å‡ºæ¥</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">(E e)</span> </span>&#123;</span><br><span class="line">    remove(e, dummyHead);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">(E e, Node node)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (node.next.e.equlas(e)) &#123;</span><br><span class="line">        node.next = node.next.next;</span><br><span class="line">        size --;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    remove(e, node.next);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å®é™…ä¸Šé“¾è¡¨è¿™æ ·çš„æ•°æ®ç»“æ„å¤©ç„¶çš„é€‚åˆé€’å½’ï¼Œåœ¨å¾ˆå¤šåœºåˆéƒ½å¯ä»¥ä½¿ç”¨é€’å½’å»æ“ä½œä¸€ä¸ªé“¾è¡¨ã€‚</p>
<hr>
<p>ä»¥ä¸Šä»£ç éƒ½æ˜¯ç¬”è€…è‡ªå·±å†™çš„ï¼Œå¹¶æ²¡æœ‰æ‰§è¡Œè¿‡ã€‚å¦‚æœæœ‰äº›é”™è¯¯çš„åœ°æ–¹ï¼Œè¿˜çƒ¦è¯·åœ¨è¯„è®ºåŒºæŒ‡å‡ºã€‚<br>å¤§å®¶åŠ æ²¹ï¼šï¼‰</p>
]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>é“¾è¡¨</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€éšç¬”01ã€‘Linux åˆ‡æ¢é˜¿é‡Œäº‘ yum æº</title>
    <url>/posts/40578/</url>
    <content><![CDATA[<blockquote>
<p>è®°å½•ç‚¹æ»´ï¼Œåˆ†äº«ä¸–ç•Œã€‚Hello Worldï¼ï¼šï¼‰</p>
</blockquote>
<a id="more"></a>

<p><a href="https://developer.aliyun.com/mirror" target="_blank" rel="noopener" title="é˜¿é‡Œäº‘å®˜æ–¹æ–‡æ¡£">é˜¿é‡Œäº‘å®˜æ–¹æ–‡æ¡£</a><br>ç™¾åº¦æœç´¢ã€Œé˜¿é‡Œå·´å·´å¼€æºé•œåƒç«™ã€ä¹Ÿå¯ä»¥æœåˆ°é˜¿é‡Œäº‘çš„å®˜æ–¹æ–‡æ¡£ã€‚</p>
<p><img src="https://wrp-blog-image.oss-cn-beijing.aliyuncs.com/blog-images/20200709204009.png" alt="20200709204009"></p>
<h3 id="CentOS"><a href="#CentOS" class="headerlink" title="CentOS"></a>CentOS</h3><ol>
<li><p><strong>å¤‡ä»½</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">mv &#x2F;etc&#x2F;yum.repos.d&#x2F;CentOS-Base.repo &#x2F;etc&#x2F;yum.repos.d&#x2F;CentOS-Base.repo.backup</span><br></pre></td></tr></table></figure></li>
<li><p><strong>ä¸‹è½½æ–°çš„ CentOS-Base.repo åˆ° /etc/yum.repos.d/</strong></p>
<p> <strong>CentOS 6</strong></p>
 <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">wget -O &#x2F;etc&#x2F;yum.repos.d&#x2F;CentOS-Base.repo https:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;repo&#x2F;Centos-6.repo</span><br></pre></td></tr></table></figure>
<p> æˆ–è€…</p>
 <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">curl -o &#x2F;etc&#x2F;yum.repos.d&#x2F;CentOS-Base.repo https:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;repo&#x2F;Centos-6.repo</span><br></pre></td></tr></table></figure>

<p> <strong>CentOS7</strong></p>
 <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">wget -O &#x2F;etc&#x2F;yum.repos.d&#x2F;CentOS-Base.repo https:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;repo&#x2F;Centos-7.repo</span><br></pre></td></tr></table></figure>
<p> æˆ–è€…</p>
 <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">curl -o &#x2F;etc&#x2F;yum.repos.d&#x2F;CentOS-Base.repo https:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;repo&#x2F;Centos-7.repo</span><br></pre></td></tr></table></figure>

<p> <strong>CentOS8</strong></p>
 <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">wget -O &#x2F;etc&#x2F;yum.repos.d&#x2F;CentOS-Base.repo https:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;repo&#x2F;Centos-8.repo</span><br></pre></td></tr></table></figure>
<p> æˆ–è€…</p>
 <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">curl -o &#x2F;etc&#x2F;yum.repos.d&#x2F;CentOS-Base.repo https:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;repo&#x2F;Centos-8.repo</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>è¿è¡Œ <code>yum makecache</code> ç”Ÿæˆç¼“å­˜</strong></p>
</li>
</ol>
]]></content>
      <categories>
        <category>éšç¬”</category>
      </categories>
      <tags>
        <tag>éšç¬”</tag>
        <tag>Linux</tag>
        <tag>é˜¿é‡Œäº‘</tag>
        <tag>yum</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€éšç¬”04ã€‘èµ„æ–™é“¾æ¥</title>
    <url>/posts/32657/</url>
    <content><![CDATA[<blockquote>
<p>è®°å½•ç‚¹æ»´ï¼Œåˆ†äº«ä¸–ç•Œã€‚Helloï¼ŒWorldï¼</p>
</blockquote>
<a id="more"></a>

<h1 id="Redisèµ„æ–™ç›¸å…³è¿æ¥"><a href="#Redisèµ„æ–™ç›¸å…³è¿æ¥" class="headerlink" title="Redisèµ„æ–™ç›¸å…³è¿æ¥"></a>Redisèµ„æ–™ç›¸å…³è¿æ¥</h1><p><a href="https://redis.io" target="_blank" rel="noopener">Rediså®˜ç½‘</a><br><a href="https://redis.cn" target="_blank" rel="noopener">Redisä¸­æ–‡ç½‘</a><br><a href="https://www.runoob.com/redis/redis-tutorial.html" target="_blank" rel="noopener">Redisèœé¸Ÿæ•™ç¨‹</a><br><a href="http://download.redis.io/releases/" target="_blank" rel="noopener">Redisä¸‹è½½åœ°å€ï¼ˆLinuxï¼‰</a><br><a href="https://github.com/tporadowski/redis/releases" target="_blank" rel="noopener">Redisä¸‹è½½åœ°å€ï¼ˆWindowï¼‰</a></p>
<h1 id="é•œåƒ"><a href="#é•œåƒ" class="headerlink" title="é•œåƒ"></a>é•œåƒ</h1><p><a href="https://mirrors.tuna.tsinghua.edu.cn/" target="_blank" rel="noopener">æ¸…åå¤§å­¦å¼€æºè½¯ä»¶é•œåƒç«™</a></p>
]]></content>
      <categories>
        <category>éšç¬”</category>
      </categories>
      <tags>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€éšç¬”02ã€‘Linux å®‰è£… Nginx</title>
    <url>/posts/62048/</url>
    <content><![CDATA[<blockquote>
<p>è®°å½•ç‚¹æ»´ï¼Œåˆ†äº«ä¸–ç•Œã€‚Hello Worldï¼ï¼šï¼‰</p>
</blockquote>
<a id="more"></a>

<p>é¦–å…ˆéœ€è¦å®‰è£… Nginx çš„ä¾èµ–åŒ…</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">yum -y install gcc pcre-devel zlib-devel openssl openssl-devel</span><br></pre></td></tr></table></figure>

<h2 id="ä¸‹è½½å®‰è£…"><a href="#ä¸‹è½½å®‰è£…" class="headerlink" title="ä¸‹è½½å®‰è£…"></a>ä¸‹è½½å®‰è£…</h2><h4 id="1-ä¸‹è½½-Nginx-åˆ°-Linux-ç³»ç»Ÿä¸­"><a href="#1-ä¸‹è½½-Nginx-åˆ°-Linux-ç³»ç»Ÿä¸­" class="headerlink" title="1.ä¸‹è½½ Nginx åˆ° Linux ç³»ç»Ÿä¸­"></a>1.ä¸‹è½½ Nginx åˆ° Linux ç³»ç»Ÿä¸­</h4><p>åœ¨ <a href="https://nginx.org/download/" target="_blank" rel="noopener">Nginxå®˜ç½‘</a> ä¸­é€‰æ‹©è‡ªå·±åˆé€‚çš„å‹ç¼©åŒ…åä½¿ç”¨ wget ä¸‹è½½ã€‚<br><img src="https://wrp-blog-image.oss-cn-beijing.aliyuncs.com/blog-images/20200708203138.png" alt="20200708203138"></p>
<h4 id="2-è§£å‹å®‰è£…åŒ…"><a href="#2-è§£å‹å®‰è£…åŒ…" class="headerlink" title="2.è§£å‹å®‰è£…åŒ…"></a>2.è§£å‹å®‰è£…åŒ…</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">tar -zxvf nginx-1.9.9.tar.gz</span><br></pre></td></tr></table></figure>
<p>è§£å‹å®Œæˆä¹‹åä¸‹è½½éƒ¨åˆ†å°±ç»“æŸäº†ï¼Œå¯ä»¥è¿›è¡Œå®‰è£…</p>
<h4 id="3-ç¼–è¯‘"><a href="#3-ç¼–è¯‘" class="headerlink" title="3.ç¼–è¯‘"></a>3.ç¼–è¯‘</h4><p>é¦–å…ˆè¿›å…¥ Nginx çš„å®‰è£…ç›®å½•ä¸‹ï¼Œä¹Ÿå°±æ˜¯åˆšåˆšè§£å‹çš„ç›®å½•</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cd &#x2F;usr&#x2F;local&#x2F;nginx-1.9.9</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥ç¼–è¯‘ï¼Œè¿è¡Œ <code>configure</code> æ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.&#x2F;configure</span><br></pre></td></tr></table></figure>

<p>å¦‚æœé…ç½® https è®¿é—®åˆ™éœ€è¦åœ¨ç¼–è¯‘æ—¶æ·»åŠ  <code>http_v2_module</code> å’Œ <code>http_ssl_module</code> è¿™ä¸¤ä¸ªæ¨¡å—</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.&#x2F;configure --with-http_v2_module --with-http_ssl_module</span><br></pre></td></tr></table></figure>

<h4 id="4-å®‰è£…"><a href="#4-å®‰è£…" class="headerlink" title="4.å®‰è£…"></a>4.å®‰è£…</h4><p>ç›´æ¥åœ¨ Nginx çš„å®‰è£…ç›®å½•ä¸­æ‰§è¡Œä»¥ä¸‹ä¸¤ä¸ªå‘½ä»¤</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure>
<p>è‡³æ­¤ï¼ŒNginx å°±ç®—æ˜¯å®‰è£…æˆåŠŸäº†ï¼Œè¿›å…¥ <code>sbin</code> ç›®å½•ä¸‹æ‰§è¡Œ <code>./ngnix</code> å°±å¯ä»¥å°† Nginx çš„æœåŠ¡æˆåŠŸå¯åŠ¨èµ·æ¥ã€‚<br>åœ¨æœ‰äº›ç¯å¢ƒä¸‹å¯èƒ½ä¼šæŠ¥ä¸¤ä¸ªæ—¥å¿—æ–‡ä»¶æ‰¾ä¸åˆ°ï¼Œç›´æ¥åˆ›å»ºè¿™ä¸¤ä¸ªæ–‡ä»¶å³å¯</p>
<h2 id="é…ç½®ç¯å¢ƒå˜é‡"><a href="#é…ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="é…ç½®ç¯å¢ƒå˜é‡"></a>é…ç½®ç¯å¢ƒå˜é‡</h2><p>ç¼–è¾‘ <code>/etc/profile</code> æ–‡ä»¶ï¼Œåœ¨æœ€åæ·»åŠ ä»¥ä¸‹ä»£ç å³å¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">export PATH&#x3D;$PATH:&#x2F;usr&#x2F;local&#x2F;nginx&#x2F;sbin</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­ï¼Œè¦å°† Nginx çš„å®‰è£…ç›®å½•æ”¹ä¸ºåˆšåˆšå®‰è£…çš„ç›®å½•</p>
<h4 id="5-å¸¸ç”¨å‘½ä»¤"><a href="#5-å¸¸ç”¨å‘½ä»¤" class="headerlink" title="5.å¸¸ç”¨å‘½ä»¤"></a>5.å¸¸ç”¨å‘½ä»¤</h4><p>å¯åŠ¨ Nginx</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">nginx</span><br></pre></td></tr></table></figure>
<p>åœæ­¢ Nginx</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">nginx -s stop</span><br></pre></td></tr></table></figure>
<p>é‡å¯ Nginx</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">nginx -s reload</span><br></pre></td></tr></table></figure>

<h2 id="6-å¸¸ç”¨é…ç½®"><a href="#6-å¸¸ç”¨é…ç½®" class="headerlink" title="6.å¸¸ç”¨é…ç½®"></a>6.å¸¸ç”¨é…ç½®</h2><p>Nginx çš„é…ç½®æ–‡ä»¶éƒ½æ”¾åœ¨ conf ç›®å½•ä¸‹ï¼Œå…¶ä¸­æœ€é‡è¦çš„å°±æ˜¯ <code>nginx.conf</code> é…ç½®æ–‡ä»¶ã€‚</p>
<p>ä¸ºäº†ä½¿é…ç½®æ–‡ä»¶çœ‹èµ·æ¥æ›´åŠ èˆ’æœä¸€äº›ï¼Œæˆ‘ä»¬é€‰æ‹©æŠŠä¸€äº›ç«™ç‚¹é…ç½®å†™åˆ°å¤–é¢æ¥ï¼Œè€Œä¸æ˜¯ç›´æ¥å†™å…¥ <code>nginx.conf</code> æ–‡ä»¶ä¸­</p>
<p>åœ¨ conf æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ª hosts æ–‡ä»¶å¤¹ï¼Œä¹‹åå°†ä¸€äº›ç«™ç‚¹é…ç½®ä»¥ åŸŸå.conf çš„å½¢å¼å†™æˆæ–°çš„æ–‡ä»¶ä¿å­˜åœ¨ hosts æ–‡ä»¶å¤¹ä¸­</p>
<p>ä¹‹ååœ¨ nginx.conf æ–‡ä»¶çš„ http çš„å¤§æ‹¬å·å†…å¼•å…¥è‡ªå·±å†™çš„é…ç½®æ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">include hosts&#x2F;*.conf;</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„æœ€åé¢è¦åŠ åˆ†å· <code>;</code> </p>
<p>ä»¥ä¸Šä»…ä¸ºæœ¬äººä¹ æƒ¯</p>
<h4 id="é…ç½®é™æ€ç½‘ç«™"><a href="#é…ç½®é™æ€ç½‘ç«™" class="headerlink" title="é…ç½®é™æ€ç½‘ç«™"></a>é…ç½®é™æ€ç½‘ç«™</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">server&#123;</span><br><span class="line">    listen 80;</span><br><span class="line">    listen 443 ssl http2;</span><br><span class="line">    server_name ä½ çš„åŸŸå;</span><br><span class="line"></span><br><span class="line">    ssl_certificate &quot;sslè¯ä¹¦ fullchain.crt æ–‡ä»¶çš„ä½ç½®&quot;;</span><br><span class="line">    ssl_certificate_key &quot;sslè¯ä¹¦ private.pem æ–‡ä»¶çš„ä½ç½®&quot;;</span><br><span class="line">    ssl_protocols TLSv1.1 TLSv1.2;</span><br><span class="line">    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;</span><br><span class="line">    ssl_prefer_server_ciphers on;</span><br><span class="line">    ssl_session_cache shared:SSL:10m;</span><br><span class="line">    ssl_session_timeout 10m;</span><br><span class="line"></span><br><span class="line">    location &#x2F; &#123;</span><br><span class="line">        root è¦è½¬å‘çš„ç›®å½•;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<p>å¤§å®¶åŠ æ²¹ï¼šï¼‰</p>
]]></content>
      <categories>
        <category>éšç¬”</category>
      </categories>
      <tags>
        <tag>éšç¬”</tag>
        <tag>Linux</tag>
        <tag>Nginx</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€éšç¬”03ã€‘IDEAå¤šçº¿ç¨‹è°ƒè¯•</title>
    <url>/posts/29198/</url>
    <content><![CDATA[<blockquote>
<p>è®°å½•ç‚¹æ»´ï¼Œåˆ†äº«ä¸–ç•Œã€‚Hello Worldï¼ï¼šï¼‰ </p>
</blockquote>
<a id="more"></a>

<p><img src="https://wrp-blog-image.oss-cn-beijing.aliyuncs.com/blog-images/20200710230014.png" alt="20200710230014"></p>
<ol>
<li><strong>åœ¨ä»¥ä¸Šä»£ç æ–­ç‚¹å¤„ç‚¹å‡»é¼ æ ‡å³é”®</strong></li>
</ol>
<p><img src="https://wrp-blog-image.oss-cn-beijing.aliyuncs.com/blog-images/20200710230202.png" alt="20200710230202"></p>
<ol start="2">
<li><p><strong>é€‰æ‹© Thread åç‚¹å‡» Done</strong><br>All åœ¨è¿›å…¥æ–­ç‚¹åä¼šå°†æ•´ä¸ª JVM è™šæ‹Ÿæœºåœä¸‹æ¥<br>Thread ä»…ä¼šåœæ­¢è¿›å…¥æ–­ç‚¹çš„çº¿ç¨‹</p>
</li>
<li><p><strong>æ¥ç€é€‰æ‹© debug æ¨¡å¼å¯åŠ¨ main æ–¹æ³•</strong><br>è¿›å…¥æ–­ç‚¹åçš„ debug çª—å£å¦‚ä¸‹<br><img src="https://wrp-blog-image.oss-cn-beijing.aliyuncs.com/blog-images/20200710230742.png" alt="20200710230742">åœ¨ frames æ ‡ç­¾ä¸­å¯ä»¥é€šè¿‡ä¸‹æ‹‰åˆ—è¡¨é€‰æ‹©è¦æ‰§è¡Œçš„çº¿ç¨‹ï¼Œæ¥ç€å°±åƒå¹³æ—¶ä¸€æ ·ä¸€æ­¥ä¸€æ­¥çš„è®©ä»£ç èµ°ä¸‹å»å°±å¯ä»¥å•¦</p>
</li>
<li><p><strong>æŸ¥çœ‹çº¿ç¨‹çŠ¶æ€</strong><br><img src="https://wrp-blog-image.oss-cn-beijing.aliyuncs.com/blog-images/20200710232211.png" alt="20200710232211"><br>é¦–å…ˆç‚¹å‡»åˆ° Tread ç±»ä¸­çš„ run æ–¹æ³•é‡Œé¢å»ï¼Œå†ç‚¹å‡» Debugger Console æ ‡ç­¾æ æœ€å³è¾¹çš„åƒä¸€ä¸ªè®¡ç®—å™¨ä¸€æ ·çš„å“ªä¸ªæŒ‰é’®ï¼Œå¼¹å‡ºä¸€ä¸ª Evaluate æ¡†å‡ºæ¥å¯ä»¥è°ƒç”¨å½“å‰çº¿ç¨‹çš„ä¸€äº›æ–¹æ³•ï¼Œå…¶ä¸­ <code>getState()</code> æ–¹æ³•å°±å¯ä»¥æŸ¥çœ‹çº¿ç¨‹çŠ¶æ€å•¦</p>
</li>
</ol>
<hr>
<p>å¤§å®¶åŠ æ²¹ï¼šï¼‰</p>
]]></content>
  </entry>
</search>
